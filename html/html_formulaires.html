<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <meta name="author" content="Choquet Olivier & Vandenheede Driss">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Les formulaires - e-Syllabus HTML5 et CSS3</title>
        <!-- une icône dans la barre du navigateur -->
        <link rel="icon" href="../images/favicon.png" type="image/png">
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <!-- liens d'évitement -->
        <ul class="a11y-nav">
            <li>
                <a href="#container">Passer directement au contenu</a>
            </li>
            <li>
                <a href="#menu">Accéder au menu secondaire de la page</a>
            </li>
            <li>
                <a href="#aside">Accéder aux liens utiles</a>
            </li>
        </ul>
        <!-- bannière et menu -->
        <header role="banner">
            <div class="logoTitle">
                <h1>Cours d'introduction au Web</h1>
                <h2>HTML5 et CSS3</h2>
            </div>
            <nav role="navigation" aria-label="Menu principal de navigation">
                <ul>
                    <li><a href="../index.html">Le cours</a></li>
                    <li><a href="../internet.html">Internet</a></li>
                    <li><a href="../html5.html" class="current">HTML5</a></li>
                    <li><a href="../css3.html">CSS3</a></li>
                    <li><a href="../methodologie.html">Méthodologie</a></li>
                    <li><a href="../lexique.html">Lexique</a></li>
                    <li><a href="../supplements.html">Suppléments</a></li>
                </ul>
            </nav>
        </header>
        <main id="container" role="main" tabindex="-1">
            <div id="menu">
                <nav role="navigation">
                    <ol>
                        <li><a href="../html5.html">Retour au sommaire</a></li>
                        <li><a href="#intro">Introduction</a></li>
                        <li><a href="#fonctionnement">Le fonctionnement d'un formulaire</a></li>
                        <li><a href="#i_form">Écrire un formulaire</a></li>
                        <li><a href="#requetes">Les requêtes</a></li>
                        <li><a href="#i_input">Les inputs</a></li>
                        <li><a href="#i_textarea">Les champs de type textarea</a></li>
                        <li><a href="#i_select">Les menus déroulants</a></li>
                        <li><a href="#autres">fieldset, legend et label</a></li>
                        <li><a href="#style">La mise en page d'un formulaire</a></li>
                        <li><a href="#aide_saisie">L'aide à la saisie</a></li>
                        <li><a href="#captchas">Les captchas</a></li>
                        <li><a href="#selecteurs_specifiques_formulaires">Sélecteurs spécifiques aux formulaires</a></li>
                    </ol>
                </nav>
                <!-- aside lié à la page et pas à l'article donc pas à l'intérieur de article -->
                <aside id="aside">
                    <p>Liens utiles :</p>
                    <ul>
                        <li><a href="http://www.w3.org/" target="_blank">W3C</a></li>
                        <li><a href="http://fr.openclassrooms.com/informatique/cours/apprenez-a-creer-votre-site-web-avec-html5-et-css3" target="_blank">Open Classroom</a></li>
                        <li><a href="http://www.w3.org/TR/html5/" target="_blank">Norme HTML5</a></li>
                        <li><a href="http://www.w3schools.com/" target="_blank">W3Schools</a></li>
                        <li><a href="http://www.alsacreations.com/" target="_blank">Alsa Création</a></li>
                        <li><a href="https://www.youtube.com/c/LeDesignerduWeb/videos">Le Designer du web</a></li>
                    </ul>
                </aside>
            </div>
            <section id="mainSection">
                <article>
                    <h1>HTML 5 - Les formulaires :</h1>
                </article>
                <article>
                    <h2 id="intro">Introduction :</h2>
                    <p>Jusqu'à présent, nous n'avons envisagé que la possibilité d'afficher des pages simples (contenant du texte et des images). HTML permet bien plus que le simple affichage de texte, d'images, de liens, ...</p>
                    <p>Un serveur HTML peut également récupérer des données introduites par l'utilisateur au travers de pages HTML affichées dans son navigateur.</p>
                    <p>Le remplissage des formulaires est généralement une tâche fastidieuse pour les utilisateurs, surtout s'il y a beaucoup d'informations à renseigner. Cela est encore plus vrai pour une personne en situation de handicap.</p>
                    <p>De plus, si le formulaire n'est pas correctement réalisé, il est possible qu'il ne soit pas du tout utilisable par certains utilisateurs.</p>
                </article>
                <article>
                    <h2 id="fonctionnement">Le fonctionnement d'un formulaire :</h2>
                    <img src="../images/exempleForm.jpg" alt="exemple de formulaire" class="float_right">
                    <p>Le formulaire HTML permet de récupérer des informations que va saisir l'internaute sur une page HTML. L'internaute saisit ses informations soit en remplissant des champs texte (input, soit en sélectionnant un élément dans une liste déroulante (select) ou en sélectionnant une case à cocher (radio, checkbox). Une fois les informations saisies, l'internaute valide en cliquant sur un bouton de soumission (submit). Alors les informations sont transmises soit à une adresse e-mail (mailto) soit à un cgi (<a href="http://fr.wikipedia.org/wiki/Common_Gateway_Interface" target="_blank">Common Gateway Interface</a>), soit à une page dynamique de type php, node.js, asp, jsp...</p>
                    <p>Toutes les informations transmises lors de la soumission du formulaire sont rassemblées dans une requête, on parle de requêtes HTTP.</p>
                    <p>L'exemple ci-contre montre un formulaire d'inscription sur un site.</p>
                    <h3 id="i_form">Écrire un formulaire :</h3>
                    <h4 id="prerequis">Les prérequis :</h4>
                    <p>Il est important d'indiquer à l'utilisateur les prérequis pour compléter un formulaire, en l'occurence les documents nécessaires (dernier avis d'imposition, pièces justificativess...) ou les logiciels ou l'équipement matériel indispensables (imprimante, par exemple). Cela évite qu'au bout du processus, l'utilisateur se rende compte qu'il ne peut pas le finaliser.</p>
                    <h4 id="donnees_necessaires">Les données nécessaires :</h4>
                    <p>Il est également important de réfléchir à la pertinence des informations demandées à l'internaute via le formulaire. Cela va dans le sens du RGPD (Règlement Général sur la Proection des Données), qui indique que seules les informations nécessaires pour atteindre l'objectif doivet être collectées. Certaines questions peuvent provoquer de l'angoisse, de l'anxiété ou du stress. Soit il faut éviter de les poser; soit, si elles sont indispensables, il faut indiquer leur objectif et ne pas nécessairement rendre la réponse obligatoire. Par exemple, un formulaire demandant d'indiquer les revenus peut préciser que cela permet de rechercher d'éventuelles aides auxquelles la personne aurait droit et que ces informations ne seront pas enregistrées.</p>
                    <h4 id="egalite_femmes_hommes">L'égalité femmes-hommes :</h4>
                    <p>Contrairement à ce que nous pourrions penser, un formulaire peut être sexiste ! Le français ne nous aide pas pour ce qui est de la parité : en grammire, le masculin ne l'emporte-t-il pas sur le féminin ?! Dans un formulaire, il est possible, et souhaitable, de ne pas reproduire ce travers, même inconsciemment.</p>
                    <p>Tout d'abord l'ordre a de l'importance. Par exemple, pour saisir le sexe d'unepersonne, les choix devraient être dans l'ordre Féminin puis Masculin, ou Femme puis Homme, car cela respecte l'ordre alphabétique. Il est à noter que pour les titres(Madame, Monsieur), il ne faut pas proposer Mademoiselle (tout comme nous ne proposent pas Mondamoiseau) !</p>
                    <p>Remarque : Il existe également des personnes intersexuées (ne présentant pas les caractéristiques chromosomiques/hormonales/anatomiques ni du sexe féminin ni du sexe masculin). Il est alors légitime de se poser la question de proposer le genre neutre. À l'heure actuelle, la législation française ne reconnaît que féminin ou masculin comme sexe possible, malgré l'ajout du pronom "iel".</p>
                    <p>Ensuite, mieux vaut proposer les versions féminine et masculine (forme en doublet) des libellés affichés, en les ordonnant alphabétiquement, ou mieux encore utiliser des mots dont la graphie ne varie pas au féminin et au masculin (forme épicène). Par exemple, pour indiquer une profession :</p>
                    <ul>
                        <li>Auteur, Autrice</li>
                        <li>Conférencier, Conférencière</li>
                        <li>Développeur, Développeuse</li>
                        <li>Graphiste</li>
                    </ul>
                    <p>Les trois premières lignes sont des doublets et la quatrième est une forme épicène.</p>
                    <p>Remarque : Ces conseils peuvent sembler peu de choses, mais ils sont importants : ils contribuent à ce que chaque personne se sente légitime.</p>
                    <h4 id="modification_possible">La modification possible :</h4>
                    <p>Il est important que l'internaute ait la possibilité de modifier ses saisies ou ses choix précédents. Il ne faut pas que des champs soient désactivés après leur complétion. Des utilisateurs avec des déficiences cognitives ou motrices peuvent saisir des données erronnées, ils doivent pouvoir les corriger.</p>
                    <p>Un formulaire se définit par les balises <span class="html"><span class="em">&lt;form&gt;</span>...<span class="em">&lt;/form&gt;</span></span>.</p>
                    <p>Tous les champs d'input du formulaire doivent se trouver à l'intérieur de cet élément entre les balises <span class="html">&lt;form&gt;</span> et <span class="html">&lt;/form</span>.</p>
                    <p>Cette balise requière deux attributs :</p>
                    <dl>
                        <dt>
                            <span class="html" id="i_action"><span class="em">action</span> :</span>
                        </dt>
                        <dd>spécifie l'adresse d'envoi des données introduites par l'utilisateur par exemple l'adresse d'une page web référençant un script (<span class="html">http://serveur/script.php</span>) ou adresse e-mail (<span class="html">mailto:aftrddr.email@machine</span>).</dd>
                        <dt>
                            <span class="html" id="i_method"><span class="em">method</span> :</span>
                        </dt>
                        <dd>indique la méthode d'envoi "<span class="html">post</span>"  ou "<span class="html">get</span>.</dd>
                    </dl>
<pre class="taille80"><code><span class="em">&lt;form action</span>="URL/script" <span class="em">method</span>="get"<span class="em">&gt;</span>
Donnez votre accord en cochant la boîte ci-dessous et en soumettant votre réponse.&lt;br/&gt;
Oui, j'accepte cette proposition : <span class="em">&lt;input</span> type="checkbox" name="acceptation"<span class="em">&gt;</span>&lt;br&gt;
<span class="em">&lt;input</span> type="submit" value="soumettre"<span class="em">&gt;</span></code></pre>
                    <p>Voici ce qu'affiche le browser :</p>
                    <div class="affichageNav taille70">
                        <form action="URL/script" method="get">
                            Donnez votre accord en cochant la boîte ci-dessous et en soumettant votre réponse.<br />
                            Oui, j'accepte cette proposition : <input type="checkbox" name="acceptation"><br>
                            <input type="submit" value="soumettre">
                        </form>
                    </div>
                </article>
                <article>
                    <h2 id="requetes">Les requêtes get et post :</h2>
                    <p>Le client adresse ses requêtes au serveur en précisant l'URL de la ressouce demandée, la version du protocole et un ensemble d'informations facultatives (browser utilisé, jeu de caractères, encoding, ...).</p>
                    <p>Le HTTP est donc un protocole qui reçoit plusieurs types de requêtes dont les deux principales sont : <span class="html" id="i_get">get</span> et <span class="html" id="i_post">post</span>.</p>
                    <p>Avec un <span class="html">post</span>, le navigateur enpaquette les variables de la requête avant de l'envoyer au serveur alors que le <span class="html">get</span> ajoute les variables à la fin de l'URL, dans la barre d'adresse du navigateur, au moment d'envoyer la requête au serveyr. en bref, avec <span class="html">post</span>, les données sont envoyées dans la requête de façon invisible tandis qu'avec <span class="html">get</span>, les données sont ajoutées à l'URL à la vue de l'internaute.</p>
                    <table id="getpost">
                        <thead>
                            <tr>
                                <th>GET</th>
                                <th>POST</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Les variables sont ajoutées à la fin de l'URL dans la barre d'adresse du navigateur.</td>
                                <td>Les variables sont invisibles pour l'utilisateur car elles sont empaquetées.</td>
                            </tr>
                            <tr>
                                <td>Les requêtes get sont limitées à x caractères (souvent 1024, soit 2^10).</td>
                                <td>Les requêtes post de longueur illimitée.</td>
                            </tr>
                            <tr>
                                <td>On peut placer des signets (des marque-pages) sur des pages générées par des get.</td>
                                <td>Il est impossible de mettre un signet pour une page générée par un post.</td>
                            </tr>
                            <tr>
                                <td>On utilise la méthode get pour laisser la possibilité à l'utilisateur d'accéder à la page générée via un signet (sans retur préalable au formulaire), pour des petits paquets, ...</td>
                                <td>On utilise la méthode post pour des données confidentielles, pour des gros paquets, ...</td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="important">
                        <img src="../images/important.png" alt="Important" class="float_left">
                        <p>En tant que programmeur, vous devrez choisir dans vos formulaires entre la méthode GET ou POST. Il est donc essentiel de bien connaître et comprendre les différences entre ces deux méthodes.</p>
                    </div>
                    <p>Abordons maintenant le contenu d'un formulaire.</p>
                </article>
                <article>
                    <h2 id="i_input">Les input :</h2>
                    <p>L'élément <span class="html em">input</span> permet d'introduire dans une page HTML différents types d'entrée qui offrent, à l'utilisateur, différents moyens d'encoder des données. Dans cet élément, on peut préciser différents attributs :</p>
                    <ul>
                        <li><span class="html em">type</span> qui permet de définir le type d'input : <span class="html">text</span>, <span class="html">password</span>, <span class="html">checkbox</span>, ...</li>
                        <li><span class="html em">name</span>; voir ci-dessous.</li>
                        <li><span class="html em">value</span> qui précise la valeur de l'attribut précisé dans <span class="html">name</span>.</li>
                        <li><span class="html em">size</span> qui spécifie la taille de la zone (en caractères pour les zones contenant des caractères), sinon en pixels.</li>
                        <li><span class="html em">maxlength</span> qui spécifie la taille maximale de la zone (en caractères).</li>
                        <li><span class="html em">checked</span> qui préselectionne (pour les <span class="html">radio</span> et les <span class="html">checkbox</span>) l'élément si la valeur d'attribut vaut <span class="html">checked</span>.</li>
                        <li><span class="html em">placeholder</span> qui permet d'afficher un exemple de valeur. Attention à ne pas utiliser l'attribut <span class="em">placeholder</span> à la place d'un label. Cela pose des problèmes d'accessibilité à plusieurs types d'internautes. La couleur par défaut du texte de l'attribut <span class="em">placeholder</span> n'est pas suffisamment contrastée, mais il est difficile de la contraster plus, car elle risque d'être confondue avec une valeur saisie. Le second problème est que le texte inscrit dans le champ via l'attribut <span class="em">placeholder</span> disparaît dès le premier caractère saisi. Ainsi, les utilisateurs ayant des troubles de l'attention peuvent ne pas savoir ce qu'ils doivent saisir. Enfin, cela ne facilite pas la relecture une fois le formulaire complété.</li>
                        <li><span class="html em">required</span> qui permet d'indiquer qu'un champ est obligatoire.</li>
                        <li><span class="html em">tabindex</span> qui permet d'indiquer un ordre de tabulation.</li>
                        <li><span class="html em">accesskey</span> qui permet de créer un raccourci clavier.</li>
                    </ul>
                    <h3>L'attribut name :</h3>
                    <p>L'attribut <span class="html">name</span> spécifiele nom de l'attribut dans la requête. Ce nom doit être significatif; il ne comportera ni virgule, ni accent, ni espace, ...</p>
                    <p>Quand on soumet le formulaire, la requête est envoyé avec les différents attributs du formulaire. Ces attributs correspondent aux <span class="html">input</span> du formulaire. Ils sont transmis comme liste <span class="em">nom=valeur</span> (name=value).</p>
                    <p>Par exemple, dans un formualire, j'ai :</p>
                    <ul>
                        <li>un <span class="html">input</span> dont le <span class="html">name</span> est login.</li>
                        <li>un <span class="html">input</span> dont le <span class="html">name</span> est password.</li>
                    </ul>
                    <p>Si l'utilisateur entre les valeurs de login "toto" et de password "super" et soumet le formulaire, alors la requête contiendra les informations suivantes :</p>
                    <p class="html">login=toto</p>
                    <p class="html">password=super</p>
                    <h3>Les différents types d'input :</h3>
                    <dl>
                        <dt id="i_text"><span class="html">text</span> :</dt>
                        <dd>
                            <p>propose à l'utilisateur d'introduire une ligne de texte.</p>
                            <input type="text" value="exemple de capture de ligne" name="exemple_text" size="50" class="html">
                            <p>En HTML :</p>
<pre class="taille60"><code><span class="em">&lt;input</span> type="<span class="em">text</span>" value="exemple de capture de ligne name="exemple_text" size="50"<span class="em">&gt;</span></code></pre>
                        </dd>
                        <dt id="i_password"><span class="html">password</span> :</dt>
                        <dd>
                            <p>propose à l'utilisateur d'introduire une ligne de texte dissimulé, par exemple un mot de passe (les caractères introduits par l'utilisateur sont remplacés par des "*").</p>
                            <input type="password" name="password" name="exemple_password" placeholder="Entrez un mot de passe" size="8">
                            <p>En HTML :</p>
<pre><code><span class="em">&lt;input</span> type="<span class="em">text</span>" name="exemple_password" placeholder="Entrez un mot de passe" size="8"<span class="em">/&gt;</span></code></pre>
                        </dd>
                        <dt id="i_checkbox"><span class="html">checkbox</span> :</dt>
                        <dd>
                            <p>propose des cases à cocher, l'utilisateur peut choisir ou non la valeur proposée; ce type d'élément permet de choisir plusieurs options comme dans l'exemple suivant :</p>
                            <div class="taille50 affichageNav">
                                Marquez votre choix</br>
                                choix 1 : <input type="checkbox" name="choix[]" value="choix1"><br>
                                choix 2 : <input type="checkbox" name="choix[]" value="choix2"><br/>
                                choix 3 : <input type="checkbox" name="choix[]" value="choix3">
                            </div>
                            <p>En HTML :</p>
<pre class="taille60"><code>Marquez votre choix :<br>
choix 1 : <span class="em">&lt;input</span> type="<span class="em">checkbox</span>" name="choix[] value="choix1"<span class="em">&gt;</span>
choix 2 : <span class="em">&lt;input</span> type="<span class="em">checkbox</span>" name="choix[]" value="choix2"<span class="em">&gt;</span>
choix 3 : <span class="em">&lt;input</span> type="<span class="em">checkbox</span>" name="choix[]" value="choix3"<span class="em">&gt;</span></code></pre>
                        </dd>
                        <dt id="i_radio"><span class="html">boutons multiples (radio button)</span> :</dt>
                        <dd>
                            <p>propose un bouton d'option, la valeur est envoyée si le bouton est sélectionné.</p>
                            <p>Si plusieurs boutons sont rassemblés sous le même nom (le même attribut <span class="em">name</span>), le choix de l'utilisateur est exclusif pour faire en sorte de ne sélectionner qu'un seul d'entre eux.</p>
                            <p>Une personne utilisant un lecteur d'écran est informée de la manière suivante :</p>
                            <ul>
                                <li>Oui bouton radio bouton non coché (1 sur 2)</li>
                                <li>Non bouton radio bouton non coché (2 sur sur 2)</li>
                            </ul>
                            <p>Ainsi, elle sait qu'elle doit répondre soit oui soit non. En utilisant les balises <span class="html">&lt;fieldset&gt;</span> et <span class="html">&lt;legend&gt;</span> (voir plus bas), l'utilisateur avec un lecteur d'écran sait à quelle question il répond.</p>
                            <div class="taille50 affichageNav">
                                Marquez votre choix :</br>
                                choix 1 : <input type="radio" name="choix" value="choix1"><br>
                                choix 2 : <input type="radio" name="choix" value="choix2"><br/>
                                choix 3 : <input type="radio" name="choix" value="choix3">
                            </div>
                            <p>En HTML :</p>
<pre class="taille60"><code>Marquez votre choix :<br>
choix 1 : <span class="em">&lt;input</span> type="<span class="em">radio</span>" name="choix" value="choix1"<span class="em">&gt;</span>
choix 2 : <span class="em">&lt;input</span> type="<span class="em">radio</span>" name="choix" value="choix2"<span class="em">&gt;</span>
choix 3 : <span class="em">&lt;input</span> type="<span class="em">radio</span>" name="choix" value="choix3"<span class="em">&gt;</span></code></pre>
                        </dd>
                        <dt id="i_submit"><span class="html">submit</span> :</dt>
                        <dd>
                            <p>propose un bouton de soumission des données :</p>
                            <input type="submit" value="soumettre">
                            <p>En HTML :</p>
<pre class="taille60"><code><span class="em">&lt;input</span> type="<span class="em">submit</span>" value="soumettre"<span class="em">&gt;</span></code></pre>
                        </dd>
                        <dt id="i_reset"><span class="html">reset</span> :</dt>
                        <dd>
                            <p>propose un bouton de rétablissement (effacer le contenu des différents champs et les remplacer par les valeurs par défaut).</p>
                            <input type="reset" value="abandon">
                            <p>En HTML :</p>
<pre class="taille60"><code><span class="em">input</span> type="<span class="em">reset</span>" value="abandon"<span class="em">&gt;</span></code></pre>
                        </dd>
                        <dt id="i_file"><span class="html">file</span> :</dt>
                        <dd>
                            <p>propose à l'utilisateur d'intriduire l'emplacement d'un fichier.</p>
                            <div>
                                <input type="file" name="un_fichier">
                                <input type="hidden" name="MAX_FILE_SIZE" value="100000">
                            </div>
                            <p>En HTML :</p>
<pre class="taille60"><code><span class="em">&lt;form action</span>="URL/script" <span class="em">method</span>="post" <span class="em">enctype="multipart/form-data</span>&gt;
<span class="em">&lt;input</span> type="<span class="em">file</span>" name="un_fichier<span class="em">&gt;</span>
<span class="em">&lt;input</span> type="<span class="em">hidden</span>" name="MAX_FILE_SIZE" value="100000"<span class="em">&gt;</span></code></pre>
                            <div class="important">
                                <img src="../images/important.png" alt="Important" class="float_left">
                                <p>Remarquez que pour envoyer un fichier un champ caché (hidden) doit être spécifié.</p>
                                <p>Celui-ci indique la taille maximale du fichier qui pourra être envoyé.</p>
                                <p>Remarquez également l'ajout du paramètre enctype="multipart/form*data" dans la balise form.</p>
                            </div>
                            <p>L'attribut <span class="html">accept</span> prend comme valeur une liste séparée par des virgules d'un ou plusieurs types de fichiers, ou d'une spécification de type de fichiers à autoriser. Comme un type de fichier donné peut être identifié de plusieurs manières, il est utile de fournir un ensemble complet de spécificateurs de type lorsque vous avez besoin de fichiers d'un type spécifique, ou d'utiliser le joker pour indiquer qu'un type de n'importe quel format est accepté.</p>
                            <p>Par exemple, il existe un certain nombre de façons d'identifier les fichiers Microsoft Word, de sorte qu'un site qui accepte les fichiers Word pourrait utiliser un <span class="html">&lt;input&gt;</span> comme celui-ci :</p>
<pre class="taille60"><code>&lt;input type="file" id="docpicker" accept=".doc, .docx, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document"&gt;</code></pre>
                            <p>En revanche, si vous acceptez un fichier multimédia, vous pouvez inclure tout format de ce type de média :</p>
<pre class="taille60"><code>&lt;input type="file" id="soundFile" accept="audio/*"&gt;

&lt;input type="file" id="videoFile" accept="video/"&gt;

&lt;input type="file" id="imageFile" accept="image/*"&gt;</code></pre>
                            <p>L'attribut <span class="em">accept</span> ne valide pas les types de fichiers sélectionnés; il fournit des indications aux navigateurs pour guider les utilisateurs vers la sélection des bons types de fichiers. Il est toujours possible (dans la plupart des cas) pour les utilisateurs de basculer une option dans le sélecteur de fichiers qui permet de passer outre et de sélectionner le fichier de leur choix, puis de choisir des types de fichiers incorrects.</p>
                            <p>Pour cette raison, vous devez vous assurer que les exigences attendues sont validées côté serveur.</p>
                            <p>L'attribut booléen <span class="html">multiple</span>, s'il est défini, signifie que le contrôle de formulaire accepte une ou plusieurs valeurs.</p>
                        </dd>
                        <dt id="i_hidden"><span class="html">hidden</span> :</dt>
                        <dd>
                            <p>propose un champs caché pour forcer une valeur.</p>
                            <input type="hidden" name="abcedf" name="exemple_hidden">
                            <p>En HTML :</p>
<pre class="taille60"><code><span class="em">&lt;input</span> type="<span class="em">hidden</span> name="exemple_hidden"<span class="em">&gt;</span></code></pre>
                        </dd>
                        <dt id="i_image"><span class="html">image</span> :</dt>
                        <dd>
                            <p>propose un bouton illustré.</p>
                            <input type="image" src="../images/bouton.jpg" name="exemple_image" alt="bouton image">
                            <p>En HTML :</p>
<pre class="taille60"><code><span class="em">&lt;input</span> type="<span class="em">image</span>" src="../images/bouton.jpg" name="exemple_buton" alt="bouton image"<span class="em">&gt;</span></code></pre>                               
                        </dd>
                        <dt id="i_email"><span class="html">email</span> :</dt>
                        <dd>
                            <p>Il s'agit d'une nouveauté HTML5 permettant d'entrer une adresse email. Toujours dans cette idée de sémantique, il est conseillé d'utiliser ce champ pour les adresses e-mails de formulaires car ça force la présence d'un <span class="em">@</span> dans le texte.</p>
                            <div class="information">
                                <img src="../images/information.png" alt="Information" class="float_left">
                                <p>Cet élément possède un attribut <span class="html">pattern</span> utilse pour renseigner une expression régulière. Ceci aura pour effet d'avertir l'utilisateur si son adresse e-mail ne correspond pas à l'expression régulière. Voivi un <a href="http://www.regular-expressions.info/refquick.html" target="_blank">lien</a> vers plus d'informations sur les expressions régulières. Vous aurez l'occassion d'approfondir ce sujet au cours de vos études.</p>
                            </div>
                            <p>Entrez un email : <input type="email" name="exemple_email" pattern="(^[a-z0-9]+)@([a-z0-9])+(\.)([a-z]{2,4})"></p>
                            <p>En HTML :</p>
<pre class="taille60"><code><span class="em">&lt;input</span> type="<span class="em">email</span>" pattern="(^[a-z0-9]+)@([a-z0-9])+(\.)([a-z]{2,4})" name="exemple_email"<span class="em">&gt;</span></code></pre>
                        </dd>
                        <dt id="i_tel"><span class="html">tel</span> :</dt>
                        <dd>
                            <p>Il s'agit d'une nouveauté HTML5 permettant d'entrer un numéro de téléphone. Toujours dans cette idée de sémantique, il est conseillé d'utiliser ce champ pour les nuémros de téléphone dans les formulaires.</p>
                            <div class="information">
                                <img src="../images/information.png" alt="Information" class="float_left">
                                <p>Cet élément possède un attribut <span class="html">pattern</span> utile pour renseigner une expression régulière. Ceci aura pour effet d'avertir l'utilisateur si son numéro de téléphone ne correspond pas à l'expression régulière. Voici un <a href="http://www.regular-expressions.info/refquick.html" target="_blank">lien</a> vers plus d'informations sur les expressions régulières. Vous aurez l'occassion d'approfondir ce sujet au cours de vos études.</p>
                            </div>
                            <p>Entrez un tel : <input type="tel" name="exemple_tel" pattern="^0[0-9]{9}" placeholder="Entrez votre numéro de téléphone"></p>
                            <p>En HTML :</p>
<pre class="taille60"><code><span class="em">&lt;input</span> type="<span class="em">tel</span> " pattern="^0[0-9]{9}" placeholder="Entrez votre numéro de téléphone" name="exemple_tel"<span class="em">&gt;</span></code></pre>
                        </dd>
                        <dt id="i_date"><span class="html">date</span>, <span class="html">datetime</span>, <span class="html">time</span>, <span class="html">week</span>, <span class="html">month</span> :</dt>
                        <dd>
                            <p>Il s'agit d'une nouveauté HTML5 permettant d'entrer une date et/ou une heure. Toujours dans cette idée de sémantique, il est conseillé d'utiliser ce champ pour les dates et temps dans les formulaires. Regardez les attributs <span class="html">min</span> et <span class="html">max</span>, ainsi que <span class="html">step</span> dans l'exemple suivant. Le navigateur affichera un calendrier pour sélectionner la date. Dans cet exemple, les dates valides seront tous les 7 jours à partir du 15/09/2014, à savoir tous les lundis.</p>
                            <p>Entrez une date : <input type="date" name="date" min="2014-09-15" max="2020-09-15" step="7"></p>
                            <p>En HTML :</p>
<pre class="taille60"><code><span class="em">&lt;input</span> type="<span class="em">date</span>" name="date" min="2014-09-15" max="2020-09-15" step="7"<span class="em">&gt;</span></code></pre>
                        </dd>
                        <dt id="i_color"><span class="html">color</span> :</dt>
                        <dd>
                            <p>Il s'agit d'une nouveauté HTML5 permettant d'entrer une couleur.</p>
                            <p>Une couleur préfére ? : <input type="color" name="color"></p>
                            <p>En HTML :</p>
<pre class="taille60"><code><span class="em">&lt;input</span> type="<span class="em">color</span>" name="color"<span class="em">&gt;</span></code></pre>
                        </dd>
                        <dt id="i_search"><span class="html">search</span> :</dt>
                        <dd>
                            <p>Il s'agit d'une nouveauté HTML5 permettant d'entrer un texte/mot-clé à rechercher. Toujours dans cette idée de sémantique, il est conseillé d'utiliser ce champ pour les champs de recherches dans les formulaires.</p>
                            <p>Une recherche ? : <input type="search" name="search"></p>
                            <p>En HTML :</p>
<pre class="taille60"><code><span class="em">&lt;input</span> type="<span class="em">search</span>" name="search"<span class="em">&gt;</span></code></pre>
                            <p>Le moteur de recherche est un moyen alternatif pour accéder à une page du site. Il faut faire attention que toutes les pages soient indexées pour que le moteur de recherche soit efficace. Cette solution est à privilégier pour les sites de taille importante. Si cette solution est retenue, il est souhaitable d'intégrer le moteur de recherche dans le modèle de page. Ainsi, il est toujours positionné au même endroit et accessible de n'importe quelle page.</p>
                            <p>Pour indiquer que le moteur de recherche n'est pas un formulaire comme les autres, il est important de lui affecter le rôle ARIA <span class="em">search</span>.</p>
<pre class="taille60"><code>&lt;div role="search"&gt;
    &lt;form method="GET" action="..."&gt;
        &lt;input type="search" placeholder="Recherche"&gt;
        &lt;input type="submit"value="Rechercher"&gt;
    &lt;/form&gt;
&lt;/div&gt;</code></pre>
                            <p>Attention, à ne pas positionner l'attribut ARIA <span class="em">role="search"</span> sur la balise <span class="html">&lt;form&gt;</span>, car celle-ci a déjà le rôle <span class="em">form</span>. Cela aura pour conséquence d'écraser celui-ci, ce qui n'est pas souhaitable.. C'est pourquoi cela a été fait dans une balise <span class="html">&lt;div&gt;</span> englobante.</p>
                        </dd>
                    </dl>
                </article>
                <article>
                    <h2 id="i_textarea">Les champs de type textarea :</h2>
                    <p>La balise <span class="html em">&lt;textarea&gt;</span>...<span class="em">&lt;/textarea&gt;</span> permet à l'utilisateur d'introduire un texte sur plusieurs lignes.</p>
                    <p>Plusieurs attribus définissent cette balise :</p>
                    <dl>
                        <dt><span class="html">cols</span> :</dt>
                        <dd>détermine le nombre de caractères par ligne.</dd>
                        <dt><span class="html">rows</span> :</dt>
                        <dd>définit le nombre de lignes de la zone.</dd>
                        <dt><span class="html">disable</span> :</dt>
                        <dd>grise et fige la zone, permet d'introduire du texte qui ne peut pas être modifié.</dd>
                        <dt><span class="html">readonly</span> :</dt>
                        <dd>fige la zone.</dd>
                    </dl>
                    <p>Par exemple, voici l'apparence d'une <span class="html">textarea</span> :</p>
                    <textarea name="commentaire" cols="50" rows="10">Donnez votre commentaire.</textarea>
                    <p>En HTML :</p>
<pre><code><span class="em">&lt;textarea</span> name="commentaire" cols="50" rows="10"<span class="em">&gt;</span>Donnez votre commentaire.<span class="em">&lt;/textarea&gt</span></code></pre>
                </article>
                <article>
                    <h2 id="i_select">Les menus déroulants :</h2>
                    <p>La balise <span class="html">&lt;select&gt;...&lt;/select&gt;</span> permet de créer un menu déroulant à l'intérieur d'un formulaire.</p>
                    <p>Par exemple :</p>
                    <div class="affichageNav taille50">
                        <p>Quelle couleur préférez-vous ?</p>
                        <select name="couleur" size="3">
                            <option value="blanc">Blanc</option>
                            <option value="noir">Noir</option>
                            <option value="rouge">Rouge</option>
                            <option value="vert">Vert</option>
                            <option value="bleu">Bleu</option>
                            <option value="brun">Brun</option>
                            <option value="jaune" selected="selected">Jaune</option>
                            <option value="orange">Orange</option>
                            <option value="parme">Parme</option>
                        </select>
                    </div>
                    <p>En HTML :</p>
<pre class="taille60"><code><span class="em">&lt;select</span> name="couleur" size="3"<span class="em">&gt;</span>
<span class="em">&lt;option</span> value="blanc"<span class="em">&gt;</span>Blanc<span class="em">&lt;/option&gt;</span>
<span class="em">&lt;option</span> value="noir"<span class="em">&gt;</span>Noir<span class="em">&lt;/option&gt;</span>
<span class="em">&lt;option</span> value="rouge"<span class="em">&gt;</span>Rouge<span class="em">&lt;/option&gt;</span>
<span class="em">&lt;option</span> value="bleu"<span class="em">&gt;</span>Bleu<span class="em">&lt;/option&gt;</span>
<span class="em">&lt;option</span> value="brun"<span class="em">&gt;</span>Brun<span class="em">&lt;/option&gt;</span>
<span class="em">&lt;option</span> value="jaune" <span class="em">selected="selected"&gt;</span>Jaune<span class="em">&lt;/option&gt;</span>
<span class="em">&lt;option</span> value="orange"<span class="em">&gt;</span>Orange<span class="em">&lt;/option&gt;</span>
<span class="em">&lt;option</span> value="parme"<span class="em">&gt;</span>Parme<span class="em">&lt;/option&gt;</span>
&lt;/select&gt;</code></pre>
                    <p>La balise <span class="html">&lt;select&gt;</span> ouvre la définition du menu, les balises <span class="html">&lt;option&gt;</span> spécifient les propositions contenues dans le menu et la balise <span class="html">&lt;/select&gt;</span> termine le menu.</p>
                </article>
                <article>
                    <h2 id="autres">fieldset, legend et label :</h2>
                    <dl>
                        <dt id="i_fieldset"><span class="html">fieldset</span> :</dt>
                        <dd>
                            <p>La balise <span class="html em">fieldset</span> permet de regrouper plusieurs éléments du formulaire. Elle crée un contour autour des balises de formulaires qu'elle entoure.</p>
                            <p>Pour que l'internaute puisse connaître la question à laquelle il doit répondre, il faut qu'elle soit liée aux cases à cocher et/ou aux boutons radio, sinon elle ne sera pas lue par le lecteur d'écran. Pour cela, il est nécessaire que les cases à cocher et/ou les boutons radio soient regroupés au sein d'une balise <span class="html">&lt;fieldset&gt;</span> et que la question soit indiquée via la balise <span class="html">&lt;legend&gt;</span>.</p>
                            <div class="taille60 affichageNav">
                                <fieldset>
                                    <p>Nom : <input type="text" name="nom"></p>
                                    <p>Prénom : <input type="text" name="prenom"></p>
                                </fieldset>
                            </div>
                            <p>En HTML :</p>
<pre class="taille60"><code><span class="em">&lt;fieldset&gt;</span>
&lt;p&gt;Nom : &lt;input type="text" name="nom"&gt;&lt;/p&gt;
&lt;p&gt;Prénom : &lt;input type="text" name="prenom"&gt;&lt;/p&gt;
<span class="em">&lt;fieldset&gt;</span></code></pre>
                        </dd>
                        <dt id="i_legend"><span class="html">legend</span> :</dt>
                        <dd>
                            <p>La balise <span class="html em">legend</span> permet d'afficher un titre au cadre d'un <span class="html">fieldset</span>.</p>
                            <div class="taille60 affichageNav">
                                <fieldset>
                                    <legend>Identité</legend>
                                    <p>Nom : <input type="text" name="nom"></p>
                                    <p>Prénom : <input type="text" name="prenom"></p>
                                </fieldset>
                            </div>
                            <p>En HTML :</p>
<pre class="taille60"><code><span class="em">&lt;fieldset&gt;</span>
<span class="em">&lt;legend&gt;</span>Identité<span class="em">&lt;/legend&gt;</span>
&lt;p&gt;Nom : &lt;input type="text" name="nom"&gt;&lt;/p&gt;
&lt;p&gt;Prénom : &lt;input type="text" name="prenom"&gt;&lt;/p&gt;
<span class="em">&lt;fieldset&gt;</span></code></pre>
                            <fieldset>
                                <legend>Ma légende</legend>
                            </fieldset>
                            <p>Les balises <span class="html">&lt;fieldset&gt;</span> et <span class="html">&lt;legend&gt;</span> ne sont pas faciles à styliser avec des règles CSS. Il est possible d'utiliser l'attribut <span class="em">ARIA role="group"</span> sur une autre balise afin qu'elle joue le même rôle que <span class="html">&lt;fieldset&gt;</span>. Cette balise qui englobe les éléments à regrouper doit posséder un attribut <span class="em">role="group"</span> et qu'elle possède un attribut <span class="em">aria-labelledby</span> ayant pour valeur celle de l'attribut <span class="em">id</span> de la balise contenant la légende du groupe.</p>
                            <p>Exemple :</p>
<pre class="taille60"><code>&lt;div class="card" role="group" aria-labelledby="competences"&gt;
    &lt;div class="card-header" id="competences"&gt;
        Quels sont vos domaines de compétence ?php
    &lt;/div&gt;
    &lt;input type="checkbox" name="html" id="html"&gt;
    &lt;label for="html"&gt;HTML&lt;/label&gt;
    &lt;input type="checkbox" name="css" id="css"&gt;
    &lt;label for="css"&gt;CSS&lt;/label&gt;
&lt;/div&gt;</code></pre>
                            <p>La restitutionn par NVDA sera lue de la manière suivante :</p>
                            <ul>
                                <li>Quels sont vos domaines de compétence (Groupe)</li>
                                <li>HTML case à cocher non cochée</li>
                                <li>CSS case à cocher non cochée</li>
                            </ul>
                        </dd>
                        <dt id="i_label"><span class="html">label</span> :</dt>
                        <p>Les internautes utilisant un lecteur d'écran sont dans une situation particulière lorsqu'ils complètent un formulaire. Les raccourcis sont temporairement désactivés pour permettre la saisie de texte dans les champs. Contrairementà leur habitude, ils se déplacent avec la touche <span class="em">[Tab]</span>. Le texte positionné à côté des champs n'est pas lu, à moins d'être associé au champ de saisie.</p>
                        <dd>
                            <p>La méthode pour associer un libellé à un champ la plus couramment utilisée est d'associer une balise <span class="html">&lt;label&gt;</span> au champ de saisie pour que l'utilisateur sache ce qu'il doit saisir. Cette association permet d'obtenir la lecture du label lorsque l'utilisateur arrive dans le champ. La balise <span class="html em">label</span> permet lorsque l'on clique sur son texte de donner le focus à un champ de formulaire.</p>
                            <div class="taille60 affichageNav">
                                <p><label for="prenom">Direct sur le prénom</label></p>
                                <p>Nom : <input type="text" name="nom" id="nom"></p>
                                <p>Prénom : <input type="text" name="prenom" id="prenom"></p>
                            </div>
                            <p>En HTML :</p>
<pre class="taille60"><code>&lt;p&gt;<span class="em">&lt;label for="prenom"&gt;</span>Direct sur le prénom<span class="em">&lt;/label&gt;</span>&lt;/p&gt;
&lt;p&gt;Nom : &lt;input type="text" name="nom" id="nom"&gt;&lt;/p&gt;
&lt;p&gt;Prénom : &lt;input type="text" name="prenom" id="prenom&gt;&lt;/p&gt;</code></pre>
                            <p>Lorsque l'internaute arrive sur le deuxième champ de saisie (cette balise <span class="html">&lt;input&gt;</span>).NVDA lit : "direct sur le prénom édition autocomplétion vide". L'utilisateur sait donc qu'il doit saisir son prénom.</p>
                            <p>Il est également possible d'utiliser l'un des attributs <span class="em">aria-labelledby</span>, <span class="em">aria-label</span> ou <span class="em">title</span> pour obtenir cette lecture.</p>
                            <p>Dans le cas de l'utilisation des attributs <span class="em">aria-label</span> ou <span class="em">title</span>, il faut faire attention que leur valeur reprenne le texte affiché afin qu'un utilisateur en commande vocale puisse accéder au champ avec le nom affiché à l'écran.</p>
                            <p>Remarque : l'inconvénient de ces techniques par rapport à l'utilisation d'un label est que le label n'est pas cliquable. En particulier, pour les cases à cocher et les boutons radio, cela réduit la zone cliquable, ce qui est problématique pour des utilisateurs rencontrant des difficultés à cliquer dans une petite zone. Il faut donc privilégier l'utilisation d'un label.</p>
                            <p>Si une autre information n'est pas présente dans le label, une unité par exemple, il est nécessaire de l'associer au champ, sans quoi elle ne sera pas lue. Pour cela, il est possible d'utiliser l'attribut <span class="em">aria-describedby</span>.</p>
                            <p>Exemple :</p>
<pre class="taille60"><code>&lt;label for="taille"&gt;Taille&lt;/label&gt;
&lt;input id="taille" type="text" name="taille" aria-describedby="uniteTaille"&gt;
&lt;span id="uniteTaille&gt;cm&lt;/span&gt;</code></pre>
                            <p>Ainsi, lors de l'arrivée dans ce champ, NVDA lit : "taille édition autocomplétion cm vide".</p>
                            <p>Remarque: le problème de cette solution, c'est que les messages d'erreur sont également associés au champ en erreur avec cet attribut.</p>
                        </dd>
                    </dl>
                </article>
                <article>
                    <h2 id="style">La mise en page d'un formulaire :</h2>
                    <p>Étant donné que les formulaires ont une allure tabulaire, on utlise souvent les <span class="html">table</span> pour mettre en forme plus facilement ces formulaires. Mais ceci amène souvent plus de lourdeur dans le fichier HTML puisque des balises sont ajoutées. Ceci est la seule exception notoire où on utilise un composant HTML (table) pour effectuer de la mise en forme.</p>
                </article>
                <article>
                    <h2 id="aide_saisie">L'aide à la saisie :</h2>
                    <p>Pour une personne ayant des troubles de l'attention ou une déficience intellectuelle, la complétion d'un formulaire peut être compliquée. Aussi, il est important d'aider l'utilisateur dans cette tâche.</p>
                    <h3 id="absence_saisies_multiples">L'abence de saisies multiples :</h3>
                    <p>Une première possibilité pour assister l'utilisateur est de lui éviter de saisir plusieurs fois les mêmes informations. Par exemple, s'il est nécessaire de fournir une adresse de livraison et une adresse de facturation, il est possible, après la saisie de la première, de cocher une case pour indiquer que la deuxième est identique. Ainsi, l'utilisateur n'aura à saisir à la seconde adresse que si elle est différente de la première.</p>
                    <p class="souligne">Exemple :</p>
<pre class="taille60"><code>&lt;fieldset&gt;
    &lt;legend&gt;Adresse de livraison&lt;/legend&gt;
    &lt;label for="adresseLivraison"&gt;Adresse&lt;/label&gt;
    &lt;input type="text" name="livraison[adresse]" id="adresseLivraison"&gt;
    &lt;label for="adresseComplementLivraison"&gt;Complément d'adresse&lt;/label&gt;
    &lt;input type="text" name="livraison[adresseComplement]" id="adresseComplementLivraison"&gt;
    &lt;label for="cpLivraison"&gt;Code postal&lt;/label&gt;
    &lt;input type="text" name="livraison[cp]" id="cpLivraison"&gt;
    &lt;label for="villeLivraison"&gt;Ville&lt;/label&gt;
    &lt;input type="text" name="livraison[ville]" id="villeLivraison"&gt;
&lt;/fieldset&gt;
&lt;fieldset&gt;
    &lt;legend&gt;Adresse de facturation&lt;/legend&gt;
    &lt;input type="checkbox" name="memeAdressePourFacturation" id="memeAdresse"&gt;
    &lt;label for="memeAdresse"&gt;Utiliser la même adresse&lt;/label&gt;
    &lt;div&gt;
        &lt;label for="adresseFacturation"&gt;Adresse&lt;/label&gt;
        &lt;input type="text" name="facturation[adresse]" id="adresseFacturation"&gt;
        &lt;label for="adresseComplementFacturation"&gt;Complément d'adresse&lt;/label&gt;
        &lt;input type="text" name="facturation[adreseComplement]" id="adresseComplementFacturation"&gt;
        &lt;label for="cpFacturation"&gt;Code postal&lt;/label&gt;
        &lt;input type="text" name="facturation[cp]" id="cpFacturation"&gt;
        &lt;label for="villeFacturation"&gt;Ville&lt;/label&gt;
        &lt;input type="text" name="facturation[ville]" id="villeFacturation"&gt;
    &lt;/div&gt;
&lt;/fieldset&gt;</code></pre>
                    <p>Le fichier JavaScript :</p>
<pre class="taille60"><code>window.onload = init;

let bMemeAdresse;

function init() {
    bMemeAdresse = document.getElementById('memeAdresse');
    bMemeAdresse.onchange = memeAdresse;
}

function memeAdresse() {
    let display = bMemeAdresse.checked ? 'none' : 'initial';
    let div = bMemeAdresse.nextElementSibling.nextElementSibling;
    div.style.display = display;
}
</code></pre>
                    <p>Lorsque l'utilisateur coche <span class="em">Utiliser la même adresse</span>, les champs et labels situés après cette case à cocher sont cachés. Lorsque l'utilisateur décoche la case, ils sont de nouveau affichés.</p>
                    <p>Remarque : Les champs et labels associés qui doivent être cachés ou réaffichés sont regroupés dans une balise <span class="html">&lt;div&gt;</span>. Cela permet de n'effectuer l'opération qu'une seule fois pour l'ensemble plutôt que de le faire pour chaquechamp et chaque label. Cela est plus efficace.</p>
                    <h3 id="selection_liste_place_saisie">La sélection dans une liste à la place de la saisie :</h3>
                    <p>Une seconde possibilité pour aider l'utilisateur à compléter le formulaire est de proposer des valeurs en fonction deréponses précédentes. Cela peut se faire par différents moyens : un script JavaScript avec ou sans appel AJAX au serveur ou à une API. Il est par exemple possible de préremlir la ville en fonction du code postal ou de proposer de choisir parmi une liste de villes.</p>
                    <p>Dans l'exemple, qui suit, nous utilisons en ce sens <a href="https://api.gouv.fr/documentation/api_carto_codes_postaux" target="_blank">l'API APICarto - codes-postaux proposée par l'IGN</a>.</p>
<pre class="taille60"><code>&lt;fieldset&gt;
    &lt;legend&gt;Adresse de livraison&lt;/legend&gt;
    &lt;label for="adresseLivraison"&gt;Adresse&lt;/label&gt;
    &lt;input type="text" name="livraison[adresse]" id="adresseLivraison"&gt;
    &lt;label for="adresseComplementLivraison"&gt;Complément d'adresse&lt;/label&gt;
    &lt;input type="text" name="livraison[adresseComplement]" id="adresseComplementLivraison"&gt;
    &lt;label for="cpLivraison"&gt;Code postal&lt;/label&gt;
    &lt;input type="text" name="livraison[cp]" id="cpLivraison"&gt;
    &lt;label for="villeLivraison"&gt;Ville&lt;/label&gt;
    &lt;input type="text" name="livraison[ville]" id="villeLivraison"&gt;
&lt;/fieldset&gt;</code></pre>
                    <p>Le fichier JavaScript :</p>
<pre class="taille60"><code>window.onload = init;

let cp;

function init() {
    cp = document.getElementById('cpLivraison');
    cp.onchange = rechercherVilles;
}

function rechercherViles() {
    ajax('https://apicarto.ign.fr/api/codes-postaux/communes/' + cp.value, function() {
        let chpVille = document.getElementById('villeLivraison');
        let parent = chpVille.parentElement;
        let newchpVille;
        if (this.status === 200) {
            newchpVille = document.createElement('select');
            let villes = JSON.parse(this.responseText);
            villes.forEach(ville =&gt; {
                let option = document.createElement('option');
                option.value = ville.nomCommune;
                option.textContent = ville.nomCommune;
                newchpVille.appendChild(option);
            });
        } else {
            newchpVille = document.createElement('input');
            newchpVille.type = 'text';
        }
        newchpVille.id = chpVille.id;
        newchpVille.name= chpVille.name;
        newchpVille.required = chpVille.required;
        parent.replaceChild(newchpVille, chpVille);
        newchpVille.focus();
    });
}

function ajax (url, callbackfunction, method = 'GET') {
    let req = new XMLHttpRequest();
    req.open(method, ur, true);
    req.onload = callbackfunction;
    req.send();
}</code></pre>
                    <p>Initialement, le champ pour saisir la ville est une balise <span class="html">&lt;input&gt;</span> de type <span class="html">text</span>. Ainsi, si le JavaSript est désactivé, l'utilisateur peut tout de même effectuer sa saisie. Lorsque l'utilisateur change la valeur du code postal et quitte le champ, une requête asynchrone est envoyée à l'API. À la réception de la réponse, le champ de texte est remplacé par une liste de sélection contenant les villes correspondant à ce code postal. L'identifiat et le nom du champ de texte sont repris par la liste de sélection afin que le label soit maintenant associé à celle-ci. Enfin, le focus est placé sur cetteliste de sélection, car sans cela, comme le champ a été remplacé, l'utilisateur passe directement au champ suivant et risque de ne pas choisir la ville.</p>
                    <p>Remarque : Il est bien sûr préférable de limiter le nombre de requêtes. C'est pourquoi éviter de faire de l'autocomplétion pour les champs où, à chaque caractère saisi, une requête est envoyée au serveur.</p>
                    <h3 id="saisie_automatique">L saisie automatique :</h3>
                    <h4 id="nouvelles_valeurs_attribut_autocomplete">Les nouvelles valeurs de l'attribut autocomplete :</h4>
                    <p>L'attribut <span class="html">autocomplete</span> possédait initialement uniquement deux valeurs possibles : <span class="em">on</span> ou <span class="em">off</span>. La première permet au navigateur de proposer des valeurs déjà saisies pour un champ portant ce nom. La seconde permet de désactiver ce mécanisme même si, pour un mot de passe, les navigateurs modernes proposent tout de même de sauvegarder cette valeur afin de la compléter automatiquement.</p>
                    <p>Depuis HTML5, cet attribut peut prendre beaucoup plus de valeurs pour compléter le champ avec des valeurs enregistrées dans le navigateur. Le tableau suivant présente les principales nouvelles valeurs de l'attribut <span class="html">autocomplete</span> et leur signification :</p>
                    <table class="tableBalises">
                        <thead>
                            <tr>
                                <th>Valeur</th>
                                <th>Signification</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="html">given-name</td>
                                <td>Prénom</td>
                            </tr>
                            <tr>
                                <td class="html">family-name</td>
                                <td>Nom de famille</td>
                            </tr>
                            <tr>
                                <td class="html">e-mail</td>
                                <td>Adresse e-mail</td>
                            </tr>
                            <tr>
                                <td class="html">street-address</td>
                                <td>Les lignes d'adresse sans le code postal, la ville et le pays (chacune de ces lignes est accessible individuellement avec les trois lignes suivantes dans ce tableau)</td>
                            </tr>
                            <tr>
                                <td class="html">address-line1</td>
                                <td>La première ligne d'adresse</td>
                            </tr>
                            <tr>
                                <td class="html">address-line2</td>
                                <td>La deuxième ligne d'adresse</td>
                            </tr>
                            <tr>
                                <td class="html">address-line3</td>
                                <td>La troisième ligne d'adresse</td>
                            </tr>
                            <tr>
                                <td class="html">address-level2</td>
                                <td>Second niveau hiérarchique administratif (en France, comme dans beaucoup de pays, c'est la ville)</td>
                            </tr>
                            <tr>
                                <td class="html">country-name</td>
                                <td>Pays</td>
                            </tr>
                            <tr>
                                <td class="html">postal-code</td>
                                <td>Code postal</td>
                            </tr>
                            <tr>
                                <td class="html">tel</td>
                                <td>Téléphone avec indicatif international</td>
                            </tr>
                            <tr>
                                <td class="html">tel-national</td>
                                <td>Téléphone sans indicatif international</td>
                            </tr>
                            <tr>
                                <td class="html">cc-name</td>
                                <td>Le nom complet indiqué sur la carte bancaire</td>
                            </tr>
                            <tr>
                                <td class="html">cc-number</td>
                                <td>Le numéro de la carte bancaire</td>
                            </tr>
                            <tr>
                                <td class="html">cc-exp</td>
                                <td>La date d'expiration de la carte bancaire</td>
                            </tr>
                            <tr>
                                <td class="html">cc-csc</td>
                                <td>Le cryptogramme de la carte bancaire</td>
                            </tr>
                            <tr>
                                <td class="html">cc-type</td>
                                <td>Le type de carte (Visa, Master Card...)</td>
                            </tr>
                        </tbody>
                    </table>
                    <h4 id="activation_enregistrement_informations_firefox">L'activation et l'enregistrement des informations dans Firefox :</h4>
                    <p>Pour le moment, seul Firefox prend cela en charge et seulement pour des adresses des États-Unis et du Canada. Néanmoins, il est possible de tester ces fonctionnalités en avant-première en les activant dans la configurantion de Firefox.</p>
                    <ul>
                        <li>Pour cela, dans un onglet de votre navigateur, saisissez <span class="html">about:config</span> puis validez.</li>
                        <li>Validez ensuite le message d'avertissement.</li>
                        <li>
                            <p>Puis modifiez les valeurs de trois clés, comme suit :</p>
                            <ul>
                                <li><span class="html">extensions.formautofill.available</span> : <span class="em">on</span>.</li>
                                <li><span class="html">extensions.formautofill.creditCards.available</span> : <span class="em">true</span>.</li>
                                <li><span class="html">extensions.formautofill.supportedCountries</span> : ajoutez <span class="em">FR</span>.</li>
                            </ul>
                        </li>
                        <li>Redémarrez Firefox pour qu'il prenne en compte les modifications effectuées.</li>
                        <li>Dans le menu &#x2630;, cliquez sur <span class="html">Préférences</span> puis sur <span class="html">Vie privée et sécurité</span>. Une nouvelle rubrique est présente : <span class="html">Formulaires et remplissage automatique</span>. Il est alors possible d'enregistrer des adresses et des données de cartes bancaires.</li>
                    </ul>
                    <h4 id="creation_formulaire_completion_automatique">La création d'un formulaire à complétion automatique :</h4>
                    <p>Même si, pour le moment, la création d'un formulaire à complétion automatique n'est pas encore implémentée par tou les navigateurs, il faut espérer qu'elle le sera prochainement. Nous avons dès lors tout intérêt à utiliser les nouvelles valeurs de l'attribut <span class="html">autocomplete</span>. Ainsi, nos formulaires seront déjà prêts !</p>
                    <p class="souligne">Exemple :</p>
<pre class="taille60"><code>&lt;fieldset&gt;
    &lt;legend&gt;Adresse de livraison&lt;/legend&gt;
    &lt;label for="prenom"&gt;Prénom&lt;/label&gt;
    &lt;input type="text" name="livraison[prenom]" id="prenom" autocomplete="given-name"&gt;
    &lt;label for="nom"&gt;Nom&lt;/label&gt;
    &lt;input type="text" name="livraison[nom]" id="nom" autocomplete="family-name"&gt;
    &lt;label for="adresseLivraison"&gt;Adresse&lt;/label&gt;
    &lt;input type="text" name="livraison[adresse]" id="adresseLivraison" autocomplete="address-line1"&gt;
    &lt;label for="adresseComplementLivraison"&gt;Complément d'adresse&lt;/label&gt;
    &lt;input type="text" name="livraison[adresseComplement]" id="adresseComplementLivraison" autocomplete="address-line2"&gt;
    &lt;label for="cpLivraison"&gt;Code postal&lt;/label&gt;
    &lt;input type="text" name="livraison[cp]" id="cpLivraison" autocomplete="postal-code"&gt;
    &lt;label for="villeLivraison"&gt;Ville&lt;/label&gt;
    &lt;input type="text" name="livraison[ville]" id="villeLivraison" autocomplete="address-level2"&gt;
&lt;/fieldset&gt;</code></pre>
                    <p>Lorsque l'utilisateur arive sur l'un des champs <span class="html">&lt;input&gt;</span> possédant un attribut <span class="html">autocomplete</span>, il peut compléter automatiquement ce champ en appuyant sur <span class="em">[Flèche en bas]</span> de son clavier et choisir l'adresse.</p>
                    <p>Après la validation, ce champ ainsi que l'ensemble des autres champs à remplissage automatique sont automatiquement complétés.</p>
                </article>
                <article>
                    <h2 id="captchas">Les captchas :</h2>
                    <p>Les captchas sont généralement imposés par les administrateurs système afin d'éviter l'utilisation des formulaires par des robots. Les captchas sont bien évidemment un obstacle pour les robots, mais également pour certains utilisateurs : non-voyants ou mal-voyants, dyslexiques... Il est donc nécessaire de prévoir une alternative non graphique, comme l'envoi d'un code par SMS ou par e-mail.</p>
                    <p>Une autre possibilité est d'utiliser l'API ReCAPTCHA de Google qui est accessible pour les personnes en situation de handicap. Grâce à son algorithme tenu secret, Google est capable en général de distinguer un humain d'un robot à la simple coche de la case <span class="em">Je ne suis pas un robot</span>. Dans ce cas, il n'y a aucun problème d'accessibilité. Si Google a un doute, il propose une mire d'images sur lesquelles  il faut détecter un objet, mais également une alternative audio.</p>
                    <p>Pour mettre en place ReCAPTCHA, il est nécessaire de posséder un compte Google. Il est nécessaire que le site soit en HTTPS.</p>
                    <p>Une fois connecté, allez à l'adresse : <a href="https://www.google.com/recaptcha/admin/create" target="_blank">https://www.google.com/recaptcha/admin/create</a>.</p>
                    <p>Compléter le formulaire. Pour le <span class="em">Type de ReCAPTCHA</span>, choisissez <span class="em">ReCAPTCHA version 2</span>, puis <span class="em">Case à cocher "Je ne suis pas un robot"</span>. Pour les <span class="em">Domaines</span>, vous pouvez en ajouter plusieurs. Par exemple, en plus du nom de domaine de votre site, libre à vous d'ajouter localhost. Ainsi, vous pourrez tester le bon fonctionnement dans votre environnement de développement.</p>
                    <p>Remarque : il existe différentes versions de <span class="em">ReCAPTCHA</span> : la v3 permet d'obtenir un score de probabilité d'humain; alors que la v2 est un test (oui/non). Pour la v2, il existe en plus de la case à cocher une version invisible et une version pour les applications Android.</p>
                    <p>Vous obtenez deux clés, l'une publique à intégrer dans le code HTML du formulaire et l'autre privée pour la vérification côté serveur.</p>
                    <p>Dans le formulaire HTML, il est nécessaire d'ajouter d'une part une ligne pour afficher le captcha et d'autre part un script pour le faire fonctionner.</p>
                    <ul>
                        <li>
                            <p>Line d'ajout du captcha (dans laquelle vous devez modifier la valeur de l'attribut <span class="em">data-sitekey</span> avec votre clé publique) :</p>
                            <p class="html">&lt;div class="g-recaptcha" data-sitekey="valeur de la clé publique"&gt;&lt;/div&gt;</p>
                        </li>
                        <li>
                            <p>Ligne pour le script :</p>
                            <p class="html">&lt;script src="https//www.google.com/recaptcha/api.js" async defer&gt;&lt;/script&gt;</p>
                        </li>
                    </ul>
                    <p>Pour la validation du captcha côté serveur, Google propose plusieurs possibilités. La prelière est de se contenter de vérifier la présence parmi les données envoyées d'une clé avec pour nom <span class="em">g-recaptcha-response</span>. Celle-ci est assez facilement contournable puisqqu'il est aisé de modifier le formulaire pour envoyer une valeur associée à ce nom. La deuxième est de vérifier cette valeur en faisantappel à l'API ReCaptcha. Enfin, une troisième possibilité est de s'appuyer sur l'appel à une méthode callback.</p>
                    <p>Pour mettre en place la deuxième méthode, il faut envoyer une requête à l'adresse <a href="https://www.google.com/recaptcha/api/siteverify" target="_blank">https://www.google.com/recaptcha/api/siteverify</a> avec un premier paramètre nommé <span class="em">secret</span> avant pour valeur votre clé privée etun second paramètre nommé <span class="em">response</span> avec pour valeur celle de <span class="em">g-recaptcha-response</span>). La documentation de Google indique que la réponse en JSON est de la forme :</p>
<pre class="taille60"><code>{
    "success": true|false,
    "callenge_ts": timestamp,
    "hostname": string,
    "error-codes": [...] // si nécessaire
}</code></pre>
                    <p>Il suffit de vérifier la valeur de <span class="em">success</span> pour s'assurer de la validation du captcha.</p>
                    <p>Exemple :</p>
<pre class="taille60"><code>&lt;?php
    if (filter_input(INPUT_POST, 'btnSoumission', FILTER_SANITIZE_STRING)) {
        $captcha = filter_input(INPUT_POST, 'g-recaptcha-response', FILTER_SANITIZE_STRING);
        if ($captcha) {
            $cleSecrete = 'valeur de la clef privée';
            $responseJson = file_get_contents('https://wwww.google.com/recaptcha/api/siteverify?secret=' . $cleSecrete . '&response=' . $captcha);
            $response = json_decode($responseJson);
            if (!$response-&gt;success) {
                $message = 'Vousn\'avez pas validé le captcha';
            }
        } else {
            $message = 'Captcha manquant';
        }

        // vérification des données envoyées

        if (!isset($message)) {
            //traitement du formulaire
            header('location: confirmation.php');
            die();
        }
    }
?&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang="fr"&gt;
    &lt;head&gt;
        &lt;title&gt;&lt;?= isset($erreur) ? 'Erreur sur le formulaire' : 'Connexion'; ?&gt;&lt;/title&gt;
        &lt;meta charset="UTF-8"&gt;
        &lt;meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;?= isset($message) ? '&lt;div role="alert"&gt;' . $message . '&lt;/div&gt;' : ''; ?&gt;
        &lt;form method="POST"&gt;
            &lt;!-- champs du formulaire --&gt;
            &lt;div class="g-recaptcha" data-sitekey="valeur de la clef publique"&gt;&lt;/div&gt;
            &lt;input type="submit" class="btn btn-primary" name="btnSoumission" value="Envoyer"&gt;
        &lt;/form&gt;
        &lt;script src="https://www.google.com/recaptcha/api.js" async defer&gt;&lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
                </article>
                <article>
                    <h2 id="selecteurs_specifiques_formulaires">Sélecteurs spécifiques aux formulaires :</h2>
                    <table class="tableBalises">
                        <thead>
                            <tr>
                                <th>Expression</th>
                                <th>Éléments sélectionnés</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>:input</td>
                                <td>Tous les éléments de type input, textarea, select et button.</td>
                            </tr>
                            <tr>
                                <td>:button</td>
                                <td>Éléments de type button.</td>
                            </tr>
                            <tr>
                                <td>:checkbox</td>
                                <td>Éléments de type checkbox.</td>
                            </tr>
                            <tr>
                                <td>:checked</td>
                                <td>Éléments qui sont cochés.</td>
                            </tr>
                            <tr>
                                <td>:radio</td>
                                <td>Éléments de type radio</td>
                            </tr>
                            <tr>
                                <td>:reset</td>
                                <td>Éléments de type reset.</td>
                            </tr>
                            <tr>
                                <td>:image</td>
                                <td>Tous les boutons de type image.</td>
                            </tr>
                            <tr>
                                <td>:submit</td>
                                <td>Élément de type submit.</td>
                            </tr>
                            <tr>
                                <td>:text</td>
                                <td>Éléments de type text.</td>
                            </tr>
                            <tr>
                                <td>:password</td>
                                <td>Éléments de type password.</td>
                            </tr>
                            <tr>
                                <td>:selected</td>
                                <td>Éléments sélectionnés.</td>
                            </tr>
                            <tr>
                                <td>:focus</td>
                                <td>Sélectionne l'élément qui a le focus.</td>
                            </tr>
                            <tr>
                                <td>:enabled</td>
                                <td>Éléments activés.</td>
                            </tr>
                        </tbody>
                    </table>
                    <p>Le contraire de <span class="em">focus</span> est l'event <span class="em">blur</span>.</p>
                </article>
            <!-- fin de section -->
            </section>
        </main>
        <footer role="contentinfo">
            <div>
                <address>
                    Professeurs :
                    <a class="mail" href="mailto:olivier.choquet@vinci.be">Choquet Olivier</a>
                    <a class="mail" href="mailto:driss.vandenheede.techinfo@gmail.com">Vandenheede Driss</a>
                </address>
            </div>
            <div>
                <p>Si vous détectez une erreur, une faute d'orthographe, n'hésitez pas à envoyer un mail aux adresses juste à côté avec le nom de la page et l'erreur détectée.</p>
            </div>
            <div id="version">
                <p>Syllabus HTML</p>
                <p>Version 5.0</p>
            </div>
        </footer>
    </body>
</html>