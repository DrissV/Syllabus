<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <meta name="author" content="Choquet Olivier & Vandenheede Driss">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>e-Syllabus HTML5 et CSS3 - Méthodologie</title>
        <!-- une icône dans la barre du navigateur -->
        <link rel="icon" href="images/favicon.png" type="image/png">
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <!-- bannière et menu -->
        <header>
            <div class="logoTitle">
                <h1>Cours d'introduction au Web</h1>
                <h2>HTML5 et CSS3</h2>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Le cours</a></li>
                    <li><a href="internet.html">Internet</a></li>
                    <li><a href="html5.html">HTML5</a></li>
                    <li><a href="css3.html">CSS3</a></li>
                    <li><a href="methodologie.html">Méthodologie</a></li>
                    <li><a href="lexique.html">Lexique</a></li>
                    <li><a href="supplements.html" class="current">Suppléments</a></li>
                </ul>
            </nav>
        </header>
        <main id="container">
            <div id="menu">
                <nav>
                    <ol>
                        <li><a href="#intro_vscode">Introduction de VSCode (Visual Studio Code)</a></li>
                        <li><a href="#settings_vscode">VSCode : Paramètres et "setings.json"</a></li>
                        <li><a href="#raccourcis_vscode">Raccourcis VSCode</a></li>
                        <li><a href="#extensions_vscode">Extensions VSCode</a></li>
                        <li><a href="#intro_js">Introduction au JavaScript</a></li>
                        <li><a href="#validation_formulaire_js">Validation de formulaire</a></li>
                        <li><a href="#gestion_cookies_js">Gestion des cookies</a></li>
                        <li><a href="#dom">DOM (Document Object Model)</a></li>
                        <li><a href="#jquery">JQuery</a></li>
                        <li><a href="#ajax">AJAX</a></li>
                        <li><a href="#json">JSON</a></li>
                        <li><a href="#php">PHP</a></li>
                        <li><a href="#mvc">MVC</a></li>
                        <li><a href="#laravel">Laravel</a></li>
                    </ol>
                </nav>
                <!-- aside lié à la page et pas à l'article donc pas à l'intérieur de article -->
                <aside>
                    <p>Liens utiles :</p>
                    <ul>
                        <li><a href="http://www.w3schools.com/js/default.asp" target="_blank">Tutoriel JavaScript de W3Schools</a></li>
                        <li><a href="http://www.w3.org/" target="_blank">W3C</a></li>
                        <li><a href="http://fr.openclassrooms.com/informatique/cours/apprenez-a-creer-votre-site-web-avec-html5-et-css3" target="_blank">Open Classroom</a></li>
                        <li><a href="http://www.w3.org/TR/html5/" target="_blank">Norme HTML5</a></li>
                        <li><a href="http://www.w3schools.com/" target="_blank">W3Schools</a></li>
                        <li><a href="http://www.alsacreations.com/" target="_blank">Alsa Création</a></li>
                        <li><a href="https://www.youtube.com/c/LeDesignerduWeb/videos">Le Designer du web</a></li>
                    </ul>
                </aside>
            </div>
            <section id="mainSection">
                <article>
                    <h1>Suppléments de cours :</h1>
                </article>
                <article id="intro_vscode">
                    <h2>Introduction de VSCode (Visual Studio Code) :</h2>
                    <p>VSCode est un éditeur de textes comme Notepad++.</p>
                    <p>Pour installer VSCode, il faut cliquer sur ce <a href="https://code.visualstudio.com">lien</a> pour le télécharger.</p>
                    <p>On peut également modifier quelques paramètres du logiciel qui permettent les couleurs syntaxiques. On peut également installer des extensions qui permettent de voir s'il n'y a pas de fautes dans le code, voir des auto-complétions dans tels ou tels languages de programmation (voir ci-dessous).</p>
                    <h3 id="settings_vscode">VSCode : Paramètres et "<span class="html">settings.json</span>" :</h3>
                    <p>Le fichier "<span class="html">settings.json</span>" représente notre configuration. Pour le trouver, il faut aller dans l'onglet "<span class="em">File</span>", puis dans "<span class="em">Preferences</span>" et ensuite dans "<span class="em">Settings Configuration</span>". Dans ce menu, on peut modifier ce qu'on veut (les extensions, ce qui est lié à Git (voir plus loin), etc.).</p>
                    <p>Normalement, il faut trouver le "<span class="em">Edit settings.json</span>" dans ce menu pour modifier ce fameux fichier.</p>
                    <p>Ce fichier est, comme son nom l'indique, en format JSON (voir ci-dessous).</p>
                    <h3 id="raccourcis_vscode">Raccourcis VSCode :</h3>
                    <p>Pour pouvoir votre productivité avec VSCode, il faut utiliser des raccourcis géniaux.</p>
                    <h4>Multiplier les curseurs avec VSCode :</h4>
                    Pour sortir d'un multiplicurseur, vous devez faire la touche "<span class="em">Esc</span>".
                    <ul>
                        <li>
                            <p><span class="html">[ctrl + alt + down|up]</span> permet d'écrire partout où on a sélectionné le même texte.</p>
                        </li>
                        <li>
                            <p><span class="html">[ctrl + d]</span> permet de trouver les occurences car très souvent on a envie de changer un nom de balises mais aussi un nom de fonction si on est en JavaScript (JS), mais aussi un nom de composants si on était avec React, etc. Ca arrive très souvent.</p>
                        </li>
                        <li>
                            <p><span class="html">[ctrl + shift + l]</span> permet de trouver toutes les occurences d'un coup.</p>
                        </li>
                        <li>
                            <p><span class="html">[alt + click]</span> permet de créer des multiplicurseurs personnalisés où l'on veut.</p>
                        </li>
                        <li>
                            <p><span class="html">[ctrl + k + c|u]</span> permet de commenter/décommenter la partie du code sélectionnée.</p>
                        </li>
                        <li>
                            <p><span class="html">[alt + down|up]</span> permet de déplacer en bas ou en haut un élément.</p>
                        </li>
                        <li>
                            <p><span class="html">[ctrl + h]</span> permet de chercher toutes les occurences d'un élément (par exemple: une div) et ca change un par un avec un Enter.</p>
                        </li>
                        <li>
                            <p><span class="html">[ctrl + alt + Enter]</span> permet de changer toutes les occurences d'un élément d'un coup.</p>
                        </li>
                        <li>
                            <p><span class="html">[F12]</span> permet, dans un fichier JavaScript, en cliquant sur un appel de fonction de retrouver la déclaration de la fonction appelée.</p>
                        </li>
                        <li>
                            <p><span class="html">[ctrl + "+"|"-"]</span> permet de zoomer/dézoomer le code.</p>
                        </li>
                    </ul>
                    <p>Pour apprendre tous ces raccourcis, je vous conseille de faire un fichier "raccourci" avec tous les raccourcis que vous trouviez intéressant évidemment. Bien évidemment, dans la configuration de VSCode, on peut trouver tous les raccourcis, mais en général il y a des raccourcis qu'on va pas utiliser ou pas trop aimer utiliser et donc on va pas tous les apprendre par coeur.</p>
                    <h4 id="extensions_vscode">Extensions VSCode :</h4>
                    <p>Ici, je vais vous parler de 5 extensions de VSCode qui valent vraiment le coup. Ces extensions pour la plupart sont disponibles également sur d'autres éditeurs de textes ou alors avec des noms différents, mais qui fait plus  ou moins la même chose. Ces cinq extensions ci-dessous n'ont pas besoin de trop de configuration pour pouvoir ces propres fonctionnalités à mettre en place.</p>
                    <p>Ces cinq extensions ci-dessous sont très faciles à implémenter car vous devez juste les installer pour qu'elles fonctionnent correctement.</p>
                    <p>Pour utiliser les extensions sur VSCode, on clique sur l'icône des petits carrés (voir image ci-dessous) et puis on a des tonnes det des tonnnes de petites extensions, recomamndées ou pas.</p>
                    <img src="images/VSCode-Extension-Icon-.webp" alt="VSCode Extension Icon">
                    <p>Chaque extension aura sa petite fiche d'explication sur les fonctionnalités qu'il y a et un bouton d'installation ou de désinstallation (tout dépend si vous l'avez déjà installée ou pas).</p>
                    <p>La première extension qu'on va voir est "<span class="em">vscode-icons</span>". Elle permet d'afficher des icônes fantastiques pour vos fichiers. Son concurrent est "<span class="em">Material Icon Theme</span>".</p>
                    <p>La seconde extension est "<span class="em">Live Server</span>" qui, comme son nom l'indique, permet de voir l'évolution de notre site à chaque fois qu'on tape quelques choses dans notre code. Par exemple, on va dans notre fichier "index.html" et on fait un click pour choisir "<span class="em">Open with Live Server</span>". Ca fonctionne seulement sur les fichiers HTML et permet de voir en local tous les changements que je vais faire en direct.</p>
                    <p>Dans l'onglet "<span class="em">File</span>", il existe l'option "<span class="em">Auto Safe</span>" qui permet d'éviter chaque fois de faire un <span class="em">[ctrl + s]</span>. Attention, avec cette fonctionnalité, lorsque vous faites une boucle while dans un fichier JavaScript et que vous mettez un peu de temps à la fermer et à faire la logique à l'intérieur, ça risque de faire une boucle infinie qui va faire planter votre navigateur.</p>
                    <p>La prochaine extension est "<span class="em">Bracket Pair Colorizer</span> permet de coloriser nos accolades dans notre fichier JavaScript et quand on clique on voit où l'on est (par exemple, dans quel bloc je suis). C'est plus agréable pour les yeux car on peut répérer facilement les fermetures de bloc par exemple.</p>
                    <p>L'extension suivante est "<span class="em">Better Comments</span>"</p>
                    <p>Pour utiliser cette extension, il faut l'écrire comme ça : <span class="html">/** */</span> ou <span class="html">//</span> (attention le <span class="html">//</span> n'existe pas en CSS). Le <span class="html">!</span> met en rouge le texte qui suit pour dire de faire attention. Le <span class="html">?</span> permet de se poser des questions telles que "est-ce que je laisse ce code ou pas ?". On peut avoir "<span class="html">TODO</span>" pour indiquer les choses à faire. Le <span class="html">@param</span> pour indiquer les paramètres que l'on va mettre dedans.</p>
                    <p>La dernière extension à vous montrer est "<span class="em">Emmet</span> qui est installé de base sur VSCode et sur d'autres éditeurs de code tels que PHPStorm. Sinon, elle est disponible sur tous les éditeurs. Dans "File", "Preferences", "Settings", "Extensions", on voit "Emmet" qui est directement insallée ici. On peut gérer certaines de ces fonctionnalités en éditant son fichier "settings.json".</p>
                    <p>Cette extension fait des raccourcis en tapant le raccourci suivi d'un "Enter" ou d'un "tab". On va en voir ci-dessous :</p>
                    <p><span class="em">!</span> se transforme :</p>
<pre class="taille60"><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
    &lt;head&gt;
        &lt;meta charset="UTF-8"&gt;
        &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
        &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
        &lt;title&gt;Document&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
                    <p><span class="em">lorem50</span> se transforme en 50 mots du "<span class="em">Lorem Ipsum</span>", génralement appelé faux-texte, est, en imprimerie, une suite de mots sans signification utilisée à titre provisoire pour calibrer une mise en page, le texte définitif venant remplacer le faux-texte dès qu'il est prêt ou que la mise en page est achevée.</p>
                    <p><span class="em">input</span> se transforme en <span class="html">&lt;input type="text"&gt;</span></p>
                    <p><span class="em">ftr</span> se transforme en <span class="html">&lt;footer&gt;&lt;/footer&gt;</span></p>
                    <p><span class="em">hdr</span> se transforme en <span class="html">&lt;header&gt;&lt;/header&gt;</span></p>
                    <p><span class="em">bq</span> se transforme en <span class="html">&lt;blockquote&gt;&lt;/blockquote&gt;</span></p>
                    <p><span class="em">btn</span> se transforme en <span class="html">&lt;button&gt;&lt;/button&gt;</span></p>
                    <p><span class="em">div.maClasse</span> se transforme en <span class="html">&lt;div class="maClasse"&gt;&lt;/div&gt;</span></p>
                    <p><span class="em">.maClasse</span> se transforme en <span class="html">&lt;div class="maClasse"&gt;&lt;/div&gt;</span></p>
                    <p><span class="em">#monId</span> se transforme en <span class="html">&lt;div id="monId"&gt;&lt;/div&gt;</span></p>
                    <p><span class="em">div.maClasse#monId</span> se transforme en <span class="html">&lt;div class="maClasse" id="monId&gt;&lt;/div&gt;</span></p>
                    <p><span class="em">div.c1.c2</span> se transforme en <span class="html">&lt;div class="c1 c2"&gt;&lt;/div&gt;</span></p>
                    <p><span class="em">div{Je suis le contenu}.c1</span> se transforme en <span class="html">&lt;div class="c1"&gt;Je suis le contenu&lt;/div&gt;</span></p>
                    <p>On peut le faire avec n'importe quel élément pas forcément un div :</p>
                    <p><span class="em">p.c1</span> se transforme en <span class="em">&lt;p class="c1"&gt;&lt;/p&gt;</span></p>
                    <p>On peut également faire des choses un peu funcky :</p>
                    <p><span class="em">div.c1>p.item</span> se transforme en <span class="html">&lt;div class="c1&gt;&lt;p class="item"&gt;&lt;/p&gt;&lt;/div&gt;</span></p>
                    <p><span class="em">div{Je suis le parent}.items#monId>p.item*3</span> se transforme en <span class="html">&lt;div class="items" id="monId"&gt;Je suis le parent&lt;p class="item"&gt;&lt;/p&gt;&lt;p class="item"&gt;&lt;/p&gt;&lt;p class="item"&gt;&lt;/p&gt;&lt;/div&gt;</span></p>
                    <p>On peut multiplier plusieurs fois un élément. Par exemple, si on écrit <span class="em">p.item*50</span>, ça écrira cinquante fois le <span class="html">&lt;p class="item"&gt;&lt;/p&gt;</span></p>
                    <p>On peut également additionner plusieurs éléments :</p>
                    <p><span class="em">h1.titre+h2.sous-titre</span> se transforme en <span class="html">&lt;h1 class="titre"&gt;&lt;/h1&gt;&lt;h2 class="sous-titre"&gt;&lt;/h2&gt;</span></p>
                    <p>On peut également utiliser "Emmet" pour faire des listes :</p>
                    <p><span class="em">ul.liste>li.item*6</span> se transforme en <span class="html">&lt; ul class="liste"&gt;&lt;li class="item"&gt;&lt;/li&gt;&lt;li class="item"&gt;&lt;/li&gt;&lt;li class="item"&gt;&lt;/li&gt;&lt;li class="item"&gt;&lt;/li&gt;&lt;li class="item"&gt;&lt;/li&gt;&lt;li class="item"&gt;&lt;/li&gt;&lt;/ul&gt;</span></p>
                    <p><span class="em">div*5.parent+p.item*5</span> qui permet d'avoir cinq éléménts <span class="html">&lt;div class="parent"&gt;&lt;/div&gt;</span> suivis de cinq éléments <span class="html">&lt;p class="item"&gt;&lt;/p&gt;</span>.</p>
                    <p><span class="em">h1{Liste des courses :}+ul>li.item.item$*2^button{Payer maintenant}</span> se transforme en <span class="html">&lt;h1&gt;Liste des courses :&lt;/h1&gt;&lt;ul&gt;&lt;li class="item item1"&gt;&lt;/li&gt;&lt;li class="item item2"&gt;&lt;/li&gt;&lt;/ul&gt;&lt;button&gt;Payer maintenant&lt;/button&gt;</span></p>
                    <p>On peut également faire des groupes avec les parenthèses.</p>
                    <p>Vous avez compris qu'<span class="em">Emmet</span> est super cool. Ca fonctionne pas qu'avec le HTML, ça fonctionne également avec le CSS :</p>
                    <p><span class="em">h1{bg}</span> se transforme en <span class="html">h1{background: #000;}</span></p>
                    <p><span class="em">c</span> dans le sélecteur CSS se transforme en <span class="html">color: #000;</span></p>
                    <p><span class="em">c#1</span> dans le sélecteur CSS se transforme en <span class="html">color: #111111;</span></p>
                    <p><span class="em">c#e0</span> dans le sélecteur CSS se transforme en <span class="html">color: #e0e0e0;</span></p>
                    <p><span class="em">c#fc0</span> dans le sélecteur CSS se transforme en <span class="html">color: #ffcc00;</span></p>
                    <p><span class="em">fonts</span> dans le sélecteur CSS se transforme en <span class="html">font-size: ;</span></p>
                    <p><span class="em">fontfam</span> dans le sélecteur CSS se transforme en <span class="html">font-family: ;</span></p>
                    <p><span class="em">p10</span> dans le sélecteur CSS se transforme en <span class="html">padding: 10px;</span></p>
                    <p><span class="em">m10</span> dans le sélecteur CSS se transforme en <span class="html">margin: 10px;</span></p>
                    <p><span class="em">fw400</span> dans le sélecteur CSS se transforme en <span class="html">font-wsight: 400;</span></p>
                    <p><span class="em">-wmso-trf</span> dans le sélecteur CSS se transforme en <span class="html">-webkit-transform: ;</span>, <span class="html">-moz-transform: ;</span>, <span class="html">-ms-transform: ;</span>, <span class="html">-o-transform: ;</span> et <span class="html">transform: ;</span>. Ce sont tous les vendors de transform.</p>
                </article>
                <article id="intro_js">
                    <h2>Introduction à JavaScript :</h2>
                    <p><span class="em">JavaScript</span> est un langage de scripts essentiellement utilisé pour enrichir les pages HTML de code exécutable par le navigateur. Attention ! Il n' a guère qu'une partie de son nom en commun avec le langage Java ! L'utilisation de JavaScript s'étend de plus en olus vers de nouvelles cibles comme la programmation sur le serveur. Nous ne prendrons en compte ici que son utilisation pour les navigateurs.</p>
                    <p>Ce langage permet d'apporter du dynamisme au niveau des pagesWeb. Nous percevons immédiatement une contradiction entre le fait qu'un navigateur doive essentiemment se contenter de réaliser l'affichage de pages et celui de lui faire exécuter du code. On veillera donc à limiter au maximum l'utilisation de code JavaScript pour :</p>
                    <ul>
                        <li>éviter d'alourdir les documents HTML</li>
                        <li>faciliter leur maintenance</li>
                        <li>ne pas surcharger de traitements les postes de travail</li>
                    </ul>
                    <p>Veillons aussi à produire des pages qui pourront être exploitées sur un maximum de types de navigateurs en n'oubliant pas que cerains d'entre eux n'intègrent pas JavaScript (exemple : certains browsers de smartphones) et que certains utilisateurs inhibent JavaScript.</p>
                    <p>JavaScript est le premier outil nous permettant de faire évoluer un navigateur de la notion de "client léger" à celle de "client riche".</p>
                    <p>De manière générale, JavaScript est utilise pour :</p>
                    <ul>
                        <li>Permettre de réaliser des validations de données saisies dans des formulaires.</li>
                        <li>Pour gérer les cookies.</li>
                        <li>Pour éviter d'augmenter inutilement le nombre de requêtes soumises au serveur Web.</li>
                        <li>Il est peut aussi permettre d'enrichir la présentation de la page (menus dynamiques par exemple).</li>
                    </ul>
                    <p>Il peut aussi être utilisé pour faire clignoter une guirlande, faire traverser l'écran par un canard ou demander à un poisson de suivre votre souris (comme quoi il faut savoir ne pas abuser des bonnes choses, ...).</p>
                    <h3 id="integration_au_HTML_js">Intégration au HTML :</h3>
                    <p>Un script Javascript sera fourni dans la balise <span class="em">script</span> avec l'attribut <span class="em">type</span> de valeur <span class="em">text/javascript</span>. Il existe également une version plus complexe tenant compte des vieux navigateurs qui ne gèrent pas le JavaScript. En HTML5, on déconseille de spécifier explicitement le type s'il s'agit de <span class="em">text/javascript</span> : <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script" target="_blank">https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script</a>.</p>
                    <p>Soit direment dans le code HTML :</p>
<pre><code>&lt;script type="text/javascript"&gt;
    // code du script...
&lt;/script&gt;</code></pre>
                    <p>Soit par référence à un fichier externe :</p>
                    <p class="html">&lt;script type="text/javascript" src="scriptname.js"&gt;&lt;/script&gt;</p>
                    <p>On préfèrera cette deuxième option par souci de lisibilité du code.</p>
                    <h3 id="declenchement_code_js">Déclenchement du code :</h3>
                    <p>Une balise <span class="em">&lt;script type="text/javascript"&gt;</span> peut apparaîtra soit dans le <span class="em">head</span> de la page, soit dans le <span class="em">body</span>. Le chargement du fichier de script JavaScript interrompt celui du fichier HTML. Tous les scripts invoqués dans le fichier JavaScript sont immédiatement exécutés lors du chargement dudit fichier.</p>
                    <h3 id="elements_syntaxe_js">Quelques éléments de syntaxe de JavaScript</h3>
                    <ul>
                        <li>Les instructions sont délimitées par le point-virgule mais celui-ci n'est obligatoire que si l'on désire reprendre plusieurs instructions sur la même ligne.</li>
                        <li>Les commentaires sont repris, sur une ligne derrière les caractères <span class="em">//</span>.</li>
                        <li>Les noms de variables sont sensibles à la casse.</li>
                        <li>Les instructions de contrôle de séquence (<span class="html">if</span>, <span class="html">while</span>, ...) sont sensiblement les mêmes qu'en Java.</li>
                    </ul>
                    <h3 id="exemple_simple_js">Un exemple simple :</h3>
                    <p>Plaçons ceci dans le body d'un de nos précédents documents HTML :</p>
<pre><code>&lt;script type="text/javascript"&gt;
    document.write("Added by JavaScript code : ");
    document.write("He2b-Esi &lt;3");
&lt;/script&gt;</code></pre>
                    <p>Nous pouvons aussi sauvegarder ce script à part dans un fichier <span class="em">Myscript.js</span>, dont la référence relative au document HTML ou sa référence absolue sera fournie dans l'attribut source de l'élément <span class="html">script</span>. Si le fichier se trouve dans le même répertoire que le document HTML, nous pourrons le référencer comme suit :</p>
                    <p class="html">&lt;script type="text/javascript" src="MyScript.js"&gt;&lt;/script&gt;</p>
                    <h3>Quelques utilisations classiques :</h3>
                    <h4 id="validation_formulaire_js">Validation de formulaire :</h4>
                    <p>Un cas classique est celui de la validation d'un champ de saisie devant être numérique. Nous allons réaliser la validation lors de la perte du focus par le contrôle (voir <a href="http://www.w3schools.com/tags/ref_eventattributes.asp" target="_blank">http://www.w3schools.com/tags/ref_eventattributes.asp</a> pour une liste des événements gérés).</p>
<pre class="taille60"><code>&lt;!DOCTYPE html&gt;
&lt;html lang="fr"&gt;
    &lt;head&gt;
        &lt;meta charset="UTF-8"&gt;
        &lt;title&gt;Validation de formulaire&lt;/title&gt;
        &lt;script type="text/javascript"&gt;
            function validateNumeric(champ) {
                if (isFinite(champ.value)) {
                    return true;
                } else {
                    alert("Vous ne pouvez entrer que des nombres !");
                    return false;
                }
            }
        &lt;/script&gt;
    &lt;/head&gt;
    
    &lt;body&gt;
            &lt;h1&gt;Validation externe&lt;/h1&gt;
            &lt;form name="InfoPersonnelle"&gt;
                Âge : &lt;input type="text" name="saisie" <span class="html">onblur</span>="validateNumeric"&gt;
            &lt;/form&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
                    <h5>Remarques :</h5>
                    <ul>
                        <li>D'autres événements peuvent vous intéresser <span class="html">onclick</span>, <span class="html">onkeypress</span>, <span class="html">onload</span>, ... En voici la liste complète : <a href="http://www.w3schools.com/jsref/dom_obj_event.asp" target="_blank">http://www.w3schools.com/jsref/dom_obj_event.asp</a>.</li>
                        <li>Par convention, si la méthode associée à l'événement renvoie <span class="em">false</span> (comme dans l'exemple ci-dessusà, cela signifie que l'événement n'a pas eu lieu : la page ne sera pas soumise, le caractère pas rentré, ...</li>
                        <li>Si nous désirons réakuser une validation lors de l'envoi du formulaire nous serons obliger d'écrire un script spécifique au formulaire.</li>
                        <li>Nous verrons par la suite que nous veillerons à éviter l'utilisation des fonctions <span class="html">alert()</span>, <span class="html">confirm()</span>, <span class="html">prompt()</span>, ... qui ont tendance à alourdir l'interface.</li>
                    </ul>
                    <h4 id="gestion_cookies_js">Gestion des cookies :</h4>
                    <p>Un <span class="em">Cookie</span> est un petit fichier texte, chiffré ou non, que des sites visités peuvent stocker sur votre machine pour être récupérés d'une visite à l'autre (pour vous faciliter la navigation, pour vous tracer, ...). Seul le site ayant stocké le cookie y a accès.</p>
                    <p>Un cookie est une paire <span class="em">nom=valeur</span> associé à un serveur et stockée sur le poste client. Lorsque le navigateur envoie une requête à un serveur, il lui envoie également tous les cookies associés.</p>
                    <p>Un cookie possède aussi une date d'expiration. JavaScript permet, via <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/cookie" target="_blank">la propriété cookie du document</a>, de lire et de créer des cookies. La version simplifiée qu'on présente ici peut être prise en défaut dans certains cas particuliers.</p>
<pre class="taille60"><code>function setCookie(nom, valeur) {
    document.cookie = nom + "=" + encodeURI(valeur);
}

function getCookie(nom) {
    // Tous les cookies sont reçus dans une seule chaîne,
    // séparés par des point-virgules, qu'il faut découper.
    start = document.cookie.indexOf(nom + "=");
    if (start != -1) {
        start = start + nom.length + 1;
        end = document.cookie.indexOf(";", start);
        if (end == -1) {
            end = document.cookie.length;
        }
        return unescape(document.cookie.substring(start, end));
    } else {
        return "";
    }
}</code></pre>
                    <h3 id="dom">DOM (Document Object Model) :</h3>
                    <p>Le Document Object Model va nous permettre de manipuler (consulter/modifier) notre page web via le code JavaScript. On va pouvoir, par exemple, ajouter un message d'erreur à côté d'un champ erroné. C'est également un élément essentiel d'Ajax que nous verrons ultérieurement.</p>
                    <p>Le <a href="https://developer.mozilla.org/fr/DOM" class="em">DOM (Document Object Model)</a>, ou modèle objet de document, est une API pour les documents HTML et XML. Le DOM fournitune représentation structurelle du document, permettant de modifier son contenu et sa présentation visuelle. Fondamentalement, il relie les pages Web aux scripts et langages de programmation.</p>
                    <p>Concrètement, cela signifie qu'au niveau de JavaScript on dispose d'une représentation du document HTML sous forme d'un "arbre", chaque "noeud" correspond à une balise du document. Cet arbre peut être parcouru mais surtout modifié. Les possibilités sont énormes mais nous l'utiliserons essentiellement :</p>
                    <ul>
                        <li>Pour faire apparaître des messages d'information ou d'erreurs aux endroits appropriés de la page.</li>
                        <li>Avec la technologie AJAX dont il est une des composantes essentielles.</li>
                    </ul>
                    <h4 id="elements_syntaxe_dom">Quelques éléments de syntaxe</h4>
                    <p>Nous ne présentant que la toute petite partie qui sert à notre propos. Nous en dirons un peu plus lorsque nous introduirons les technologies <span class="em">XSL</span> et, comme d'habitude, vous trouverez plus d'informations sur le site de la W3 Schools (<a href="http://www.w3schools.com/jsref/dom_obj_document.asp" target="_blank">http://www.w3schools.com/jsref/dom_obj_document.asp</a>).</p>
                    <ul>
                        <li>Il existe un certain nombre d'objets prédéfinis. Vous apprendrez à l'usage les méthodes et attributs offerts : document (la racine de l'arbre), window (la fenêtre), ...</li>
                        <li>
                            <p>On peut accéder à un ou des noeuds de l'arbre :</p>
                            <ul>
                                <li><span class="html">getElementById("id")</span> ; le noeud correspondant à cet identifiant unique.</li>
                                <li><span class="html">getElementsByTagName("tag")</span> : un tableau de noeuds porteurs de ce tag.</li>
                                <li><span class="html">querySelector(selecteur CSS)</span> : le premier élément dans la descendance de l'élément appelant la méthode <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/querySelector" target="_blank">querySelector</a> compatible avec le sélecteur CSS en argument.</li>
                            </ul>
                        </li>
                        <li>
                            <p>On peut interroger un noeud via des attributs :</p>
                            <ul>
                                <li>L'attribut <span class="html">innerHTML</span> correspond au code HTML inclus dans un noeud.</li>
                                <li>L'attribut <span class="html">style</span> donne le style associé à un noeud.</li>
                                <li>L'attribut <span class="html">attributes</span> donne les attributs associés à un noeud.</li>
                                <li>Il y a aussi : <span class="html">nodeType</span>, <span class="html">nodeName</span>, <span class="html">nodeValue</span>, ...</li>
                            </ul>
                        </li>
                        <li>On peut, à partir d'un noeud, se promener dans l'arbre : <span class="html">parentNode</span>, <span class="html">childNodes</span>, <span class="html">firstChild</span>, <span class="html">lastChild</span>, <span class="html">nextSibling</span>, <span class="html">previousSibling</span>.</li>
                        <li>On peut aussi modifier l'arbre : <span class="html">createElement</span>, <span class="html">createTextNode</span>, <span class="html">appendChild</span>, <span class="html">insertBefore</span>, <span class="html">replaceChild</span>, <span class="html">cloneNode</span>, <span class="html">removeChild</span>.</li>
                    </ul>
                    <h4 id="exemple_recapitulatif_dom">Exemple récapitulatif :</h4>
                    <p>Si le document contient <span class="html">&lt;span id="titre"&gt;&lt;/span&gt;</span>, alors le bout de code suivant permet d'insérer un titre :</p>
                    <p class="html">document.getElementById("titre").innerHTML = "Compléments Applications";</p>
                    <p>Le code suivant affiche un message avec le nombre de paragraphes (à lancer via l'événement <span class="html">onload</span> de la balise <span class="html">&lt;body&gt;</span> par exemple).</p>
<pre class="taille60"><code>function countParagraphs {
    var myParagraphs = document.getElementsByTagName("p");
    alert(myParagraphs.length);
}</code></pre>
                    <h3 id="decouplage_html_js">Découplage HTML / JavaScript :</h3>
                    <p>Tout comme il est de bonne pratique de découpler le contenu HTML de la mise en forme CSS, en liant le(s) fichier(s) CSS à l'aide de la balise <span class="html">&lt;link&gt;</span>, il est conseillé de séparer HTML et JavaScript à l'aide de l'attribut <span class="em">src</span> de la balise <span class="html">&lt;script&gt;</span>.</p>
                    <p>Par ailleurs, il est également conseillé de découpler fortement les éléments HTML du JavaScript en associant les gestionnaires d'événements dynamiques en JavaScript plutôt que statiquement dans le document HTML.</p>
                    <p>Dans la suite, voyons en détails comment associer une fonction de validation à un champ d'un formulaire, comme cela a été déjà rapidemment montré ci-dessus.</p>
                    <h4 id="js_interne">JavaScript interne :</h4>
                    <p>Reprenons le document HTML avec un script interne :</p>
<pre class="taille60"><code>&lt;!DOCTYPE html&gt;
&lt;html lang="fr"&gt;
    &lt;head&gt;
        &lt;meta charset="UTF-8"&gt;
        &lt;title&gt;Validation de formulaire&lt;/title&gt;
        &lt;script type="text/javascript"&gt;
            function validateNumeric(champ) {
                if (isFinite(champ.value)) {
                    return true;
                } else {
                    alert("Vous ne pouvez entrer que des nombres !");
                    return false;
                }
            }
        &lt;/script&gt;
    &lt;/head&gt;
    
    &lt;body&gt;
            &lt;h1&gt;Validation externe&lt;/h1&gt;
            &lt;form name="InfoPersonnelle"&gt;
                Âge : &lt;input type="text" name="saisie" <span class="html">onblur</span>="validateNumeric"&gt;
            &lt;/form&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
                        <h4 id="js_externe">JavaScript externe</h4>
                        <h5 id="association_statique">Association statique :</h5>
                        <p>Le script est déplacé dans un fichier <span class="em">formvalidate.js</span> :</p>
<pre class="taille60"><code>function validateNumeric(champ) {
    if (isFinite(champ.value)) {
        return true;
    } else {
        alert("Vous ne pouvez entrer que des nombres !");
        return false;
    }
}</code></pre>
                    <p>Et le fichier HTML est inchangé à l'exception du lien vers ce script :</p>
<pre class="taille60"><code>&lt;!DOCTYPE html&gt;
&lt;html lang="fr"&gt;
    &lt;head&gt;
        &lt;meta charset="UTF-8"&gt;
        &lt;title&gt;Validation de formulaire&lt;/title&gt;
        &lt;script type="text/javascript" src="formvalidate.js"&gt;&lt;/script&gt;
    &lt;/head&gt;
    
    &lt;body&gt;
            &lt;h1&gt;Validation externe&lt;/h1&gt;
            &lt;form name="InfoPersonnelle"&gt;
                Âge : &lt;input type="text" name="saisie" <span class="html">onblur</span>="validateNumeric"&gt;
            &lt;/form&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
                    <h5 id="association_dynamique">Associaion dynamique :</h5>
                    <p>On cherche à associer dynamiquement un gestionnaire d'événement à un élément HTML. Pour ce faire, on utilise le DOM via JavaScript dans un script <span class="em">association_event.js</span> :</p>
<pre class="taille60">document.getElementById("age").addEventListener("blur", function(event) {
    validateNumeric(event.target.value);
}</pre>
                    <p>Et on ajoute un lien vers ce script dans le code HTML :</p>
<pre class="taille60"><code>&lt;!DOCTYPE html&gt;
&lt;html lang="fr"&gt;
    &lt;head&gt;
        &lt;meta charset="UTF-8"&gt;
        &lt;title&gt;Validation de formulaire&lt;/title&gt;
        &lt;script type="text/javascript" src="formvalidate.js"&gt;&lt;/script&gt;
    &lt;/head&gt;
    
    &lt;body&gt;
        &lt;h1&gt;Validation externe&lt;/h1&gt;
        &lt;form name="InfoPersonnelle"&gt;
            Âge : &lt;input type="text" name="saisie"&gt;
        &lt;/form&gt;
        
        &lt;script type="text/javascript" src="association_event.js"&gt;&lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
                    <p>Notez qu'on préfère charger les scripts d'association en fin de la balise <span class="html">&lt;body&gt;</span>, puisque le code JavaScript est exécuté dès qu'il est chargé; les éléments HTML doivent donc être présents dans le DOM au moment de l'exécution du code.</p>
                    <h5 id="association_dynamique_defer">Association dynamique avec defer :</h5>
                    <p>Si toutefois on veut charger le script à un autre endroit du code HTML, l'attribut <span class="html">defer</span> permet de reporter le chargement du script après la fin du chargement de la page HTML dans son entièreté. Cet attribut n'est disponible que lorsqu'un script est chargé via l'attribut <span class="html">src</span>.</p>
                    <p>Par exemple, on pourrait avoir un fichier de script unique <span class="em">formvalidate_association_events.js</span> :</p>
<pre class="taille60">function validateNumeric (champ) {
    if (isFinite(champ.value)) {
        return true;
    } else {
        alert("Vous ne pouvez entrer que des nombres !");
        return false;
    }
}

const ageElement = document.getElementById("age");

ageElement.addEventListener("blur", function(event) {
    validateNumeric(event.target.value);
});<code></code></pre>
                    <p>Qui est chargé dans le <span class="html">head</span> comme suit :</p>
<pre class="taille60"><code>&lt;!DOCTYPE html&gt;
&lt;html lang="fr"&gt;
    &lt;head&gt;
        &lt;meta charset="UTF-8"&gt;
        &lt;title&gt;Validation de formulaire&lt;/title&gt;
        &lt;script defer type="text/javascript" src="formvalidate_association_events.js"&gt;&lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
            &lt;h1&gt;Validation externe&lt;/h1&gt;
            &lt;form name="InfoPersonnelle"&gt;
                Âge : &lt;input type="text" name="saisie"&gt;
            &lt;/form&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
                    <h5 id="association_dynamique_domcontentloaded">Association dynamique avec l'événement DOMContentLoaded :</h5>
                    <p>L'événment <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/DOMContentLoaded_" target="_blank">DOMContentLoaded</a> est émis lorsque le document HTML est chargé et traité dans son entièreté. On peut donc aussi s'en servir afin d'exécuter du code JavaScript une fois que le document complet est à notre disposition.</p>
                    <p>Notre script devient alors :</p>
<pre class="taille60">function validateNumeric (champ) {
    if (isFinite(champ.value)) {
        return true;
    } else {
        alert("Vous ne pouvez entrer que des nombres !");
        return false;
    }
}

document.addEventListener("DOMContentLoaded", function() {
    const ageElement = document.getElementById("age");

    ageElement.addEventListener("blur", function(event) {
        validateNumeric(event.target.value);
    });
});<code></code></pre>
                    <p>Qui est chargé dans le <span class="html">head</span> comme suit :</p>
<pre class="taille60"><code>&lt;!DOCTYPE html&gt;
&lt;html lang="fr"&gt;
    &lt;head&gt;
        &lt;meta charset="UTF-8"&gt;
        &lt;title&gt;Validation de formulaire&lt;/title&gt;
        &lt;script type="text/javascript" src="formvalidate_association_DOMContentLoaded.js"&gt;&lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
            &lt;h1&gt;Validation externe&lt;/h1&gt;
            &lt;form name="InfoPersonnelle"&gt;
                Âge : &lt;input type="text" name="saisie"&gt;
            &lt;/form&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
                    <h5>Conclusion :</h5>
                    <p>La méthode recommandée est celle qui utilise l'attribut <span class="html">defer</span> de la balise <span class="html">&lt;script&gt;</span>. Elle est en effet :</p>
                    <ul>
                        <li>Propre : le HTL et le JavaScript sont séparés car <span class="html">defer</span> oblige à utiliser l'attribut <span class="html">src</span>.</li>
                        <li>Lisible: les balises <span class="html">&lt;script&gt;</span> sont rassemblées dans le <span class="html">&lt;head&gt;</span> du HTML.</li>
                        <li>Efficace : la récupération du JavaScript se fait de manière synchrone avec l'analayse du HTML.</li>
                        <li>Sûre : l'exécution des scripts JavaScript a lieu une fois le document HTML complètement construit.</li>
                    </ul>
                    <h2 id="jquery">JQuery :</h2>
                    <p><span class="em">JQuery</span> est une librairie JavaScript qui facilite grandement l'écriture de scripts.</p>
                    <h3 id="intro_jquery">Introduction au JQuery :</h3>
                    <p>JavaScript est parfois lourd à utiliser et impose de reprendre régulièrement le même code, de truffer le code de tests pour s'adapter au navigateur, ... Beaucoup de librairies de scripts permettent d'alléger ou éliminer ces défauts : JQuery, Mootools, Dojo, ...</p>
                    <p>JQuery est certainement la plus répondue et <a href="http://w3techs.com/technologies/details/js-jquery/all/all" target="_blank">un grand nombre de firmes majeures du domaine de l'IT</a> l'utilise). Ses fonctionnalités incluent :</p>
                    <ol>
                        <li>Manipulation du DOM.</li>
                        <li>Manipulation du CSS.</li>
                        <li>Gestion des événements.</li>
                        <li>Animations.</li>
                        <li>Ajax (que nous verrons un peu plus tard).</li>
                    </ol>
                    <p>Une référence de JQuery se trouve à l'adresse <a href="https://jquery.com/" target="_blank">https://jquery.com/</a>.</p>
                    <h3 id="utilisation_jquery">Utilisation :</h3>
                    <h4 id="inclusion_jquery">Inclusion de la librairie :</h4>
                    <p>La librairie elle-même doit référencée dans votre page HTML, soit elle doit être fournie par votre site soit être référencée sur un site tiers.</p>
                    <p>Souvent, on utilise un <a href="https://fr.wikipedia.org/wiki/R%E9seau_de_diffusion_de_contenu)" target="_blank">CDN (ou Content Delivery Network)</a> : une infrastructure réseau permettant de fournir vite et sans interruption de service des ressources stables dans le temos, par exemple celui de :</p>
                    <ol>
                        <li><a href="https://code.jquery.com/" target="_blank">JQuery</a></li>
                        <li><a href="https://developers.google.com/speed/libraries#jquery" target="_blank">Google</a></li>
                        <li><a href="https://docs.microsoft.com/en-us/aspnet/ajax/cdn/overview#jQuery_Releases_on_the_CDN_0" target="_blank">Microsoft</a></li>
                    </ol>
                    <p>D'autres CDN peuvent se trouver à l'adresse <a href="https://jquery.com/download/#other-cdns" target="_blank">https://jquery.com/download/#other-cdns</a>. Ces CDN ont l'avantage d'être utilisés par tellement de sites que les clients de nos pages risquent d'avoir dékà la librairie en mémoire cache (et ne doivent donc pas le re-télécharger). En outre, même si la librairie n'est pas en cache, son téléchargement par l'utilisateur n'utilisera de toute façon pas la bande passante de notre site.</p>
                    <p>On inclut cette librairie comme tout autre script JavaScript, donc :</p>
                    <p class="html">&lt;script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HdCJo=" crossorigin="anonymous"&gt;&lt;/script&gt;</p>
                    <p>Ou plus simplement :</p>
                    <p class="html">&lt;script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"&gt;&lt;/script&gt;</p>
                    <p>Ces librairies sont condensées (<span class="em">minified</span> en anglais, représenté dans le nom du fichier par <span class="em">.min</span> pour minimiser le trafic réseau, donc quasiment illisibles (on parle de version de "production"). Nous pouvons accéder à la librairie "lisible à l'adresse <a href="https://code.jquery.com/jquery-3.4.1.js" target="_blank">https://code.jquery.com/jquery-3.4.1.js</a>. Cette version est généralement utilisée pour le développement, elle nous permettra de vérifier qu'il s'agit bien d'un "gros" fichier de fonctions JavaScript.</p>
                    <p>Notons bien sûr que, puisque les scripts JavaScript sont chargés dans leur ordre d'apparition dans le DOM, qu'ilfaudra s'assurer que JQuery est chargé <span class="em">avant</span> nos scripts qui l'utilisent.</p>
                    <h4 id="syntaxe_jquery">Syntaxe de JQuery :</h4>
                    <p>Pour analyser quelques exemples d'utilisations de JQuery, nous utiliserons le fichier suivant :</p>
<pre class="taillle60"><code>&lt;!DOCTYPE html&gt;
&lt;html lang="fr"&gt;
    &lt;head&gt;
        &lt;meta charset="UTF-8"&gt;
        &lt;title&gt;Exemples d'utilisation de JQuery&lt;/title&gt;
        &lt;script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HdCJo=" crossorigin="anonymous"&gt;&lt;/script&gt;
        &lt;script src="script.js"&gt;&lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div id="a"&gt;TODO write content&lt;/div&gt;
        &lt;p&gt;Coucou&lt;/p&gt;
        &lt;p&gt;Bonjour&lt;/p&gt;
        &lt;p&gt;Hello&lt;/p&gt;
    &lt;;/body&gt;
&lt;/html&gt;</code></pre>
                    <p>Si le script span.em{script.js} est vide, l'affichage de la page ressemble à ceci :</p>
                    <div id="a">TODO write content</div>
                    <p>Coucou</p>
                    <p>Bonjour</p>
                    <p>Hello</p>
                    <h5 id="fonction_jquery">La fonction JQuery :</h5>
                    <p>La librairie JQuery propose une seule fonction, <span class="html">jQuery()</span>, qui peut aussi être appelée par son alias, <span class="html">$()</span>. Cette fonction permet de rapidement sélectionner un élément, puis d'appeler d'autres fonctions sur cet élément, sous la forme suivante :</p>
                    <p class="html">$(sélecteur).action(...);</p>
                    <p>Cette sélection se fait via des sélecteurs, qui utilisent la même syntaxe que les sélecteurs CSS.</p>
                    <p>Par exemple, le script suivant demande que l'élément dont l'<span class="em">id</span> est "<span class="em">a</span>" soit remplacé par l'argument  de la <span class="em">méthode <span class="html">html()</span></span>, qui est une des méthodes définies dans JQuery.</p>
<pre class="taille60"><code>$(function() {
    $("#a").html("Je modifie ceci avec JQuery.");
}</code></pre>
                   <h5 id="evenements_jquery">Les événements en JQuery :</h5>
                   <p>La plupart des événements du DOM disposent de leur équivalent en JQuery, généralement avec le même nom. Par exemple, la méthode <a href="http://api.jquery.com/click/" target="_blank" class="html">click()</a> associe à l'élément HTML sélectionné un événement qui se produit lorsque l'utilisateur clique sur cet élément.</p>
                   <p>Ajoutons un événement de ce type à notre script :</p>
<pre class="taille60"><code>$(function() {
    $("#a").html('Je modifie ceci avec JQuery.');
    $("#a").click(function() {
        $(this).hide();
    });
});</code></pre>
                    <p>Au moment où l'élément d'identifiant "<span class="em">a</span>" reçoit un clic de souris, il va maintenant disparaître via la méthode <span class="html">hide()</span>, qui permet de "cacher" l'élément. Le mot-clé <span class="html">this</span> désigne l'élément courant.</p>
                    <p>On notera que la méthode <a href="https://api.jquery.com/on/" target="_blank" class="html">on(event, handler)</a> permet d'ajouter le gestionnaire d'un événement via son nom dans le DOM.</p>
                    <p>Enfin, notons que la méthode <span class="html">jquery()</span> (et son alias <span class="html">$()</span>), si elle reçoit un gestionnaire d'événement en paramètre au lieu d'un sélecteur CSS, sert de raccourci à l'expression :</p>
                    <p class="html">$(document).ready(handler);</p>
                    <p>C'est-à-dire qu'il s'agit de l'événement qui se produit lorsque le DOM a terminé de se charger, qui comme nous l'avons vu permet de s'assurer que nos scripts JavaScript s'exécutent sur la page dans son ensemble.</p>
                    <h5 id="methodes_jquery">Les méthodes de JQuery :</h5>
                    <p>Nous avons déjà vu quelques méthodes qui peuvent être appelées sur un élément une fois qu'il a été sélectionné via JQuery. Il ne sera pas possible d'en voir une liste exhaustive dans le cadre de cours : comme toujours, nous ferons référence à la documentation sur le sujet.</p>
                    <p>Notons toutefois quelques méthodes fréquentes :</p>
                    <ol>
                        <li><a href="https://api.jquery.com/html/#html2" target="_blank" class="html">html(text)</a> permetde modifier le contenu d'un élément HTML (similaire à <span class="html">innerHTML</span> du DOM).</li>
                        <li>
                            <p><a href="https://api.jquery.com/css/" target="_blank" class="html">css()</a> permet d'accéder du style CSSde l'élément. Elle admet plusieurs syntaxes :</p>
                            <ol type="(a)">
                                <li><span class="html">css("background")</span> retourne la valeur de la propriété CSS <span class="em">background</span>.</li>
                                <li><span class="html">css("color", "red")</span> modifie la valeur de la propriété CSS <span class="em">color</span> en <span class="em">red</span>.</li>
                                <li><span class="html">css({"color": "red", "font-stle": "italic"})</span> modifie plusieurs propriétés d'un coup.</li>
                            </ol>
                            <p>Par sourci de séparation des rôles dans nos codes, il est généralement préférable de définir une classe CSS possédant ces propriétés, puis de donner cette classe aux éléments correspondants. De cette façon, toutes les informations destyle restent reléguées au CSS.</p>
                        </li>
                        <li>
                            <p><a href="https://api.jquery.com/attr/" target="_blank" class="html">attr()</a> permet d'accéder à un attribut d'un élément HTML. Par exemple :</p>
                            <ol type="(a)">
                                <li><span class="html">attr("class")</span> retourne la valeur de l'attribut <span class="em">class</span> de l'élément.</li>
                                <li><span class="html">attr("class", "myClass")</span> modifie la valeur de l'attribut <span class="em">class</span> de l'élément en <span class="em">myClass</span>.</li>
                            </ol>
                        </li>
                        <li><a href="https://api.jquery.com/find/" target="_blank" class="html">find()</a> cherche et retourne les éléments descendants correspondants à certains critères, comme un sélecteur ou l'appel à la fonction <span class="html">jQuery()</span>. Dans ce deuxième cas, les éléments retournés par cet appel à <span class="html">jQuery()</span> sont filtrés pour me conserver que ceux qui sont descendants de l'élément sur lequel <span class="html">find()</span> est appelé.</li>
                    </ol>
                    <p>Notons que les méthodes qui <span class="em">modifient</span> un élément HTML (y compris par un ajout de gestionnaire d'événement) renvoient l'élément lui-même en résultat. Cela nous permet d'effectuer du <span class="em">chaînage de méthodes</span>, où l'on appelle des méthodes successivement sans devoir rappeler la fonction <span class="html">jQuery()</span>. Cela nous permet d gagner en efficacité, et d'avoir une écriture plus compacte.</p>
                    <p>Par exemple, nous pouvons modifier notre script précédent :</p>
<pre class="taille60"><code>$(function() {
    $("#a").html('Je modifie ceci avec JQuery.').click(function() {
        $(this).hide();
    });
});</code></pre>
                    <h3 id="validation_formulaires_jquery">Validation de formulaires :</h3>
                    <p>Rien n'est prévu à la base de JQuery mais le plugin <a href="https://jqueryvalidation.org/" target="_blank">validate</a> est accessible pour subvenir à nos besoins. Nous devons bien sûr le télécharger :</p>
                    <p class="html">&lt;script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.1/dist/jquery.validate.min.js"&gt;&lt;/script&gt;</p>
                    <p>La validation se fait via la création d'un objet JavaScript dans lequel nous définirons diverses règles que la validation prendra en compte. Nous reviendrons sur la syntaxe des <a href="https://www.w3schools.com/js/js_objects.asp" target="_blank">objets JavaScript</a> lorsque l'on va parler de JSON ci-dessous, mais prenons un exemple :</p>
<pre class="taille60"><code>$("#formId").validate({
    rules: { // gestion des rèfles de validation
        nom: "required", // l'élement de nom "nom" est obligatoire et ne reprend pas d'autre règle
        mail: {
            email: true // l'élement de nom "mail" est un email mais pas obligatoire
        },
        numero: { // numéro obligatoire et compris entre 30000 et 99999
            required: true,
            range: [30000, 99999]
        },
        messages: { // redéfinition desmessages
            nom: "Le nom est obligatoire.",
            mail: {
                email: "Entrez un adresse mail valide."
            },
            numero: {
                required: "Le numéro est obligatoire.",
                range: "Le numéro doit être compris entre {0} et {1}."
            },
            // ...
        }
    }
});</code></pre>
                    <h3 id="animations">Animations :</h3>
                    <p>JQuery permet de réaliser aisément un grand nombre d'<a href="https://api.jquery.com/category/effects/" target="_blank">animations</a>... dont il ne faut bien sûr pas abuser.</p>
                    <p>Prenez le temps de parcourir les quelques exemples présentés par W3Schools à partir de <a href="http://www.w3schools.com/jquery/jquery_hide_show.asp" target="_blank">http://www.w3schools.com/jquery/jquery_hide_show.asp</a>.</p>
                    <p>Un élément à bien comprendre est la notion de <span class="em">callback function</span>.</p>
                </article>
                <article id="ajax">
                    <h2>Ajax :</h2>
                    <h3 id="intro_ajax">Introduction à Ajax :</h3>
                    <p><span class="html">AJAX</span>, nom donné à la mise en oeuvre d'un ensemble de techniques, permet de dynamiser les pages HTML.</p>
                    <p>Avec une page permettant de sélectionner un employé comme ci-dessous :</p>
                    <img src="images/selection_employe.PNG" alt="Sélectionnez un employé">
                    <p>Dans un site classique, à chaque fois que l'utilisateur choisit un autre département, une requête doit être faite au serveur afin de peupler la liste des employés avec ceux qui correspondent au département demandé. C'est peu efficace, surtout si l'utilisateur revient en arrière et doit dès lors demander une nouvelle liste.</p>
                    <p>Avec <span class="em">AJAX</span>, nous pourrons lancer une requête unique au serveur demandant l'ensemble des employés du département sélectionné et les placer dans la liste déroulante des employés. Généralement, la liste des employés nous sera retournée sous la forme d'un document XML ou JSON.</p>
                    <h3 id="definition_ajax">Définition de AJAX :</h3>
                    <p><span class="em">AJAX</span> signifie <span class="em">Asynchronous JavaScript And Xml</span>. Il ne s'agit pas d'un langage ou d'une librairie, mais d'une démarche permettant de diminuer certaines limitattions imposées aux applications Web par HTTP et HTML.</p>
                    <p>La lacune essentielle des applications Web était leur manque d'intéractivité : toute modification de la page affichée par le navigateur imposait un réaffichage complet.</p>
                    <p>Nous avons déjà aperçu que JavaScript permet d'assouplir ce fait, mais les actions apparaissant dans le navigateur sont réalisées sans aucun contact avec le serveur. Si, par exemple, nous voulons afficher des informations à la demande de l'utilisateur, soit l'ensemble des informations doit être chargé initialement (transfert prohibitif comme l'exemple ci-dessus où le client devrait recevoir tous les départements et tous les employés d!s le premier chargement de la page !), soit la page complète doit être rechargée à chaque action !</p>
                    <p><span class="em">AJAX</span> va nous permettre de nous libérer de ces contraintes. Attention, à nouveau, comme pour JavaScript, il s'agira de ne pas abuser de cette démarche pour ne pas rendre nos pages trop complexes à concevoir et surtout à maintenir. En partier, <span class="em">la logique métier doit rester sur le serveur !</span></p>
                    <p>En reprenant l'acronyme complet, les caractéristiques d'<span class="em">AJAX</span> sont :</p>
                    <ol>
                        <li>Il est <span class="em">Asynchrone</span> : Le client va pouvoir parler au serveur en mode asynchrone. Il demande des informations au serveur et continue son travail. Lorsque la réponse du serveur est prête, un code précédemment spécifié est appelé pour la traiter.</li>
                        <li>Il utilise <span class="em">JavaScript</span> : Du côté client, c'est généralment ce langage qui est utilisé. JavaScript a longtemps été décrié car peu compatible d'un navigateur à l'autre, créant des problèmes de sécurité et finalement essentiellement utilisé pour de futiles effets graphiques. À tel point que les nvaigateurs permettent d'empêcher l'utilisation de JavaScript. Depuis la compatibilité s'est accrue et, surtout, on s'est rendu compte, qu'au-delà des gadgets, il pouvait apporter un réel confort d'utilisation.</li>
                        <li>Il utilise aussi <span class="em">XML</span>, en tant que format utilisé par le serveur pour transmettre des informations au client. C'est parfois également fait avec HTML (rarement, car limité) ou JSON (que nous verrons un plus tard).</li>
                    </ol>
                    <h3 id="mise_en_oeuvre_ajax">Mise en oeuvre :</h3>
                    <p>Nous ne réaliserons réellement ceci que plus tard quand nous programmerons une application web, car les exemples ci-dessus sont prévus pour le protocole <span class="em">http(s)</span> et pas pour le protocole <span class="em">file</span>.</p>
                    <h4 id="meo_js_ajax">En JavaScript :</h4>
                    <p>L'objet JavaScript <a href="https://www.w3schools.com/xml/xml_http.asp" target="_blank" class="html">XMLHttpRequest</a> permet d'exécuter des requêtes HTTP utilisées par Ajax :</p>
                    <p class="html">http = new XMLHttpRequest();</p>
                    <p>Il faut noter qu'anciennement, chaque navigateur utilisait une syntaxe différente, et il fallait procéder via un <span class="em">try catch</span> de JavaScript pour essayer les différentes syntaxes existantes. C'est toutefois du passé.</p>
                    <p>Une fois l'objet créé, il peut être utilisé pour envoyer des requêtes à un serveur, à l'aide de plusieurs méthodes et propriétés :</p>
                    <ol>
                        <li><span class="em">http.open("method", "url")</span> prépare l'envoi d'une requête au serveur reseigné par l'URL mentionnée, avec la méthode renseignée (par exemple "<span class="em">GET</span>" ou "<span class="em">POST</span>").</li>
                        <li><span class="em">http.responseType</span> précise le format dans lequel le serveur va répondre; l'objet se prépare ainsi à recevoir et formater cette réponse.</li>
                        <li><span class="em">http.onreadystatechange</span>est une propriété dans laquelle on peut stocker une fonction, qui sera appelée lorsque la requête a été envoyée et une réponse a été reçue. Les valeurs que l'état peut prendre sont renseignées <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/readyState" target="_blank">ici</a>.</li>
                        <li><span class="em">http.send()</span> envoie la requête au serveur.</li>
                    </ol>
                    <p>Pour plus d'informaions, un tutoriel est disponible sur <a href="https://www.pierre-giraud.com/javascript-apprendre-coder-cours/ajax-xmlhttprequest/" target="_blank">ce site</a>.</p>
                   <p>Un exemple de code complet d'envoi d'une requête serait par exemple :</p>
<pre class="taille60"><code>http = new XMLHttpRequest();
// Fonction appelée quand la réponse est prête.
http.onreadychange = stateChanged;
// Prépare une requête GET asynchrone pour l'URL indiquée.
http.open("GET", "url");
http.send(); // L'envoi au serveur

function stateChanged() {
    if (http.readyState == XMLHttpRequest.DONE) {
        // La réponse est revenue du serveur.
        if (http.status == 200) { // Tout s'est bien passé.
            http.responseText // Contient la réponse.
            http.responseXML // Pour récupérer du XML.
        } else {
            // Gestion de l'erreur.
        }
    }
}</code></pre>
                    <p>Cet envoi de requête est bien asynchrone :</p>
                    <ol>
                        <li>On spécifie les traitements à réaliser lorsque la réponse sera prête, en associant une fonction à la survenue de l'événement <span class="em">onreadystatechange</span>. La classe <span class="em">XMLHttpRequest</span> fournit également d'autres gestionnaires d'événements.</li>
                        <li>On prépare la requête avec la méthode <span class="em">open()</span>, puis on l'envoie au serveur avec <span class="em">send()</span>.</li>
                        <li>Quand la réponse est prête, cela déclenche l'exécution de la méthode spécifiée.</li>
                    </ol>
                    <p>Si vous souhaitez tester ces méthodes sur des fichiers locaux, vous pouvez utiliser le protocole <span class="em">file</span>; toutefois, notez que le code de réponse est alors 0 et non 200 comme pour une requête HTTP qui s'est déroulée avec succès.</p>
                    <h4 id="meo_jquery_ajax">Avec JQuery :</h4>
                    <p>JQuery introduit une fonction <a href="https://www.w3schools.com/jquery/ajax_ajax.asp" class="html" target="_blank">$.ajax()</a> qui permet de définir un appel AJAX avec les paramètres suivants, passés via un objet JavaScript :</p>
                    <ol>
                        <li><span class="html">url</span> : le document ciblé.</li>
                        <li><span class="html">type</span> : les méthodes d'appel.</li>
                        <li><span class="html">data</span> : des données qui accompagnent la requête (par exemple via un formulaire).</li>
                        <li><span class="html">success</span> : la fonction JavaScript à exécuter en cas de réussite.</li>
                        <li><span class="html">error</span> : la fonction JavaScript à exécuter en cas d'échec.</li>
                        <li><span class="html">complete</span> : la fonction JavaScript à exécuter quand tout est terminé.</li>
                    </ol>
                    <p>Par exemple (pris du tutoriel de W3Schools) :</p>
<pre class="taille60"><code>$("button").click(function() {
    $.ajex({
        url: "demo_test.txt",
        success: function(result) {
            $("#div1").html(result);
        }
    });
});</code></pre>
                    <p>Pour des requêtes plus standard, des méthodes prédéfinies existent également :</p>
                    <ol>
                        <li><a href="https://www.w3schools.com/jquery/ajax_load.asp" class="html" target="_blank">$(selector).load(url)</a> charge le contenu de la ressource à l'URL donnée dans l'élément sélectionné.</li>
                        <li><a href="https://www.w3schools.com/jquery/ajax_get.asp" class="html" target="_blank">$.get(url [, data, function, dataType])</a> envoie une requête avec la méthode GET à l'URL donnée.</li>
                        <li><a href="https://www.w3schools.com/jquery/ajax_getjson.asp" class="html" target="_blank">$.getJSON(url [, data, function])</a> envoie une requête avec la méthode GET et attend des données spécifiquement au format JSON.</li>
                        <li><a href="https://www.w3schools.com/jquery/ajax_post.asp" class="html" target="_blank">$.post(url [, data, function, dataType])</a> envoie une requête avec la méthode POST à l'URL donnée.</li>
                    </ol>
                    <h3 id="avantages_inconvenients_ajax">Avantages et inconvénients :</h3>
                    <p><span class="em">AJAX</span> permet de fluidifier les échanges navigateur-serveur et de rendre l'interface utilisateur moins rigide (client "riche"). Il faut toutefois rester attentif à certains points :</p>
                    <ol>
                        <li>Les robots ne référenceront pas les données obtenues au travers d'AJAX.</li>
                        <li>Attention à préserver la fonctionnalité du bouton "Back" du navigateur (des solutions toutes faites existent).</li>
                        <li>Il faut assurer la sécurité des requêtes via AJAX aussi sérieusement que les requêtes "classiques".</li>
                        <li>La notion de lien perd de son sens : fournir un lien à quelqu'un donne accès à la page mais pas nécessairement à l'info que l'on désire faire visualiser.</li>
                    </ol>
                    <p><span class="em">Remarque :</span> Pour des raisons de sécurité, la plupart des navigateurs empêchent d'accéder, par le biais d'AJAX, à une ressource d'un autre serveur que celui qui a fourni la page courante. Ceci peut parfois être modifié, à vos rsiques et périls, dans les paramètres du navigateur.</p>
                </article>
                <article id="json">
                    <h2>Format de données JSON :</h2>
                    <p><span class="em">JSON</span> est un format de données dans les objectifs sont similaires à ceux de <span class="em">XML</span>. Il se distingue par son format très léger.</p>
                    <h3 id="objets_js">Objets JavaScript :</h3>
                    <p>Les <a href="https://www.w3schools.com/js/js_objects.asp" target="_blank">objets JavaScript</a> sont une structure de données permettant de stocker plusieurs informations dans une seule variable. Ces informations sont de deux types :</p>
                    <ul>
                        <li>Des <span class="em">propriétés</span>, qui contiennent des valeurs.</li>
                        <li>Des <span class="em">méthodes</span>, qui contiennent des fonctions.</li>
                    </ul>
                    <p>Contrairement à un langage typé tel que Java, il est possible de créer un objet sans définir une classe qui régit la structure de cet objet. Des classes peuvent être définies en JavaScript, mais leur rôle sert plutôt de générer des objets qui possèdent tous la même structure, puisque JavaScript n'est pas un langage typé.</p>
                    <p>Un objet est défini via des accolades <span class="em">{}</span>, contenant des déclarations sous la forme <span class="em">champ: valeur</span>, séparées par des virgules. Par exemple :</p>
<pre class="taille60"><code>var person = {
    firstName: "John",
    lastName: "Doe",
    age: 50,
    eyeColor: "blue",
    fullName: () =&gt; {
        return this.firstName + " " + this.lastName;
    }
};</code></pre>
                    <p>Cet objet possède quatre propriétés <span class="em">firstName</span>, <span class="em">lastName</span>, <span class="em">age</span> et <span class="em">eyeColor</span>, et une méthode <span class="em">fullName</span>. Notez que les propriétés et méthodes se déclarent exactement de la même façon : c'est la valeur assignée au champ qui détermine s'il s'agit d'une propriété ou méthode.</p>
                    <p>L'accès aux propriétés peut se faire de deux façons <span class="html">nomDeVariable.propriété</span> ou <span class="html">nomDeVariable["propriété"]</span>. Ces notions sont équivalents.</p>
<pre class="taille60"><code>person.firstName; // "John"
person["firstName"]; // "John"
person.age; // 50</code></pre>
                    <p>Quant aux méthodes, il est possible d'appeler la méthode de façon similaire à un appel de fonction classique <span class="html">nomDeVariable.méthode()</span>. Il est toutefois également possible de passer la déclaration de la fonction dans une variable en omettant les parenthèses <span class="html">nomDeVariable.méthode</span>.</p>
<pre class="taille60"><code>person.fullName; // Déclaration de la méthode
person.fullName(); // Appel de la méthode : renvoie "John Doe"</code></pre>
                    <p>On peut donc voir un objet JavaScript comme un dictionnaire mettant en relation des chaînes de caractères à des valeurs ou des fonctions.</p>
                    <h3 id="intro_json">Intoduction à JSON :</h3>
                    <p><a href="https://www.json.org/" class="html" target="_blank">JSON (JavaScript Object Notation)</a> est un format texte qui peut être facilement interprété comme un objet JavaScript, ou un tableau d'objets JavaScript, du moment que ces objets ne possèdent pas de méthodes. Étant un format très léger, il a tedance à supplanter XML dans les services Web et l'utilisation d'AJAX.</p>
                    <p>Les éléments constitutifs sont :</p>
                    <ul>
                        <li>
                            <p>Des objets, représentés comme dans du code JavaScript, entre accolades contenant des propriétés :</p>
                            <ul>
                                <li>Un nom de propriété sous la forme d'une chaîne de caractères. Contrairement à du code JavaScript, le nom de chaque propriété <span class="em">doit être noté entre guillemets</span>.</li>
                                <li>
                                    <p>Une valeur, soit :</p>
                                    <ul>
                                        <li>Une chaîne de caractères entre guillemets, avec certains caractères d'échappements possibles.</li>
                                        <li>Un nombre.</li>
                                        <li>Un booléen (<span class="html">true</span> ou <span class="html">false</span>).</li>
                                        <li>La valeur vide <span class="html">null</span>.</li>
                                        <li>Un objet.</li>
                                        <li>Un tableau.</li>
                                    </ul>
                                    <p>Les propriétés sont séparées par des virgules.</p>
                                </li>                            </ul>
                        </li>
                        <li>Des tableaux, représentés par des crochets, contenant des objets séparés par des virgules.</li>
                    </ul>
                    <p>Les espaces blancs (retours à la ligne, tabulations, etc) ne sont généralement pas pris en compte.</p>
                    <p>Par exemple, les données représentées dans le fichier XML suivant :</p>
<pre class="taille60">&lt;?XML version="1.0" encoding="UTF-8".&gt;
&lt;classe&gt;
    &lt;cours&gt;Développement Internet&lt;/cours&gt;
    &lt;etudiants&gt;
        &lt;etudiant&gt;
            &lt;no&gt;23456&lt;/no&gt;
            &lt;nom&gt;Dupont&lt;/nom&gt;
            &lt;prenom&gt;Marc&lt;/prenom&gt;
        &lt;/etudiant&gt;
        &lt;etudiant&gt;
            &lt;no&gt;24235&lt;/no&gt;
            &lt;nom&gt;Durand&lt;/nom&gt;
            &lt;prenom&gt;Hélène&lt;/prenom&gt;
        &lt;/etudiant&gt;
    &lt;/etudiants&gt;
&lt;/classe&gt;<code></code></pre>
                    <p>Pourraient être représentées via le fichier JSON :</p>
<pre class="taille60"><code>{
    "classe": {
        "cours": "Développement Internet",
        "etudiants": [
            {"no": 23456, "nom": "Dupont", "prenom": "Marc"},
            {"no": 24235, "nom": "Durant", "prenom": "Hélène"}
        ]
    }
}</code></pre>
                    <h3 id="utilisation_json_js">Utilisation de JSON en JavaScript :</h3>
                    <p>La plupart des langages actuels offrent un support à JSON : nous allons aborder l'utilisation de JSON avec JQuer, comme il pourrait être utilisé avec AJAX.</p>
                    <p>Nous allons ici construire une page HTML dotée de trois boutons comme ci-dessous !</p>
<pre class="taille60"><code>&lt;!DOCTYPE html&gt;
&lt;html lang="fr"&gt;
    &lt;head&gt;
        &lt;meta charset="UTF-8"&gt;
        &lt;title&gt;Exemple JSON&lt;title&gt;
        &lt;script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"&gt;&lt;/script&gt;
        &lt;script type="text/javascript" src="buttons.js"&gt;&lt;/scripts&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div id="personne"&gt;
            &lt;input type="button" id="b1" value="getPersonne"&gt;
        &lt;/div&gt;
        &lt;div id="personnes"&gt;
            &lt;input type="button" id="b2" value="getPersonnes"&gt;
        &lt;/div&gt;
        &lt;div id="personnesAjax"&gt;
            &lt;input type="button" id="b3" value="getPersonnesAjax"&gt;
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
                    <p>Avecle fichier <span class="em">personnes.json</span> :</p>
<pre class="taille60"><code>[
    {"nom": "TonNom", "prenom": "TonPrenom"},
    {"nom": "SonNom", "prenom": "SonPrenom"}
]</code></pre>
                    <p>Et le script <span class="em">buttons.js</span> :</p>
<pre class="taille60"><code>varjson1 = '{"nom": "MonNom", "prenom": "MonPrenom"}';
var json2 = '[{"nom": "MonNom", "prenom": "MonPrenom"}, \
            {"nom": "SonNom", "prenom": "SonPrenom"}]';
$(document).ready(() =&gt; {
    $("#b1").click(() =&gt; {
        var une Personne = $.parseJSON(json1);
        $("#personne").html("&lt;p class='personne'&gt;" + unePersonne.nom + ", " + unePersonne.prenom + "&lt;/p&gt;");
    });
    $("#b2").click(() =&gt; {
        var desPersonnes = $.parseJSON(json2);
        var liste = "&lt;ul&gt;";
        $.each(desPersonnes, (idx, personne) =&gt;) {
            liste += "&lt;li classe='personne'&gt;" + personne.nom + ", " + personne.prenom + "&lt;/li&gt;";
        });
        liste += "&lt;/ul&gt;";
        $("#personnes").html(liste);
    });
    $("#b3").click(() =&gt; {
        $.ajaxSetup({mimeType: "text/plain"});
        $.getJSON("personnes.json", (desPersonnes) =&gt;) {
            var liste = "&lt;ul&gt;";
            $.each(desPersonnes, (key, personne) =&gt;) {
                liste += "&lt;li classe='personne'&gt;" + personne.nom + ", " + personne.prenom + "&lt;/li&gt;";
            });
            liste += "&lt;/ul&gt;";
            $("#personnesAajx").html(liste);
        });
    });
});</code></pre>
                    <p>Pour les deux premiers boutons, un gestionnaire d'événement <span class="em">onclick</span> est assigné comme nous l'avons déjà fait. La fonction <span class="html">$.parseJSON()</span> de JQuery permet de transformer une chaîne de caractères déjà stockée dans une variable, et de transformer celle-ci en un objet JavaScript, si le format de la chaîne est un format JSON valide.</p>
                    <p>Pour le troisième bouton, la fonction de JQuery <span class="html">$.getJSON()</span> est appelée à la place. Cette fonction, déjà vue précédemment, envoie unerequête <span class="html">GET</span> à l'adresse renseignée, reçoit une réponse qui est supposée au format JSON, et convertit celle-ci automatiquement en un objet JavaScript (en appelant implicitement la méthode <span class="html">parseJSON()</span>).</p>
                </article>
                <article id="php">
                    <h2>Langage PHP :</h2>
                    <p><span class="em">PHP</span> est un langage de programmation par scripts principalement utilisé pour produire des pages Web dynamiques.</p>
                    <h3 id="intro_php">Indroduction au PHP :</h3>
                    <p>PHP, à l'origine "<span class="em">Personal Home Page</span>" mais depuis renommé en "<a href="https://www.php.net/manual/en/preface.php" class="em" target="_blank">PHP : Hypertext Preprocessor</a>" est un langage de scripts. Il est multi-usage, mais une de ses utilités principales est la possibilité d'intégrer des scripts PHP au sein de templates HTML afin de produire facilement des pages Web de façon dynamique.</p>
                    <p>Contrairement à JavaScript, où les pages Web sont <span class="em">modifiées</span> de façon dynamique du côté du client (c'est-à-dire du navigateur Internet de l'utilisateur), PHP permet de <span class="em">générer</span> des pages Web du côté du serveur. Le script PHP sera exécuté au niveau du serveur lors d'une requête HTTP, et c'est la page créée à l'issue de cette exécution qui est envoyée au client en réponse à sa requête.</p>
                    <h3 id="template_HTML_PHP">Template HTML et PHP :</h3>
                    <p>Un fichier PHP est un fichier texte, qui peut contenir de l'hypertexte de façon similaire à un fichier HTML.</p>
                    <p>Cependant, en outre, il peut contenir du code PHP, placé au sein de balises <span class="html">&lt;?php</span> (ouvrante) et <span class="html">?&gt;</span> (fermante). Lorsque le serveur charge la page, le code situé entre ces balises est exécuté, et ses valeurs de retours (s'il y en a) sont insérées dans la page à l'endroit où la balise PHP était placée.</p>
                    <p>Prenons par exemple le template suivant :</p>
<pre class="taille60"><code>&lt;!DOCTYPE html&gt;
&lt;html lang="fr"&gt;
    &lt;head&gt;
        &lt;meta charset="UTF-8"&gt;
        &lt;title&gt;test&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;?php echo "Bonjour le monde ! &lt;br&gt;"; ?&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
                    <p>Une fois que le serveur charge cette page, le code PHP est exécuté. L'instruction <span class="html">echo</span> indique que le texte qui suit est inséré dans la page, et il s'agit de la seule instruction ici. Par conséquent, une fois le chargement terminé, le fichier HTML suivant est généré :</p>
<pre class="taille60"><code>&lt;!DOCTYPE html&gt;
&lt;html lang="fr"&gt;
    &lt;head&gt;
        &lt;meta charset="UTF-8"&gt;
        &lt;title&gt;test&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        Bonjour le monde ! &lt;br&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
                    <p>Notez qu'il est aussi possible d'écrire un fichier PHP qui ne contient que du code PHP, sans HTML autour. Dans ces cas-là, il faut quand même ouvrir la balise <span class="html">&lt;php</span>, mais on peut omettre la balise fermante <span class="html">?&gt;</span>.</p>
                    <h3 id="elements_syntaxe_php">Éléments de syntaxe PHP :</h3>
                    <p>La syntaxe de PHP est inspirée de langages tels que C, C++ et Java; vous pourrez sans doute la prendre en main sans trop de difficulté. Nous verrons ici les particularités du langage les plus utiles, mais nous vous encourageons comme toujours de consulter la documentation du langage pour plus d'informations : <a href="https://www.php.net/docs.php" target="_blank">https://www.php.net/docs.php</a>.</p>
                    <p>Notons pour commencer qu'à l'instar de Java, toute instruction en PHP se termine par un point-virgule.</p>
                    <h4 id="variables_php">Variables :</h4>
                    <p>PHP est un langage non typé, à l'instar de JavaScript. Cela signifie que le type des variables n'est pas déclaré lorsqu'une variable est créé. En outre, PHP offre certaines fonctionnalités par rapport aux variables qui permettront de rendre la génération des pages dynamiques particulièrement pratique.</p>
                    <p>PHP offre trois niveaux de visibilité pour ses variables :</p>
                    <ul>
                        <li>Les variables <span class="em">locales</span> sont visibles uniquement dans le bloc de code où elles sont déclarées. Le nom d'une variable locale commence par le symbole <span class="html">$</span>, par exemple <span class="html">$var</span>.</li>
                        <li>Les variables <span class="em">globales</span>sont visibles partout dans le code. Celles-ci peuvent être définies de deux façons : soit avec le mot-clé <span class="html">global</span>, par exemple <span class="html">global $var</span>, soit en l'ajoutant au tableau <span class="html">$GLOBALS</span> via <span class="html">$GLOBALS['var']</span>.</li>
                        <li>
                            <p>Les variables <span class="em">superglobales</span> sont des variables visibles partout dans le code, déjà prédéfinies par PHP, avec des rôles bien définis. Il s'agit également de tableaux, qui pourront recevoir des champs nommés. On notera en particulier :</p>
                            <ul>
                                <li>La variable <span class="html">$_GET</span>, qui contient les données passées au serveur durant une requête HTTP GET.</li>
                                <li>La variable <span class="html">$_POST</span>, qui contient les données passées au serveur durant une requête HTTP POST.</li>
                                <li>La variable <span class="html">$_FILES</span>, qui contient les fichiers passés par une requête HTTP POST.</li>
                                <li>Les cookies <span class="html">$_COOKIE</span> qui permet d'accéder aux cookies HTTP.</li>
                                <li>La variable de requête <span class="html">$_REQUEST</span>, qui combine par défaut <span class="html">$_GET</span>, <span class="html">$_POST</span> et <span class="html">$_COOKIE</span>.</li>
                                <li>La variable de session <span class="html">$_SESSION</span> qui persistent durant une session utilisateur donnée.</li>
                                <li>La variable d'environnement <span class="html">$_ENV</span> contient les informations de l'environnement dans lequel le programme s'exécute.</li>
                            </ul>
                            <p>Notons aussi que <span class="html">$GLOBALS</span> est en fait une variable superglobale qui reprend les variables globales définies dans le programme.</p>
                        </li>
                    </ul>
                    <p>Les variables superglobales, en particuliers, sont celles qui vont nous permettre de créer des pages. Par exemple, lors de l'envoi d'un formulaire HTML :</p>
<pre class="taille60"><code>&lt;form action="login.php" method="POST"&gt;
    &lt;input type="text" name="login" placeholder="Login"&gt;
    &lt;input type="submit" value="Se connecter"&gt;
&lt;/form&gt;</code></pre>
                    <p>L'action de la balise <span class="html">&lt;form&gt;</span> dicte l'URL qui est demandée au serveur. Dans ce cas-ci, il s'agit d'un fichier PHP; le serveur va alors exécuter le script contenu dans ce fichier :</p>
<pre class="taille60"><code>&lt;!DOCTYPE html&gt;
&lt;html lang="fr"&gt;
    &lt;head&gt;
        &lt;meta charset="UTF-8"&gt;
        &lt;title&gt;Login&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;?php
            $login = $_POST['login'];
            echo "Bienvenue $login";
        ?&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
                    <p>La variable superglobale <span class="html">$_POST</span> récupère automatiquement les informations passées par le formulaire.</p>
                    <h5 id="controle_variables_php">Contrôle des variables :</h5>
                    <p>Il est possible d'effectuer des vérifications sur les variables :</p>
                    <ul>
                        <li>Vérification de l'existence : via la fonction <span class="html">isset()</span>.</li>
                        <li>
                            <p>Vérification de la vacuité (si la variable est vide) : via la fonction <span class="html">empty()</span>.</p>
                            <ul>
                                <li>Une variable peut <span class="em">exister</span> mais être <span class="em">vide</span> : par exemple un champ laissé vide dans un formulaire !</li>
                            </ul>
                        </li>
                        <li>Destruction manuelle de variable : via la méthode <span class="html">unset()</span>.</li>
                    </ul>
                    <h5 id="operateur$_variables_dyamiques">Opérateur $ et variables dynamiques :</h5>
                    <p>En dehors de la déclaration d'une variable, $ est un opérateur qui permet de retourner la valeur contenue dans la variable dont le nom est renseigné juste après le symbole $. Par exemple, dans <span class="em">login.php</span> ci-dessus, dans l'expression <span class="html">"Bienvenue 1login"</span>; l'opérateur <span class="em">$loin</span> est évalué en premier, et la valeur contenue dans cette variable est concaténée à la chaîne adjacente.</p>
                    <p>Un usage particulier de cette capacité en PHP est l'emploi de <span class="em">variables dynamiques</span> : si on souhaite à accéder à une variable dont le nom est lui-même contenu dans une autre variable, on pourra se servir de cet opérateur pour procéder rapidement :</p>
<pre class="taille60"><code>&lt;?php
    // appel d'une variable dynamique
    // affectation
    $cours = "AIN";
    $varx = "cours";
    // appel de la variable dynamique
    echo $$varx; # équivaut à echo $cours;
?&gt;</code></pre>
                    <h4 id="constantes_php">Constantes :</h4>
                    <p>La définition d'une constante se fait via la fonction <span class="html">define(name, value)</span>. Par exemple :</p>
<pre class="taille60"><code>&lt;?php
    define("WEB", "http://www.heb.be/esi");
    echo "Site internet : " . WEB . "&lt;br&gt;";
?&gt;</code></pre>
                    <p>Notez que l'accès la valeur de la constante se fait en notant son nom, <span class="em">sans</span> le précéder par l'opérateur $.</p>
                    <p>PHP possède en outre quelques constantes prédéfinies :</p>
                    <ul>
                        <li><span class="html">__FILE__</span> : nom du fichier actuellement exécuté.</li>
                        <li><span class="html">__LINE__</span> : n° de la ligne actuellement exécutée.</li>
                        <li><span class="html">PHP_VERSION</span> : chaîne de caractères donnant la version de PHP utilisée.</li>
                        <li><span class="html">PHP_OS</span> : nom du système d'exploitation.</li>
                    </ul>
                    <h4 id="operateurs_php">Opérateurs :</h4>
                    <p>Les opérateurs de PHP sont, pour la plupart, similaires à ceux que vous aurez rencontrés dans d'autreslangages comme Java. On notera par exemple :</p>
                    <ul>
                        <li>Les opérateurs arithmétiques (<span class="html">+</span>, <span class="html">-</span>, <span class="html">*</span>, <span class="html">/</span>, <span class="html">%</span>).</li>
                        <li>Les opérateurs d'incrémentation et de décrémentation (<span class="html">++</span> et <span class="html">--</span>).</li>
                        <li>L'opérateur d'assignation ($a <span class="html">=</span> 42;).</li>
                        <li>Les opérateurs de comparaison (<span class="html">==</span>, <span class="html">!=</span>, <span class="html">&gt;</span>, <span class="html">&gt;=</span>, <span class="html">&lt;</span>, <span class="html">&lt;=</span>).</li>
                        <li>Les opérateurs logiques (ET : <span class="html">&&</span> ou <span class="html">and</span>, OU : <span class="html">||</span> ou <span class="html">or</span>). Notez que la version texte de ces opérateurs a une priorité moindre.</li>
                        <li>L'opérateur de concaténation de chaînes, <span class="em">attention</span>, est différent de Java : il s'écrit avec <span class="html">.</span>. Par exemple : <span class="html">$a . $b</span> concatène les chaînes de caractères contenues dans les variables <span class="html">$a</span> et <span class="html">$b</span>.</li>
                        <li>L'accès à un caractère dans une chaîne de caractères se fait via les crochets, par exemple <span class="html">$str[0]</span> renvoie le premier caractère de la chaîne contenue dans <span class="html">$str</span>.</li>
                    </ul>
                    <p>L'instruction <span class="html">echo</span>, déjà mentionnée, place ce qui suit (typiquement une chaîne de caractères) dans la page HTML générée à la fin de l'exécution du script. La fonction <span class="html">print()</span> existe aussi, et effectue la même opération, mais renvoie également une valeur de retour (1 en cas de réussite), et peut donc être appelée au sein d'une expression.</p>
                    <h4 id="tableaux_php">Tableaux :</h4>
                    <p>Les tableaux en PHP combinent deux types de tableaux :</p>
                    <ul>
                        <li>Les tableaux <span class="em">scalaires</span>, où les éléments sont associés à des indices (nombres entiers).</li>
                        <li>Les tableaux <span class="em">associatifs</span>, où les éléments sont associés à des clés (typiquement des chaînes de caractères).</li>
                    </ul>
                    <p>Ces deux types être combinés au sein d'un même tableau. On notera en particulier que les variables superglobales sont toutes des tableaux.</p>
<pre class="taille60"><code>&lt;?php
    // tableau scalaire à une dimension (vecteur)
    $heb = array("esi", "isti", "defré");
    // tableau scalaire à deux dimensions (matrice)
    $mat[0][1] = 16;

    // tableau associatif à une dimension (vecteur)
    $tab["quatrieme"] = "ghi";
    // tableau associatif à plusieurs dimensions
    $user["admin"]["nom"] = "Simpson";
    $user["admin"]["prenom"] = "Bart";

    $mat[1]["nom"] = "Manfroid"; // combinaison d'indices associatif et numérique
?&gt;</code></pre>
                    <h4 id="structures_controle_repetitives_php">Structures de contrôle et répétitives :</h4>
                    <p>De même, les structures de contrôle et les boucles sont similaires à celles de Java :</p>
                    <ul>
                        <li>
                            <p>La condition <span class="html">if</span> :</p>
<pre class="taille60"><code>&lt;?php
    $a = 34;
    $b = 136;
    if ($a == $b) {
        echo "&lt;p&gt;\$a ($a) est égal à \$b ($b)";
        $c = 23;
    } elseif ($a &lt; $b) {
        echo "&lt;p&gt;\$a ($a) est plus petit que \$b ($b)";
    } else {
     echo "&lt;p&gt;\$a ($a) est plus grand que \$b ($b)";   
    }
?&gt;</code></pre>
                        </li>
                        <li>
                            <p>L'alternative à choix multiples <span class="html">switch</span> :</p>
<pre class="taille60"><code>&lt;?php
    $i = 2;
    switch ($i) {
        case 0:
            print '$i = 0';
            break;
        case 1:
            print '$i = 1';
            break;
        case 2:
            print '$i = 2';
            break;
        default:
            print '$i est très étrange';
    }
?&gt;</code></pre>
                        </li>
                        <li>
                            <p>La boucle "pour" <span class="html">for</span> :</p>
<pre class="taille60"><code>&lt;?php
    for ($i = 0; $i != 10; $i++) {
        print $i;
    }
?&gt;</code></pre>
                        </li>
                        <li>
                            <p>La boucle "pour chaque" <span class="html">foreach</span> :</p>
<pre class="taille60"><code>&lt;?php
    $arr = array(1, 2, 3, 4);
    foreach($arr as &$value) {
        $value *= 2;
    }
?&gt;</code></pre>
                        </li>
                        <li>
                            <p>La boucle "tant que" <span class="html">while</span> :</p>
<pre class="taille60"><code>&lt;?php
    $i = 0;
    while ($i != 10) {
        print $i . "&lt;br&gt;";
        $i++;
    }
?&gt;</code></pre>
                        </li>
                        <li>
                            <p>La boucle "pour" <span class="html">faire - tant que</span> :</p>
<pre class="taille60"><code>&lt;?php
    $i = 0;
    do {
        print $i . "&lt;br&gt;";
    } while ($i != 0);
?&gt;</code></pre>
                        </li>
                    </ul>
                    <p>Certaines instructions permettent d'influencer le déroulement de conditions ou de boucles :</p>
                    <ul>
                        <li>L'instruction <span class="html">break;</span> permet de sortir d'une condition ou d'une boucle.</li>
                        <li>L'instruction <span class="html">continue;</span> permet de continuer.</li>
                    </ul>
                    <h4 id="inclusion_fichier_php">Inclusion d'un fichier :</h4>
                    <p>L'inclusion <span class="html">include</span> permet de charger et d'exécuter d'autres fichiers PHP. Par exemple :</p>
<pre class="taille60"><code>&lt;?php
    $files = array('prem.php', 'deux.php', 'trois.php');
    for ($i = 0; $i &lt; count($files); $i++) {
        include $files[$i];
    }
?&gt;</code></pre>
                    <p>Ce fichier va charger et exécuter le contenu des fichiers <span class="em">prem.php</span>, <span class="em">deux.php</span> et <span class="em">trois.php</span>. Notez qu'en particulier, cela signifie que tous les <span class="em">echo</span> effectués dans ces fichiers seront appliqués, et toutes les définitions de fonctions ou classes dans ces fichiers seront désormais accessibles.</p>
                    <h4 id="fonctions_php">Fonctions :</h4>
                    <p>La définition et l'appel de fonctions utilise une syntaxe similaire à celle de JavaScript : le mot-clé <span class="html">function</span> permet de définir une nouvelle fonction, et l'appel se fait via le nom de la fonction suivi de parenthèses (contenant éventuellement les arguments de la fonction).</p>
<pre class="taille60"><code>&lt;?php
    // DÉFINITIONS DES Fonctions
    function entete($titre) {
        echo "&lt;html lang='fr'&gt;
                &lt;head&gt;
                    &lt;title&gt;$titre&lt;/title&gt;
                &lt;/head&gt;
                &lt;body&gt;";
    }

    function pied_de_page() {
        echo "&lt;hr&gt;
            &lt;/body&gt;
        &lt;/html&gt;";
    }

    // APPELS
    entete("inroduction à PHP");
    echo "&lt;h1&gt;Utilisation de fonctions&lt;/h1&gt;";
    pied_de_page();
?&gt;</code></pre>
                    <p>L'instruction <span class="html">return</span> permet de renvoyer une valeur de retour. Si on souhaite renvoyer plusieurs valeurs, on passera par un tableau. Par exemple :</p>
<pre class="taille60"><code>&lt;?php
    function addition ($nb1,$nb2) {
        $res = $nb1 + $nb2;
        return $res;
    }

    functin add_mult ($nb1, $nb2) {
        $res1 = $nb1 + $nb2;
        $res2 = $nb1 * $nb2;
        return array($res1, $res2);
    }

    $resultat = addition(8, 6);
    echo "la somme vaut : " . $resultat;

    $resultats = add_mult(8, 6);
    echo "la somme vaut : " . $resultats[0] . "&lt;br&gt;";
    echo "le produit vaut : " . $resultats[1] . "&lt;br&gt;";
?&gt;</code></pre>
                    <p>Il est aussi possible de renseigner des valeurs par défaut aux paramètres de vos fonctions. Faites attention à placer les arguments possédant des valeurs par défaut à la fin de vos en-têtes de fonction !</p>
<pre class="taille60"><code>&lt;?php
    // FONCTIONS avec valeurs par défaut  pour les arguments
    function entete($titre, $bgcolor = "red") {
        echo "&lt;html lang='fr'&gt;
                &lt;head&gt;
                    &lt;title&gt;$titre&lt;/title&gt;
                &lt;/head&gt;
                &lt;body bgcolor='$bgcolor'&gt;";
    }

    function pied_de_page($email = "info@he2b.be") {
        echo "&lt;hr&gt;Courriel : $email
            &lt;/body&gt;
        &lt;/html&gt;";
    }

    // APPELS
    entete("inroduction à PHP");
    echo "&lt;h1&gt;Utilisation de fonctions&lt;/h1&gt;";
    pied_de_page();
?&gt;</code></pre>
                    <h4 id="classes_php">Classes :</h4>
                    <p>PHP est un langage orienté objet : il est donc possible d'y définir des classes.</p>
                    <p>Les attributs sont définis comme des variables locales au sein d'une classe, et les méthodes comme des fonctions au sein de la classe également.</p>
<pre class="taille60"><code>&lt;?php
    class Dossier {
        // Attributs
        var $nom = null;
        var $fichiers = array();
        // Méthodes
        function Dossier ($valeur) {
            $this-&gt;nom = $valeur;
        }

        function ajouter_fichier ($nom_fichier) {
            $this-&gt;fichiers[] = $nom_fichier;
        }
    }
?&gt;</code></pre>
                    <p>Le constructeur de classe se note comme toute autre fonction, mais a pour nom le nom de la classe ou peut être utilisé par la fonction magique <span class="html">__construct()</span>. Notez aussi l'utilisation du mot-clé <span class="html">$this</span> pour faire référence à l'objet lui-même au sein de fonction, et de l'opérateur flèche <span class="html">-&gt;</span> pour accéder à un attribut ou appeler une méthode sur l'objet.</p>
                    <p>Pour créer un objet, on procèdera comme suit :</p>
<pre class="taille60"><code>&lt;?php
    $dossier = new Dossier("maison");
    $dossier-&gt;ajouter_fichier("cuisine");
?&gt;</code></pre>
                    <h3 id="fonctions_utiles_php">Quelques fonctions utiles :</h3>
                    <h4 id="manipulation_string">Manipulation de chaînes de caractères :</h4>
                    <p>Documentation complète : <a href="https://www.php.net/manual/fr/book.strings.php" target="_blank">https://www.php.net/manual/fr/book.strings.php</a>.</p>
                    <ul>
                        <li><span class="html">strlen(string)</span> : fournit la longueur de la chaîne.</li>
                        <li>
                            <p>Gestion de la casse :</p>
                            <ul>
                                <li><span class="html">strtolower(string)</span> : met les caractères en minuscule.</li>
                                <li><span class="html">strtoupper(string)</span> : met les caractères en majuscule.</li>
                                <li><span class="html">ucfirst(string)</span> : met le premier caractère en majuscule.</li>
                            </ul>
                        </li>
                        <li>
                            <p>Gestion des sous-chaînes :</p>
                            <ul>
                                <li><span class="html">substr(string, start, length)</span> : extrait une prtie d'une chaîne de caractères.</li>
                                <li><span class="html">substr_count(source, pattern)</span> : compte le nombre d'occurences de la sous-chaîne <span class="html">pattern</span> dans la chaîne <span class="html">source</span>.</li>
                                <li><span class="html">strrchr(string, pattern)</span> : extrait la fin de la chaîne <span class="html">string</span>, à partir de la dernière occurence de la sous-chaîne <span class="html">pattern</span>.</li>
                                <li><span class="html">str_replace(pattern, replacement, source)</span> : remplace toutes les occurences de "<span class="html">pattern</span>" trouvées dans la "<span class="html">source</span>" par la chaîne "<span class="html">replacement</span>.</li>
                                <li><span class="html">trim(string)</span> : retourne une string sans les espaces blancs (<span class="html">"\n"</span>, <span class="html">"\r"</span>, <span class="html">"\t"</span>, <span class="html">"\v"</span>, <span class="html">"\0"</span>, <span class="html">" "</span>) en début et en fin de chaîne.</li>
                                <li><span class="html">ltrim(string)</span> : retourne une string sans les espaces blancs de début de chaîne.</li>
                                <li><span class="html">rtrim(string)</span> : retourne une string sans les espaces blancs de fin de chaîne.</li>
                                <li><span class="html">explode(separator, string)</span> : scinde une chaîne sur base d'un séparateur et retourne un tableau contenant les éléments résultant de la division.</li>
                                <li><span class="html">implode(join, array)</span> :  retourne une chaîne formée par la concaténation des chaînes présentes dans <span class="html">array</span>, spéarées par la sous-chaîne présente dans <span class="html">join</span>.</li>
                                <li><span class="html">split(pattern, join)</span> : scinde une chaîne aux occurences de la sous-chaîne <span class="html">patern</span> et renvoie un tableau contenant les chaînes ainsi formées.</li>
                            </ul>
                        </li>
                        <li>
                            <p>Suppression de texte indésirable :</p>
                            <ul>
                                <li><span class="html">strip_tags(string [, allowable_tages])</span> : supprime les balises HTML et PHP dans une chaîne.</li>
                                <li><span class="html">stripslashes(string)</span> : supprime les caractères \ dans une chaîne de caractères.</li>
                            </ul>
                        </li>
                        <li>
                            <p>Encodage pour URL :</p>
                            <ul>
                                <li><span class="html">urlencode(string)</span> : convertit une chaîne selon les règles d'encodage d'URL.</li>
                                <li><span class="html">rawurlencode(string)</span> : convertit une chaîne en URL selon la norme IETF [RFC1738] (espace en "%20" au lieu de "+", utile lors d'utilisation d'URL avec le protocole FTP par exemple).</li>
                                <li><span class="html">urldecode(string)</span> : décode une chaîne selon les règles d'encodage d'URL.</li>
                                <li><span class="html">htmlspecialchars(string)</span> : convertit les caractères spéciaux("&", "&quot;", "&lt;", "&gt;") en équivalent HTML ("&amp;amp;", "&amp;quot;", "&amp;lt;", "&amp;gt;").</li>
                            </ul>
                        </li>
                        <li>
                            <p>Encodage pour HTML :</p>
                            <ul>
                                <li><span class="html">nl2br(string)</span> : convertit à la ligne en retour de chariot HTML (&lt;br&gt;).</li>
                                <li><span class="html">htmlentities(string)</span> : convertit les caractères significatifs en HTML.</li>
                            </ul>
                        </li>
                    </ul>
                    <h4 id="manipulation_tableaux_php">Manipulation de tableaux :</h4>
                    <p>Document complète : <a href="https://www.php.net/manual/fr/book.array.php" target="_blank">https://www.php.net/manual/fr/book.array.php</a>.</p>
                    <ul>
                        <li><span class="html">array_walk($var, fct)</span> : applique la fonction <span class="html">fct</span> à chaque élément du tableau <span class="html">$var</span>.</li>
                        <li><span class="html">list(var1, var2, ...)</span> : permet d'assigner une série de variables à partir d'un tableau : <span class="html">$info = list($drink, $color, $power);</span>.</li>
                        <li><span class="html">each(array)</span> : retourne chaque paire clé/valeur d'un tableau d'assignation.</li>
                        <li><span class="html">sizeof(array)</span> : retourne le nombre d'éléments du tableau.</li>
                        <li><span class="html">is_array(var)</span> : teste si une variable est de type tableau.</li>
                    </ul>
                    <h4 id="manipulation_repertoires_fichiers_php">Manipulation de répertoires et de fichiers :</h4>
                    <p>Documentation complète : <a href="https://www.php.net/manual/fr/refs.fileprocess.file.php" target="_blank">https://www.php.net/manual/fr/refs.fileprocess.file.php</a>.</p>
                    <ul>
                        <li>
                            <p>Navigation :</p>
                            <ul>
                                <li><span class="html">opendir(dir)</span> : ouvre un répertoire et récupère un pointeur.</li>
                                <li><span class="html">readdir(dir_handle)</span> : retourne le nom de fichier suivant dans le répertoire pointé par <span class="html">dir_handle</span> (obtenu via <span class="html">opendir</span>).</li>
                                <li><span class="html">rewinddir(dir_handle)</span> : se remplace au début du répertoire <span class="html">dir_handle</span>.</li>
                                <li><span class="html">closedir(dir_handle)</span> : ferme le répertoire.</li>
                                <li><span class="html">is_dir(filename)</span> : vérifie si la cible est un répertoire.</li>
                                <li><span class="html">chdir()</span> : change le dossier courant de PHP.</li>
                            </ul>
                        </li>
                        <li>
                            <p>Manipulation de fichier :</p>
                            <ul>
                                <li><span class="html">copy("anc_fich", "nouv_fich")</span> : copier un fichier.</li>
                                <li><span class="html">unlink(filename)</span> : supprimer le fichier.</li>
                                <li><span class="html">filesize(filename)</span> : retourner la taille d'un fichier en octets.</li>
                                <li><span class="html">file_exists(filename)</span> : teste si un fichier existe.</li>
                                <li><span class="html">tempnam(dir, prefix)</span> : crée un fichier et lui donne un nom unique.</li>
                                <li><span class="html">flock(file_hanfle, operation_type)</span> : permet un verrou sur un fichier en cas d'accès concurrents.</li>
                            </ul>
                        </li>
                        <li>
                            <p>Ouverture et modification de fichier :</p>
                            <ul>
                                <li><span class="html">fopen(filename, mode)</span> : ouvre un fichier et retourne  un pointeur sur ce fichier.</li>
                                <li><span class="html">fclose(file_handle)</span> : ferme le pointeur sur le fichier ouvert.</li>
                                <li><span class="html">fwrite(file_handle, string[, length])</span> : écrit dans un fichier.</li>
                                <li><span class="html">fread(file_handle, length)</span> : lit un fichier.</li>
                                <li><span class="html">fgets(file_handle, length)</span> : lit la ligne courante d'un fichier.</li>
                                <li><span class="html">file(filename)</span> : renvoie le contenu d'un fichier sous forme d'un tableau.</li>
                                <li><span class="html">readfile(filename)</span> : récupère le contenu d'un fichier et l'envoie sur la sortie standard.</li>
                                <li><span class="html">feof(file_handle)</span> : teste si la fin du fichier a été atteinte.</li>
                                <li><span class="html">topfile()</span> : crée un fichier temporaire et l'ouvre en mode écriture.</li>
                            </ul>
                        </li>
                    </ul>
                    <h4 id="expressions_regulieres_php">Expressions régulières :</h4>
                    <p>Documentation complète : <a href="https://www.php.net/manual/fr/book.regex.php" target="_blank">https://www.php.net/manual/fr/book.regex.php</a>.</p>
                    <p>Les expressions régulières permettent de représenter une catégorie de chaînes de caractères qui correspondent toutes au même modèle, afin de faire des manipulations plus possées.</p>
                    <ul>
                        <li><span class="html">ereg(pattern, string[, regs])</span> : cherche le modèle <span class="html">pattern</span> dans la chaîne et place éventuellementle résultat de recherche dans le tableau <span class="html">regs</span>.</li>
                        <li><span class="html">eregi(pattern, string[, regs])</span> : idem, mais insensible à la casse.</li>
                        <li><span class="html">ereg_replace(pattern, replacement, string)</span> : cherche le modèle <span class="html">pattern</span> dans la chaîne et les remplace par <span class="html">replacement</span>.</li>
                        <li><span class="html">eregi_replace(pattern, replacement, string)</span> : idem, mais insensible à la casse.</li>
                    </ul>
                    <p>Pour avoir la présentation du cours de PHP en PowerPoint, vous les obtenir en cliquant sur les liens ci-dessous :</p>
                    <p><a href="files/4-PHP.pptx">PHP</a></p>
                    <p><a href="files/5-Les_formulaires_PHP.pptx">Les formulaires PHP</a></p>
                    <p><a href="files/6-Cookies_et_Sessions_PHP.pptx">Cookies et Sessions</a></p>
                    <p><a href="files/7-PHP-PDO.ppt">PHP PDO</a></p>
                    <p><a href="files/8-PHP-systeme-de-fichiers.ppt">PHP - Système de fichiers.</a></p>
                </article>
                <article id="mvc">
                    <h2>Architecture MVC pour une application Web :</h2>
                    <p>Nous allons voir comment appliquer les principes de l'architecture <span class="html">MVC (Modèle - Vue - Contrôleur)</span> au développement d'une application Web.</p>
                    <h3 id="intro_mvc">Rappel : Architecture MVC :</h3>
                    <p>L'<a target="_blank" href="https://fr.wikipedia.org/wiki/Mod%E8le-vue-contr%F4leur" class="em">architecture Modèle - Vue - Contrôleur</a> (MVC) est un patron d'architecture logicielle adapté aux logiciels utilisant des interfaces graphiques, y compris des applications Web. Cette architecture divise l'application en trois composants. L'architecture MVC repose sur le principe de <span class="em">responsabilité unique</span> : chaque élémént de l'application possède un rôle unique ete précis.</p>
                    <ul>
                        <li>Le <span class="html">Modèle</span> représente les données <span class="em">métier</span> de l'application, à savoir les données proppres au système que l'application modélise (par opposition aux données propres à l'implémentation).</li>
                        <li>La <span class="html">Vue</span> contient la présentation de l'interface graphique.</li>
                        <li>Le <span class="html">Contrôleur</span> implémete la logique de traitement des actions effectuées par l'utilisateur.</li>
                    </ul>
                    <div>
                        <img src="images/500px-MVC-Process.svg.png" alt="https://en.wikipedia.org/wiki/File:MVC-Process.svg" class="float_right">
                        <p>Le fonctionnement d'une application MVC passe par une boucle d'exécution :</p>
                        <ul>
                            <li>L'utilisateur interagit avec le programme via le contrôleur.</li>
                            <li>Le contrôleur détermine quelle action est demandée par le contrôleur, et la transmet au modèle.</li>
                            <li>Le modèle effectue cette action en suivant la logique des données métier.</li>
                            <li>Une fois modifié, le contrôleur informe la vue de se mettre à jour afin de représenter le nouvel état des données.</li>
                            <li>La vue affiche les nouvelles informations, permettant à l'utilisateur d'effectuer une nouvelle action.</li>
                        </ul>
                    </div>
                    <h3 id="dans_application_web_mvc">Dans une application Web :</h3>
                    <p>Lorsqu'on développe une application classique, les données métier pourraient se trouver par exemple dans des fichiers sur l'ordinateur où l'application tourne, et l'interface graphique pourrait se reposer sur un moteur de rendu au choix.</p>
                    <p>Toutefois, lors de développement d'une application Web, des contraintes supplémentaires s'ajoutent. L'application tourne en effet maintenant sur un serveyr distant, accédé via le réseau Internet, et l'interface graphique sera généralement lilurée au navigateur Internet de l'utilisateur.</p>
                    <h4 id="modele_theorie">Modèle :</h4>
                    <p>Les donées métier doivent être stockées sur le serveur distant : pour cela, une base de données persistante est un outils que vous connaissez bien, et qui est parfaitement approprié dans ce but.</p>
                    <p>Notre application serveur devra donc être capable de faire l'interface avec cette base de données (en lecture et potentiellement en écriture), et implémenter la logique métier du modèle, c'est-à-dire les règles régissant toute interactio et opération ayant lieu au sein du modèle. Dans ce but, une architecture orienté objet est un exemple d'implémentation très appropriée ; chaque classe d'un modèle orienté objet peut traduire une classe de la base de données, reprenant les données métier ainsi que l'implémentation des opérations sous la forme de méthodes.</p>
                    <h4 id="vue_theorie">Vue :</h4>
                    <p>La vue représente les informations qui seront transmises par l'application à l'utilisateur. Dans le cas d'une application Web, il s'agit donc d'envoyer une réponse aux requêtes de l'utilisateur via HTTP.</p>
                    <p>La vue de l'application aura donc pour tâche de générer des pages Web, par exemple au format HTML (agrémenté de feuilles de style CSS et scripts JavaScript éventuelsà répondant à la requête de l'utilisateur.</p>
                    <h4 id="controleur_theorie">Contrôleur :</h4>
                    <p>Les interactions de l'utilisateur avec le serveur d'une application Web se font toujours par l'intermédiaire d'une requête au serveur (à priori via HTTP).</p>
                    <p>Par conséquent, le rôle du contrôleur d'une application Web est de traduire une requête. C'est ce qu'on appelle un <span class="html">Router</span> : il fait le lien entre une adresse URL appelée avec une méthode HTTP (GET, POST, etc.) et les manipulation de modèle à effectuer et/ou la vue à afficher en réponse.</p>
                    <h3 id="pratique_implementation_mvc_php">En pratique : implémentation MVC en PHP :</h3>
                    <h4 id="modele_pratique">Modèle :</h4>
                    <p>PHP possède plusieurs librairies permettant d'interragir avec des bases de données persistantes. Nous montrerons ici <a href="https://www.w3schools.com/php/php_mysql_connect.asp" target="_blank">PDO</a>, qui a l'avantage de permettre des interactions avec de nombreux schémas de bases de données différents.</p>
                    <p>Il faudra s'assurer que PDO est installé dans votre exécutable avant de vous en servir (les versions récentes de WAMP ou XAMPP (pour Mac OS) l'incluent normalement par défaut). Une fois cela fait, vous pouvez créer un objet de la classe PDO comme suit (en supposant que la base de données utilise un schéma MySQL) :</p>
<pre class="taille60"><code>&lt;?php
    $servername = "localhost";
    $dbname = "myDB";
    $username = "username";
    $password = "password";

    try {
        $conn = new PDO("mysql:host=$servername;dbname=$dbname", $username, $password);
        $conn-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    } catch(PDOException $e) {
        // Gestion d'erreur avec $e-&gt;getMessage(); pour voir le message.
    }
?&gt;</code></pre>
                    <p>Une fois l'objet <span class="html">$conn</span> créé, sa méthode <a href="https://www.php.net/manual/en/pdo.query.php" class="html" target="_blank">query($sql)</a> permet de transmettre une requête contenie dans la variable à la base de données. Le résultat de cette méthode, de type <a href="https://www.php.net/manual/en/class.pdostatement.php" class="em" target="_blank">PDOStatement</a>. On peut alors parcourir les résultats de celle-ci, par exemple via la méthode <span class="html">PDOStatement::fetchAll()</span>, qui renvoie une matrice mixte contenant les données demandées.</p>
                    <p>De même, pour une requête qui met à jour les données de la base de données (INSERT, UPDATE, DELETE), la méthode <a href="https://www.php.net/manual/en/pdo.exec.php" class="html" target="_blank">PDO::exec($sql)</a> permet de transmettre la requête à la base de données. Cette méthode renvoie comme valeur le nombre de rangs modifiés dans la base de données.</p>
                    <p>Comme expliqué dans la section précédente, il conviendra de créer des classes représentant chaque objet du modèle. Ces classes se chargent de générer et d'exécuter les requêtes à la base de données nécessités par la logique métier du modèle. Il sera souvent pratique de créer une classe abstraite <span class="html">Model</span> (comme la création de l'objet PDO), et de laisser vos classes de modèles hériter de cette classe afin de factoriser votre code.</p>
                    <h4 id="vue_pratique">Vue :</h4>
                    <p>Comme nous l'avons vu au chapitre précédent, PHP est un langage très approprié pour générer des pages HTML de façon dynamique. On notera toutefois une règle de bonne pratique pour structurer une application plus complexe : l'utilisation de gabarits.</p>
                    <p>Un gabarit est un fichier PHP qui définit la structure d'une page HTML, avec des emplacements prévu pour insérer directement les valeurs de certaines variables. Par exemple, un fichier <span class="html">template.php</span> comme ci-dessous :</p>
<pre class="taille60"><code>&lt;!DOCTYPE html&gt;
&lt;html lang="fr"&gt;
    &lt;/head&gt;
        &lt;meta charset="UTF-8"&gt;
        &lt;title&gt;&lt;?= $title; ?&gt;&lt;/title&gt;
        &lt;link rel="stylesheet" href="style.css"&gt;
        &lt;script src="script.js"&gt;&lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;header&gt;Website header&lt;/header&gt;
        &lt;nav&gt;Website nav&lt;/nav&gt;
        &lt;main&gt;
            &lt;h2&gt;&lt;?= $pagetitle; ?&gt;&lt;/h2&gt;
            &lt;?= $pagetext; ?&gt;
        &lt;/main&gt;
        &lt;footer&gt;Website footer&lt;/footer&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
                    <p>Note : la syntaxe <span class="html">&lt;?= $title; ?&gt;</span> est un raccourci pour <span class="html">&lt;?php echo $title; ?&gt;</span>.</p>
                    <p>Nos autres fichiers PHP peuvent alors donner les valeurs aux variables placées dans ce template, puis d'inclure le gabarit (<span class="em">template</span> en anglais) pour générer immédiatement la page HTML avec la structure voulue. Pour rappel : l'inclusion en PHP via <span class="html">require</span> ajoute tout code HTML dans la page générée. Par exemple :</p>
<pre class="taille60"><code>&lt;?php
    $title = "Ma page";
    $pagetitle = "Bienvenue sur ma page";
    $pagetext = "&lt;p&gt;Texte de la page&lt;/p&gt;";

    require "template.php";
?&gt;</code></pre>
                    <p>Procéder avec cette structure de factoriser lecode autant que possible :</p>
                    <ul>
                        <li>La définition de la structure de la page est faite dans des fichiers gabarits, alors que la transmission des données modèle est faite dans d'autres fichiers de vue.</li>
                        <li>La structure de la page est définie (à priori) à un seul endroit.</li>
                        <li>Les éléments communs ne sont définis qu'une fois (pas de code redondant).</li>
                    </ul>
                    <p>Pour des contenus de taille conséquente, il conviendra d'utiliser les fonctions de buffer <a href="https://www.php.net/manual/en/function.ob-start.php" class="html" target="_blank">ob_start()</a> et <a href="https://www.php.net/manual/en/function.ob-get-clean.php" class="html" target="_blank">ob_get_clean()</a>. Ces fonctions permettent d'ouvrir un buffer dans lequel vous pouvez placer du code HTML incluant des balises PHP. Par exemple :</p>
<pre class="taille60"><code>&lt;?php obstart(); ?&gt;
&lt;h1&gt;Tous les messages&lt;/h1&gt;
&lt;table class="messages"&gt;
    &lt;thead&gt;
        &lt;tr&gt;
            &lt;th&gt;Date&lt;/th&gt;
            &lt;th&gt;Auteur&lt;/th&gt;
            &lt;th&gt;Titre&lt;/th&gt;
        &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
        &lt;?php foreach ($allMessages as $row) : ?&gt;
            &lt;tr&gt;
                &lt;td&gt;&lt;?= $row["msg_date"]; ?&gt;&lt;/td&gt;
                &lt;td&gt;&lt;?= $row["name"]; ?&gt;&lt;/td&gt;
                &lt;td&gt;&lt;?= $row["title"]; ?&gt;&lt;/td&gt;
            &lt;/tr&gt;
        &lt;?php endforeach; ?&gt;
    &lt;/tbody&gt;
&lt;/table&gt;
&lt;php $content = ob_get_clean(); ?&gt;</code></pre>
                    <p>À l'exécution de ce code, la variable <span class="html">$content</span> contiendra tout le code HTML situé entre l'appel aux fonctions de buffer; en outre, le contenu de la table HTML aura été généré de façon itérative avec le contenu du tableau <span class="html">$allMessages</span>.</p>
                    <h4 id="controleur_pratique">Contrôleur :</h4>
                    <p>On pourrait, en guise de router, se contenter de créer un fichier PHP pour chaque URL qu'on estime être valide, et appeler au sein de ce fichier PHP la vue qui correspond. Toutefois, on recontrerait vite un problème d'échelle lorsque notre application grandit en taille, et cette méthode laisserait l'accès aux autres fichiers PHP qui constituent l'application, ce qui n'est à priori pas désirable.</p>
                    <p>Sur un serveur Apache comme celui créé par XAMPP, le fichier <span class="html">.htaccess</span>, placé à la racine des fichiers du serveur, permet de réécrire les URL demandées par des requêtes HTTP. Grâce à cela, nous pouvons rediriger toutes les requêtes vers un fichier PHP unique (typiquement nommé <span class="em">index.php</span>). Par exemple, pour transformer toute URL de type <span class="em">xxx/yyy</span> en <span class="em">index.php?action=xxx&id=yyy</span>.</p>
<pre class="taille60"><code># Réécrit une URL de type xxx/yyy/zzz
# en index.php?action=yyy&id=zzz
RewriteEngine on
RewriteRule ^([a-zA-Z)*)/?([a-zA-Z]*)?/?$ index.php?action=$1&id=$2 [NC, L]</code></pre>
                    <p>Ce fichier emploie une expression régulière pour réécrire l'URL demandée.</p>
                    <p>Dès lors, un Router peut être défini :</p>
<pre class="taille60"><code>&lt;?php
    require "ControllerActions.php";
    function routeRequest() {
        $action = $_GET["action"];
        try {
            if (function_exists($action)) {
                $action();
            } else {
                // Error
            }
        } catch (Exception $e) {
            // Error
        }
    }
?&gt;</code></pre>
                    <p><span class="em">index.php</span> peut simplement faire appel à ce Router :</p>
<pre class="taille60"><code>&lt;?php
    require "Router.php";
    routeRequest();
?&gt;</code></pre>
                    <p>Ajoutons une page au site revient à ajouter un cas dans la fonction de route, et ajouter une méthode d'action, définiesici dans le fichier <span class="em">ControllerActions.php</span> (que nous avons pas montré pour cet exemple-ci). Ces actions, faisant aussi partie du contrôleur, font appel au modèle pour récupérer les données utiles ou effectuer les modifications voulues, puis affichent la vue nécessaire pour la réponse via un <span class="html">require</span>. Elles peuvent également lire les autres paramètres reçues durant la requête HTTP (ou créés par <span class="html">.htaccess</span>.</p>
                    <p>Dans des cas plus complexes, il peut être utile de définir le Router comme une classe qui comprend cette fonction de routing ainsi que des fonctions anexes, par souci de factorisation.</p>
                    <h3 id="frameworks_mvc">Des frameworks pour se simplifier la vie... :</h3>
                    <p>Dans la pratique, de nombreux frameworks existent afin de créer des applications Web dotées d'une architecture MVC. Ces frameworks fournissent des librairies de classes et fonctions implémentnt déjà de nombreuses fonctionnalités de base communes à toute aplication Web (router, accès à la base de données, gestion de gabarits, ...). Ces frameworks reposent aussi chacun sur des langages de programmation différents, permettant aux développeurs de choisir les outils qui leur conviennent le mieux.</p>
                    <p>Notons par exemple <a href="https://www.google.com/search?client=safari&rls=en&q=laravel&ie=UTF-8&oe=UTF-8" target="_blank">Laravel</a> et <a href="https://symfony.com/" target="_blank">Symfony</a> (PHP), <a href="https://rubyonrails.org/" target="_blank">Ruby on Rails</a> (Ruby), <a href="https://www.djangoproject.com/" target="_blank">Django</a> (Python), <a href="https://dotnet.microsoft.com/apps/aspnet" target="_blank">ASP.NET</a> (C#.NET - Microsoft), <a href="https://github.com/balderdashy/sails" target="_blank">Sails.js</a> (Node.js, une librairie JavaScript permettant de faire tourner un serveur Web en JavaScript).</p>
                    <p>Ces frameworks sont cités à titre informatif, et cette liste n'est pas exhaustive; il s'agit ici simplement d'un survol de technologies existantes.</p>
                </article>
                <article id="laravel">
                    <h2 id="intro_laravel">Introduction à Laravel :</h2>
                    <p>Laravel est un framework Web open source qui respecte l'architecture MVC. Il nous fournit des librairies permettant de faire l'abstraction de la mécanique de base du MVC, et de laisser les développeurs Web se concentrer sur la logique de l'application Web à créer.</p>
                    <h2 id="gestionnaire_projet_laravel">Un gestionnaire de projet :</h2>
                    <p>Avant de pouvoir utiliser <a href="https://laravel.com/" class="html" target="_blank">Laravel</a>, nous aurons besoin d'un gestionnaire de projet qui permettra de traiter les dépendances nécesssaires à l'exécution d'un tel projet.</p>
                    <p>En PHP, le gestionnaire le plus utilisé est <a href="chrome-extension://mhjfbmdgcfjbbpaeojofohoefgiehjai/index.html" class="html" target="_blank">Composer</a>, une application en ligne de commandes multi-plateforme.</p>
                    <h3 id="gestion_dependances_laravel">Gestion de dépendances :</h3>
                    <p>Une fois Composer installé, tout projet qui dispose des fichiers <span class="html">composer.json</span> et <span class="html">composer.lock</span> à sa racine pourra utiliser Composer. Ces fichiers vont encoder les différentes dépendances présentes dans le projet. Dans la majorité des cas, ils ne sont pas édités manuellement, mais sont générés par le programme Composer lui-même.</p>
                    <p>Une dépendance peut être ajoutée à un projet via la commande <span class="html">composer require</span>. Les fichiers de la librairie invoquée sont alors installés dans le dossier <span class="html">vendor</span> à la racine du projet.</p>
                    <p>Puisque ces fichiers sont externes au projet, il est recommandé de ne <span class="em">pas</span> les inclure dans un gestionnaire de version comme Git, et donc d'ajouter <span class="em">vendor</span> à <span class="html">.gitignore</span>.</p>
                    <p>Si le projet doit être installé à un nouvel emplacement (par exemple une nouvelle machine après un clone de dépôt Git), il suffira d'utiliser la commande <span class="html">composer install</span> et les dépendances seront automatiquement chargées à nouveau dans le dossier <span class="em">vendor</span>.</p>
                    <h3 id="espaces_nom_laravel">Espaces de nom :</h3>
                    <p>Puisque Composer permet d'inclure de nombreuses librairies de code au sein d'un même projet, il offre en outre un mécanisme permettant de faire référence à ces différentes librairies de façon transparente, sans prendre connaissance de l'emplacement physique des fichiers concernés (ce qui serait nécessaire avec <span class="html">require</span> de PHP). Ce mécanisme sont les <span class="html">namespaces</span> ("espaces de nom").</p>
                    <p>Pour déclarer qu'un fichier se place dans un espace de nom, il suffit de le déclarer au début du script PHP via l'instruction <span class="html">namespace</span>.</p>
<pre class="taille60"><code>&lt;?php
    namespace WEBR34\Controller;

    class MyController {
        static function someControllerFunction() {
            // ...
        }
    }
?&gt;</code></pre>
                    <p>Pour ensuite faire l'impor d'une ressource à un autre endroit dans le projet, l'instruction span.html{use} sera employée.</p>
<pre class="taille60"><code>&lt;?php
    namespace WEBR34\Model;

    use WEBR34\Controller\MyController;

    class MyModel {
        function someFunction() {
            MyController::someControllerFunction();
        }
    }
?&gt;</code></pre>
                    <p>À noter : la syntaxe des espaces de nom utilise souvent des standards de nomenclature. Le plus populaire (et celui employé par Laravel) est <a href="https://getcomposer.org/doc/04-schema.md#psr-4" target="_blank">psr-4</a>.</p>
                    <h2 id="framework_laravel">Le framework Laravel :</h2>
                    <h3 id="installation_demarrage_laravel">Installation et démarrage :</h3>
                    <p>Un projet Laravel peut être créé via Composer via la commande :<span class="html">composer install laravel/laravel nomDuProjet</span>.</p>
                    <p>Cette commande crée un répertoire <span class="em">nomDuProjet</span> qui servira de racine au projet Laravel. Une arborescence de fichier est automatiquementcréée pour vous, ainsi que des fichiers pré-remplis permettant de faire tourner une version minimale d'une application web utilisant Laravel. Notamment, vous pouvez noter que les fichiers de Composer (<span class="em">composer.json</span> et <span class="em">composer.lock</span>) sont présents.</p>
                    <h4 id="demarrage_serveur_tests_laravel">Démarrage en serveur de tests :</h4>
                    <p>Pour faire tourner l'application, un script PHP exécutable en console <span class="html">artisan</span> nous sera utile : la commande <span class="html">php artisan serve</span> permettra de lancer un <span class="em">serveur de tests</span>, accessible à l'adresse <a href="http://localhost:8000/" class="html" target="_blank">http://localhost:8000/</a> par défaut. Ce serveur nous permettra d'éviter de devoir configurer un serveur Apache; le terminal affiche alors aussi un log des interactions avec ce serveur de test.</p>
                    <p>Si l'installation a réussi avec succès, en vous rendant à l'adresse renseignée par <span class="em">artisan</span>, vous arriverez à une page d'accueil pré-définie par Laravel.</p>
                    <h4 id="deploiement_serveur_reel_laravel">Déploiement sur serveur réel :</h4>
                    <p>Le dossier <span class="em">public</span> contenant les fichiers directement accessibles à un utilisateur du site.</p>
                    <p>Ce dossier contient par défaut un fichier <span class="em">index.php</span> servant de <span class="em">Font Controller</span> ("contrôleur de façade") qui fera les appels au reste du code.</p>
                    <p>Un site déployé de façon professionnelle configurera donc un serveur (par exemple Apache) pour servir uniquement le répertoire <span class="em">public</span>, et ainsi s'assurer que le reste du code du site n'est pas accessible depuis l'extérieur.</p>
                    <h3 id="gestion_routes_laravel">Gestion des routes :</h3>
                    <p>Le dossier <span class="em">routes</span> contient des scripts de Router, permettant de définir les URLs qui sont accessibles dans notre application.</p>
                    <p>Plusieurs scripts sont définis par défaut, permettant de gérer différents types de routes. Ici, nous nous intéresserons principalement à <span class="html">web.php</span>, qui définit les routes accessibles depuis une application Web.</p>
                    <p>Ces routes sont définies en Laravel via la classe <span class="html">Route</span>, qui contient des méthodes statiques correspondant à chaque méthode HTTP. Par exemple, la route définie par défaut est <span class="html">Route::get('/', view('welcome'));</span>.</p>
                    <p>Cette instruction dit que quand l'URL à la racine du site est appelée avec une requête HTTP GET, appelera la vue (nous verrons plus tard comment celles-ci sont définies) <span class="em">welcome</span>.</p>
                    <p>Ajouter une route revient à appeler une des méthodes de <span class="em">Route</span> pour mettre en lien une URL et une exécution de code.</p>
                    <h3 id="gestion_controleurs_laravel">Gestion des contrôleurs :</h3>
                    <p>Le dossier <span class="html">app/Http/Controllers</span> contient les contrôleurs de Laravel. Ces classes ont pour rôler d'aller récupérer des informations tirées du modèle, puis d'appeler la vue correspondante. Par exemple :</p>
<pre class="taille60"><code>&lt;?php
    namespace App\Http\Controllers;
    use \App\Models\Post;

    class BlogCtrl extends Controller {
        public function allPosts() {
            $billets = Post::getAllPosts();
            return view("vueAccueil", ["billets" =&gt; $billets]);
        }

        public function postDetails($id) {
            $billets = Post::getPostDetails($id);
            return view("vueDetails", ["billets" =&gt; $billets]);
        }
    }
?&gt;</code></pre>
                    <p>Ce contrôleur appelle le modèle pour récupérer tous les billets de blog existants, puis passe ces billets à une vue <span class="html">vueAccueil</span> via la méthode <span class="em">view()</span> définie par Laravel.</p>
                    <p>Pour appeler cette méthode depuis notre <span class="em">Router</span>,on utilisera la notation suivante :</p>
                    <p class="html">Route::get('/blog', [BlogCtrl::class, 'allPosts']);</p>
                    <p>Le deuxième paramètre est ici un tableau, reprenant dans son premier élément la classe du contrôleur utilisé, puis le nom d'une méthode statique de ce contrôleur à appeler. En outre, le <span class="em">Router</span> peut passer des paramètres directement à la fonction appelée :</p>
                    <p class="html">Route::get('/blog/{id}', [BlogCtrl::class, 'postDetails']);</p>
                    <p>Ici {id} est noté comme un paramètre dans la route. Par exemple, si une requête est faite à l'URL <span class="em">blog/12</span>, le Router appellera la méthode <span class="em">postDetails</span> avec un paramètre nommé <span class="em">$id</span> de valeur <span class="em">12</span>.</p>
                    <p>Le script <span class="em">artisan</span> fournit une commande permettant de générer facilement un nouveau contrôleur : <span class="html">php artisan make:controller</span>.</p>
                    <h3 id="gestion_modeles_laravel">Gestion des modèles :</h3>
                    <p>Le dossier <span class="em">app/Models</span> contient les classes de modèle de Laravel. Il s'agit de classes PHP, et il est donc possible de leur ajouter des attributs et méthodes si c'est nécessaire au fonctionnement de l'application Web. En outre, les classes de modèle contiennent une ou plusieurs méthodes <span class="em">statiques</span> permettant de récupérer un ou plusieurs objets de cette classe, typiquement tirés d'une base de données.</p>
                    <p>Un exemple de classe de modèle, toujours tiré de myBlog, consisterait en :</p>
<pre class="taille60"><code>&lt;?php
    namespace App\Models;
    use \Illuminate\Support\facades\DB;

    class Post {
        public static function getAllPosts() {
            $result = DB::select('SELECT bild_id AS id, bil_date AS date,'
                        . ' bil_titre AS titre, bil_contenu AS contenu FROM t_billet'
                        . ' ORDER BY bil_id DESC;');
            return $result;
        }

        public static function getPostDetails($id) {
            $result = DB::select('SELECT bil_id AS id, bil_date AS date,'
                        . ' bil_titre AS titre, bil_contenu AS contenu FROM t_billet'
                        . ' where bil_id = ' . $id);
            return $result;
        }
    }
?&gt;</code></pre>
                    <p>Le script <span class="em">artisan</span> fournit une commande permettant de générer facilement une nouvelle classe de modèle <span class="html">php artisan make:model</span>.</p>
                    <h4 id="interactions_db_laravel">Interactions avec la base de données :</h4>
                    <p>Le fichier <span class="html">.env</span> contenu à la racine du projet contient les <span class="em">variables d'environnement</span> du projet, y compris les informations de connexion à la base de données :</p>
<pre class="taille60"><code>DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=TodoDB
DB_USERNAME=root
DB_PASSWORD=</code></pre>
                    <p>Une fois ces variables configurées, on pourra effectuer des requêtes à la base de données via la librairie DB de Laravel :</p>
<pre class="taille60"><code>&lt;?php
    use \Illuminate\Support\Facades\DB;

    // Requête select
    $result = DB::select("SELECT name FROM todos;");

    // Requête insert
    // ? permet de placer des valeurs dans la requête de façon sécurisée
    DB::insert("INSERT INTO todos (name, description) VALUES (?, ?);", ['acheter du lait', 'aucune description']);
?&gt;</code></pre>
                    <p>La méthode <span class="html">DB::select()</span> retourne par défaut des objets anonymes PHP (utilisant la classe <span class="html">stdClass</span>). Les noms de colonnes en SQL deviennent donc des attributs d'objets PHP.</p>
                    <h3 id="gestion_vues_laravel">Gestion des vues :</h3>
                    <p>Le dossier <span class="html">ressources/views</span> contient les différentes vues de l'application. Celles-ci sont appelées facilement avec la fonction <span class="html">view</span> (accessible partout dans un projet Laravel sans besoin d'imports), comme déjà mentionné.</p>
                    <p>Quant aux <span class="em">feuilles de style CSS</span> et <span class="em">scripts JavaScript</span>, ainsi que tout autre fichier (comme des images) chargés directement sur les pages du site, ils seront placés dans le dossier public. Leur URL sera définie comme le chemin à partir du dossier public.</p>
                    <h4 id="generation_vues_blade_laravel">Génération de vues : Blade :</h4>
                    <p>S'il est possible de définir une vue comme un simple fichier PHP créant une page HTML, on utilisera très souvent le <span class="em">moteur de templates</span> de Laravel : Blade. Les vues utilisant Blade doivent toutes être nommées avec un nom se terminant par <span class="em">.blade.php</span>; elles sont appelées au sein de Laravel avec la fonction <span class="html">view</span>, de la même que les vues normales. Par conséquent, <span class="em">view("vueAccueil");</span> peut à la fois faire référence au fichier <span class="em">vueAccueil.php</span> ou au fichier <span class="em">vueAccueil.blade.php</span>; attention à ne pas causer des conflits !</p>
                    <p>La fonction <span class="em">view</span> permet aussi de passer des variables à une vue :</p>
                    <p class="html">return view('todo', ['todos' =&gt; $todos]);</p>
                    <p>Ces variables sont passées au sein d'un tableau associatif. Attention : ce sont les noms des clés de ce tableau qui sont ensuite employées au sein de la vue pour faire référence aux variables !</p>
                    <p>Blade permet de transformer nos vues en se rapprochant du code HTML autant que possible, en laissant au contrôleur le soin de gérer la logique de traitement. De façon générale, un template Blade est du code HTML, avec des doubles accolades pour insérer du code PHP. Par exemple, <span class="html">{{$todos}}</span> insère le contenu de la variable <span class="html">$nom</span> (c'est-à-dire la valeur correspondant à la clé "nom" dans le tableau des variables passé à la vue). Les instructions de contrôle sont quant à elles notées avec un @.</p>
                    <p>Par exemple :</p>
<pre class="taille60"><code>&lt;!DOCTYPE html&gt;
&lt;html lang="fr"&gt;
    &lt;head&gt;
        &lt;meta charset="UTF-8"&gt;
        &lt;title&gt;TODO&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;À faire...&lt;/h1&gt;
        @if (count($todos) === 0)
            &lt;p&gt;Rien pour le moment ;)&lt;/p&gt;
        @else
            &lt;ul&gt;
                @foreach ($todosas $todo)
                    &lt;li&gt;{{$todo}}&lt;/li&gt;
            &lt;/ul&gt;
        @endif
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
                    <h4 id="gabarits_blade_laravel">Gabarits et Blade :</h4>
                    <p>En tant que moteur de rendu, Blade simplifie en outre grandement l'utilisation d'un gabarit en utilisant un système d'héritage. Notre template est une vue comme les autres, possédant des appels à l'instruction @yield au sein de sa structure :</p>
<pre class="taille60"><code>&lt;!DOCTYPE html&gt;
&lt;html lang="fr"&gt;
    &lt;head&gt;
        &lt;meta charset="UTF-8"&gt;
        &lt;link rel="stylesheet" href="/style.css"&gt;
        &lt;title&gt;@yield('title')&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div id="global"&gt;
            &lt;header&gt;
                &lt;h1 id="titreBlog"&gt;&lt;a href="/blog"&gt;Mon Blog&lt;/a&gt;&lt;/a&gt;
                &lt;p&gt;Je vous souhaite la bienvenue sur ce modeste blog.&lt;/p&gt;
            &lt;/header&gt;
            &lt;div id="contenu"&gt;
                @yield('content')
            &lt;/div&gt; &lt;!-- #contenu --&gt;
            &lt;footer id="piedBlog"&gt;
                Blog réalisé avec PHP, HTML5, et CSS.
            &lt;/footer&gt;
        &lt;/div&gt; &lt;!-- #global --&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
                    <p>Ensuite, on peut définir une ou plusieurs vues qui héritent de celle-ci avec l'instruction <span class="html">@extends</span>. Le contenu des sections marquées par un <span class="html">@yield</span> est alors renseigné via l'instruction <span class="html">@section</span> (et éventuellement <span class="html">@endsection</span>).</p>
<pre class="taille60"><code>@extends('template')
@section('title', 'Mon Blog')
@section('content')
    @foreach ($billets as $billet)
        &lt;article&gt;
            &lt;header&gt;
                &lt;h1 class="titreBillet"&gt;
                    &lt;a href="/blog/{{$billet-&gt;id}}"&gt;{{$billet-&gt;titre}}&lt;/a&gt;
                &lt;/h1&gt;
                &lt;time&gt;{{$cillet-&gt;date}}&lt;/date&gt;
            &lt;/header&gt;
            &lt;p&gt;{{$billet-&gt;contenu}}&lt;/p&gt;
        &lt;/article&gt;
        &lt;hr&gt;
    @endforeach
@endsection
</code></pre>
                    <h2 id="et_apres">Et après :</h2>
                    <p>Laravel n'est qu'un seul framework web MBC. Il peut sembler imposer de se familiariser avec de nombreuses notions, mais une fois la prise en main effectuée, il simplifie grandement le travail du développeur Web, car il n'est dès lors plus nécessaire que de se soucier des manipulations propres à l'application, en laissant Laravel se charger des interactions de plus bas niveau.</p>
                    <p>Laravel inclut aussi des outils de développement et de débuggage, et bien plus que les bases que nous avons abordées ici. Comme toujours, vous êtes vivement encouragé.e.s de pousser plus loin votre recherche.</p>
                </article>
            <!-- fin de section -->
            </section>
            <footer>
                <div>
                    <address>
                        Professeurs :
                        <a class="mail" href="mailto:olivier.choquet@vinci.be">Choquet Olivier</a>
                        <a class="mail" href="mailto:driss.vandenheede.techinfo@gmail.com">Vandenheede Driss</a>
                    </address>
                </div>
                <div>
                    <p>Si vous détectez une erreur, une faute d'orthographe, n'hésitez pas à envoyer un mail aux adresses juste à côté avec le nom de la page et l'erreur détectée.</p>
                </div>
                <div id="version">
                    <p>Syllabus HTML</p>
                    <p>Version 5.0</p>
                </div>
            </footer>
        </main>
    </body>
</html>