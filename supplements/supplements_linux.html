<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <meta name="author" content="Choquet Olivier & Vandenheede Driss">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Linux - Suppléments - e-Syllabus HTML5 et CSS3</title>
        <!-- une icône dans la barre du navigateur -->
        <link rel="icon" href="../images/favicon.png" type="image/png">
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <!-- liens d'évitement -->
        <ul class="a11y-nav">
            <li>
                <a href="#container">Passer directement au contenu</a>
            </li>
            <li>
                <a href="#menu">Accéder au menu secondaire de la page</a>
            </li>
            <li>
                <a href="#aside">Accéder aux liens utiles</a>
            </li>
        </ul>
        <!-- bannière et menu -->
        <header role="banner">
            <div class="logoTitle">
                <h1>Cours d'introduction au Web</h1>
                <h2>HTML5 et CSS3</h2>
            </div>
            <nav role="navigation" aria-label="Menu principal de navigation">
                <ul>
                    <li><a href="../index.html">Le cours</a></li>
                    <li><a href="../internet.html">Internet</a></li>
                    <li><a href="../html5.html">HTML5</a></li>
                    <li><a href="../css3.html">CSS3</a></li>
                    <li><a href="../methodologie.html">Méthodologie</a></li>
                    <li><a href="../lexique.html">Lexique</a></li>
                    <li><a href="../supplements.html" class="current">Suppléments</a></li>
                </ul>
            </nav>
        </header>
        <main id="container" role="main">
            <div id="menu">
                <nav role="navigation">
                    <ol>
                        <li><a href="../supplements.html">Retour au sommaire</a></li>
                    </ol>
                </nav>
                <!-- aside lié à la page et pas à l'article donc pas à l'intérieur de article -->
                <aside id="aside">
                    <p>Liens utiles :</p>
                    <ul>
                        <li><a href="https://www.youtube.com/c/LeDesignerduWeb/videos">Le Designer du web</a></li>
                    </ul>
                </aside>
            </div>
            <section id="mainSection">
                <article>
                    <h1>Linux :</h1>
                </article>
                <article>
                    <h2 id="cours_1">Cours n° 1 : Introduction : Les commandes de bases :</h2>
                    <h3>Présentation :</h3>
                    <ol>
                        <li>
                            <h4>Introduction :</h4>
                            <p><span class="em">GNU/Linux</span> (couramment appelé <span class="em">Linux</span>) est un système d'exploitation basé sur le noyau Linux. Ses principales propriétés : portabilité, multitâche, multi-utilisateur, organosation arborescence des fichiers, ..., en font un outil de prédilection dans le monde des serveurs informatiques. Son intérêt vient  également de l'ensemble des outils qui l'accompagnent et qui en font toute sa puissance.</p>
                            <p>Les derniers développements en font aussi un système d'exploitation tout à fait adapté comme Pc personnel :</p>
                        </li>
                        <li>
                            <h4>Une longue et belle histoire :</h4>
                            <ol>
                                <li>
                                    <h5>UNIX :</h5>
                                    <p>Unix a été créé fin des années 60 (en 1969) par Ken Thompson et Denis Ritchie. En 1972, UNIX est récrit en langage C pour favoriser la portabilité des programmes. Dans un premier temps, le logiciel est fourni aux universités avec ses sources. Cette politique a favorisé la dissémination de UNIX et l'éparpillement des développements en différentes branches : la branche recherche de AT & T laboratoires Bell (UNIX éd 8, 9, 10 jusqu'en 1990), la branche commerciale de AT & T (Syss III, Sys V), l'université de Berkeley en Californie (4.1 BSD, 4.3 BSD, 4.4 BSD). Certainns constructeurs ont éalement commercialisé leur propre version de UNIX (entre autre : IBM (AIX), HP (HP-UX), Microsoft (XENIX), Sun Microsystem (Solaris), etc).</p>
                                </li>
                                <li>
                                    <h5>GNU (GNu's not Unix) :</h5>
                                    <p><a href="http://www.gnu.org/" target="_blank">http://www.gnu.org/ (nouvelle fenêtre)</a></p>
                                    <p>C'est un système d'exploitation de type Unix, pensé dans un esprit d'utilisation sans contrainte. C'est un logiciel libre qui donne à l'utilisateur la liberté d'exécuter le programme, d'en étudier son fonctionnement et de l'adapter, d'en distribuer des copies, d'en améliorer les sources. Le projet a été lancé en 1984 par Richard Stallman, rejoint par toute une communauté qui s'est appliquée à développer les outils de base exploitant le noyau.</p>
                                </li>
                                <li>
                                    <h5>Linux :</h5>
                                    <p>En 1987, Andrew S. Tanenbaum conçoit Minix, un petit système d'exploitation pour Pcs, destiné à illustrer son cours de système d'exploitation. En 1991, Linus Torvalds s'inspire de ce petit système d'exploitation pour développer son propre  noyau, de la famille de unix, mais sans reprendre de code UNIX. La publication de la première version de son programme attire la sympathie de nombreux passionnés qui vont se joindre à lui pour améliorer ce programme.</p>
                                </li>
                                <li>
                                    <h5>GNU/Linux :</h5>
                                    <p>Le noyau Linux à lui seul n'est pas exploitable sans les outils d'utilisation. Mais rapidement le projjet GNU intègre ce noyau pour en faire un système d'exploitation complet.</p>
                                </li>
                            </ol>
                        </li>
                        <li>
                            <h4>Les distributions Linux :</h4>
                            <p>Deouis les balbutiements du début, de nombreux développements ont amélioré les programme. Certaines personnes ont décidé de compiler une série de prgrammes pour proposer un ensemble cohérent, distribué de manière libre ou commerciale. De nombreuses distributions existent aujourd'hui, chacune ayant ses caractéristiques propres. Les principales sont Debian (développée de manière indépendante, réputée la plus universelle et la plus viable car longuement testée avant d'être publiée, Ubuntu (version grand public qui sort une nouvelle version tous les 6 mois, elle est basée sur Debian), Fedora et sa version commerciale RHEL (Red Hat Entreprise Linux), Slackware (la plus ancienne), CentOS (issue directement des sources de Red Hat).</p>
                        </li>
                        <li>
                            <h4>L'organisation de Linux :</h4>
                            <p>GNU/Linux est donc un ensemble de programmes qui exploitent le noyau Linux. Contrairement à Windows, qui est une structure monolithique, Linux adopte une organisation en couche qui apporte une grande diversité, plusieurs programmes peuvent implémenter une même fonctionnalité. Cette organisation laisse le choix à l'utilisateur d'opter pour un environnement plus personnalisé. Par exemple, le noyau peut être exploité par un <span class="em">shell</span>, programme interface en ligne de commandes, mais aussi au travers de commandes ou de librairies standards. L'interface graphique se base sur le protocole X-Window qu'une multitude d'applications exploitent pour fournir différents environnements de travail.</p>
                        </li>
                        <li>
                            <h4>Le noyau de Linux :</h4>
                            <p>C'est le coeur du systèlme, le kernel, c'est lui qui gère l'ordinateur. Il est composé de primitives (les appels systèmes) qui exploitent les ressources physiques (disques, processeurs, mémoire, ...), logiques (utilisateurs, processus, fichiers, ...) de l'ordinateur et qui gèrent les communications entre processus (IPC). Il comprend également des tables nécessaires à la mémorisation des informations utilisées par les primitives (table des processus, tables des fichiers, table des utilisateurs connectés, ...).</p>
                        </li>
                        <li>
                            <h4>L'environnement de travail :</h4>
                            <p>Contrairement à Windows, sur les machines Linux il n'est pas obligatoire de travailler dans un environnement graphique. Il est possible d'utiliser l'ordinateur.</p>
                            <ul>
                                <li>Soit en ligne de commandes grâce à un <span class="em">shell</span> activé dans une console, dans un pseudo-terminal ou encore dans un Xterm fenêtre de l'environnement graphique, mais aussi à distance en utilisant un terminal distant ou une émulation terminale (ssh, putty).</li>
                                <li>Soit via une interface graphique. Plusieurs applications s'offrent à l'utilisateur (les bureaux graphiques gnome, KDE, ...).</li>
                            </ul>
                        </li>
                        <li>
                            <h4>L'environnement de travail à l'IPL :</h4>
                            <p>L'environnement de travail que vous allez utiliser à l'IPL consiste en une station de travail Linux (Ubuntu) stockée sur un serveur et accédée en utilisant le protocole "Remote Desktop Protocol" qui offre un bureau graphique distant. L'authentification sur la machine Linux est assurée par le serveur LDAP Windows (l'Active Directory du domaine stud). Tous les exercices doivent être réalisés en ligne de commandes, par exemple dans une fenêtre Xterm de votre environnement graphique X-Window.</p>
                        </li>
                        <li>
                            <h4>Briève introduction au shell :</h4>
                            <p>L'utilisation du <span class="em">shell</span> se fait au moyen de commandes introduites au clavier, ce qui peut paraître lourd à utiliser mais reste d'une puissance inégalée, ou dans des scripts, programmes constitués d'un ensemble de commandes. Une commande (mnémonique en général codée sur 2 caractères) peut recevoir 0, 1 ou plusieurs arguments (données traitées par la commande), ainsi que 0, 1 ou plusieurs options qui spécifient la manière dont le traitement sera effectué. Par exemple, la commande <span class="html">cp -r -p /home/bernard /media/MaCle/bu</span> va copier tous les fichiers du répertoire <span class="em">bernard</span> sur la clé USB dans le répertoire <span class="em">bu</span>.</p>
                            <ul>
                                <li><span class="em">/home/bernard</span> : source (ensemble des fichiers à copier)</li>
                                <li><span class="em">/media/MaCle/bu</span> : destination (endroit où seront copiés les fichiers)</li>
                                <li><span class="em">-r</span> :  de manière récursive (toute l'arborescence)</li>
                                <li><span class="em">-p</span> : en préservant les propriétés des fichiers</li>
                            </ul>
                        </li>
                    </ol>
                    <h3>Exercices :</h3>
                    <ol>
                        <li>
                            <p>L'aide en ligne est donnée par la commande <span class="html">man</span>. Elle reprend la spécificité locale des sujets liés à l'implémentation de votre distribution. Cette documentation est divisée en plusieurs sections. Citez et décrivez les 3 pemières sections du man. Pour vous aider, consulter le man de la commande <span class="html">man</span>.</p>
                            <ul>
                                <li>Shell commands (commande Linux ou commande utilisateur)</li>
                                <li>System calls (Appel système)</li>
                                <li>librarycalls (bibliothèque de fonction)</li>
                            </ul>
                            <p>Cette application (<span class="em">man</span>) affiche à l'écran la description de la commande, fonction, ... passée en argument; elle accepte plusieurs commandes qui permettent de se déplacer dans le texte ou d'effectuer une recherche :</p>
                            <ul>
                                <li><span class="em">&lt;sp&gt;</span> (la barre d'espacement) déplace l'affichage de la taille d'un écran</li>
                                <li><span class="em">&lt;ret&gt;</span> déplace le texte affiché d'une ligne vers le bas</li>
                                <li><span class="em">&lt;b&gt;</span> (la lettre b <span class="em">back</span>) déplace l'affichage de la taille d'un écran vers le haut</li>
                                <li><span class="em">/pattern</span> recherche le pattern dans le texte</li>
                                <li><span class="em">&lt;p&gt;</span> permet de quitter l'application</li>
                                <li>Pour l'ensemble des commandes de l'utilisation de l'affichage, voir le manuel de la commande <span class="html">less</span></li>
                            </ul>
                        </li>
                        <li>
                            <p>Donner la commande qui permet d'afficher la liste des utilisateurs connectés au système.</p>
<pre class="taille60"><code class="html">who</code></pre>
                        </li>
                        <li>
                            <p>Qu'est-ce que le "login name" d'un utilisateur ? Donnez la commande qui permet d'afficher le "login name" de la personne connectée.</p>
<pre class="taille60"><code># login name = nom d'utilisateur = identifiant

<span class="html">whoami</span></code></pre>
                        </li>
                        <li>
                            <p>Donnez la commande qui permet de donner les informations de "login" de la personne connectée, expliquez les informations fournies.</p>
<pre class="taille60"><code><span class="html">who am i</span>

# donne le login name, le terminal où il est connecté et l'heure</code></pre>
                        </li>
                        <li>
                            <p>Donnez la commande qui affiche la ate système.</p>
<pre class="taille60"><code class="html">date</code></pre>
                        </li>
                        <li>
                            <p>Donnez la manière d'obtenir la date sous le format : <span class="em">mardi, le 1 janvier 2014</span>.</p>
<pre class="taille60"><code class="html">date "+%A, le %d %B %Y"</code></pre>
                        </li>
                        <li>
                            <p>Donnez la commande qui permet de connaître le nom du jour de votre naissance (lun-dim).</p>
<pre class="taille60"><code class="html">date -d '1/1/1990' +%A</code></pre>
                        </li>
                        <li>
                            <p>Donnez la commande qui permet de connaître le numéro du jour de votre anniversaire (1-365).</p>
<pre class="taille60"><code class="html">date -d '1/1/1990' +%j</code></pre>
                        </li>
                        <li>
                            <p>Donnez la commande qui permet d'afficher le calendrier du mois et de l'année de votre naissance.</p>
<pre class="taille60"><code class="html">cal 1 1990</code></pre>
                        </li>
                    </ol>
                </article>
                <article>
                    <h2 id="cours_2">Cours n° 2 : Le système de fichier : Les manipulations des fichiers :</h2>
                    <h3>Présentation :</h3>
                    <ol>
                        <li>
                            <h4>Introduction :</h4>
                            <p>Un des premiers besoins d'un système d'exploitation est la possibilité de stocker de manière permanente les données du syst§me et des utilisateurs.</p>
                            <p>Généralement, les données sont stockées sur un ou plusieurs disques durs pouvant être découpés en partitions. Linux utilise une nomenclature (<span class="em">/ted/tdmn</span> où <span class="em">td</span> représente le type de disque (<span class="em">s</span> pour SCSI ou SATA), (<span class="em">h</span> pour ide); <span class="em">m</span> est le numéro du disque dur (<span class="em">a</span> pour 1<sup>er</sup>, <span class="em">b</span> pour le 2<sup>ème</sup>, etc); <span class="em">n</span> le numéro de la partition sur le disque. Par exemple <span class="em">/dev/sdb3</span> représente la 3<sup>ème</sup> partition du 2<sup>ème</sup> disque SATA) standarisée pour référencer les partitions physiques qu'il rencontre sur une machine. Le nom d'une partition physique permet de l'identifier dans l'ordinateur.</p>
                            <p>Chaque partition est découpée en blocs de bytes. La taille par défaut est de 512 bytes par bloc. Ce sont ces blocs qui constituent l'espace utilisé pour stocker les données du fichier.</p>
                        </li>
                        <li>
                            <h4>L'organisation logique des données :</h4>
                            <p>Dans le monde Unix, les données stockées sur les disques sont organisées de manière arborescente (une structure arborescence est composé de <span class="em">noeuds</span> (éléments internes) pouvant contenir d'autres éléments et de <span class="em">feuilles</span> (éléments externes)) dans une structure unique. Dans ce "file system" Unix, les noeuds sont implémentés au moyen de répertoires et les fichiers contenant les données sont les feuilles de l'arbre.</p>
                        </li>
                        <li>
                            <h4>Les fichiers :</h4>
                            <p>Un fichier est un ensemble séquentiel de bytes qui ne contient pas de marque de fin de fichier, c'est la taille, une des propriétés du fichier, qui permet de déterminer la fin du fichier. Il possède d'autres propriétés que nous aborderons plus tard.</p>
                            <p>Le nom du fichier doit être unique dans son répertoire. Et pour le système de fichier, la notion d'extension est sans objet car il n'en tient aucunement compte. Seules, les applications peuvent éventuellement s'en préoccuper (par exemple, le compilateur Java préférera traiter des sources dont l'extension est ".java").</p>
                            <p>Dans le monde Linux, il existe 2 sortes de fichiers réguliers, les fichiers de type <span class="em">text</span> (qui contiennent uniquement des caractères imprimables (Ascii) et les fichiers binaires (contenant des enregistrements formatés), des documents formatés (doc, ppt, xls, ...), des librairies, des fichiers compilés, ...</p>
                            <p>Dans le système de fichiers, on retrouvera également d'autres types de fichiers (les descriptions de devices (/dev), etc.).</p>
                        </li>
                        <li>
                            <h4>Les répertoires :</h4>
                            <p>Un répertoire est une sorte de table qui permet de mettre en relation un nom de fichier et une référence (<span class="em">inode</span>) vers le fichier physique sur le disque.</p>
                            <p>Pour Linux, les répertoires sont des fichiers d'un type spécial, ils peuvent donc être manipulés au moyen des commandes de gestion de fichiers.</p>
                        </li>
                        <li>
                            <h4>L'arborescence :</h4>
                            <p>Tous ces fichiers et répertoires sont organisés sous une forme arborescente avec une racine, un répertoire particulier origine de toute la structure, des branches qui aboutissent aux différents éléments de l'arbre : les répertoires (éléments intermédiaires) et les fichiers (éléments terminaux). Dans le monde Unix, le répertoire racine se nomme '<span class="html">/</span>'.</p>
                        </li>
                        <li>
                            <h4>Le pathname :</h4>
                            <p>Pour retrouver un fichier dans l'arborescence, le système parcourt l'arborescence à partir de la racine, le chemin parcouru s'appelle le <span class="em">pathname absolu</span>. Dans ce chemin, chaque répertoire traversé est séparé par le caractère '<span class="html">/</span>'; donc, le fichier <span class="em">test.c</span> qui se trouve dans le répertoire <span class="em">tux</span> du répertoire <span class="em">home</span> se notera <span class="em">/home/tux/test.c</span>, ce nom complet est unique sur le système. Utiliser le pathname absolu pour nommer un fichier peut être contraignant, mais il existe une autre manière retrouver un fichier dans l'arbre du système de fichiers, c'est le <span class="em">pathname relatif</span> qui au lieu de démarrer de la racine part du répertoire courant. Le <span class="em">répertoire courant</span>, c'est le répertoire de référence à un moment donné du travail de l'utilisateur est "positionné" quelque part dans l'arborescence, ce répertoire courant, qui varie en fonction des traitements envoyés par l'utilisateur se nomme toujours au moyen du caractère '<span class="html">.</span>'. Le répertoire parent d'un répertoire se nomme '<span class="html">..</span>'.</p>
                        </li>
                        <li>
                            <h4>Shell et répertoires :</h4>
                            <p>Lorsqu'il se connecte, l'utilisateur démarre un shell (programme interface entre l'utilisateur et le système) qui le positionne dans un répertoire particulier, le <span class="em">répertoire de login</span>, indiqué par le caractère '<span class="html">~</span>'.</p>
                            <p>Pour aider l'utilisateur, le shell pour afficher dans son prompt (message d'invite) le nom du répertoire de login.</p>
                        </li>
                        <li>
                            <h4>Les commandes utiles :</h4>
                            <ol>
                                <li>
                                    <h5>pour manipuler les répertoires :</h5>
                                    <ul>
                                        <li><span class="html">cd</span> : change directory</li>
                                        <li><span class="html">ls</span> : list information about file(s)</li>
                                        <li><span class="html">mkdir</span> : create new folder(s)</li>
                                        <li><span class="html">rmdir</span> : remove folder(s)</li>
                                        <li><span class="html">pwd</span> : print working directory</li>
                                    </ul>
                                </li>
                                <li>
                                    <h5>pour manipuler les fichiers :</h5>
                                    <ul>
                                        <li><span class="em">cp</span> : copy one or more files to another location</li>
                                        <li><span class="em">rm</span> : remote files</li>
                                        <li><span class="html">mv</span> : move or rename files or directories</li>
                                        <li><span class="html">touch</span> :change file timestamps</li>
                                    </ul>
                                </li>
                                <li>
                                    <h5>pour traiter les fichiers text :</h5>
                                    <ul>
                                        <li><span class="html">cat</span> : concatenate and print (display) the content of files</li>
                                        <li><span class="html">wc</span> : print byte, word, and line count</li>
                                        <li><span class="html">head</span> : output the first part of file(s)</li>
                                        <li><span class="html">tail</span> : output the last part of file(s)</li>
                                        <li><span class="htmml">od</span> : dump files in octal and other formats</li>
                                        <li><span class="html">nl</span> : number lines and write files</li>
                                        <li><span class="html">sort</span> : sort text files</li>
                                        <li><span class="html">grep</span> : search file(s) for lines that match a given pattern</li>
                                        <li><span class="html">cut</span> : divid a file into a several parts</li>
                                    </ul>
                                </li>
                            </ol>
                        </li>
                        <li>
                            <h4>Les répertoires particuliers :
                                <ol>
                                    <li>le répertoire racine : <span class="html">/</span></li>
                                    <li>le répertoire de login : <span class="html">~</span></li>
                                    <li>le répertoire courant : <span class="html">.</span></li>
                                    <li>le répertoire parent : <span class="html">..</span></li>
                                </ol>
                            </h4>
                        </li>
                    </ol>
                    <h3>Exercices :</h3>
                    <h4>Les répertoires :</h4>
                    <ol>
                        <li>
                            <p>Donnez la commande qui permet d'afficher le nom du répertoire courant, c'est votre répertoire de login, indiquez le nom de ce répertoire et complétez l'arborescence en y ajoutant votre répertoire de login.</p>
<pre class="taille60"><code><span class="html">pwd</span>

# affiche /home/u1bin000</code></pre>
                        </li>
                        <li>
                            <p>Introduisez la commande <span class="html">ls</span>, qu'affiche-t-elle ?</p>
<pre class="taille60"><code><span class="html">ls</span>

# affiche le contenu du répertoire courant donc ici rien</code></pre>
                        </li>
                        <li>
                            <p>Créez le répertoire <span class="em">linux</span> dans le répertoire courant.</p>
<pre class="taille60"><code class="html">mkdir linux</code></pre>
                        </li>
                        <li>
                            <p>Créez le répertoire <span class="em">theorie</span> dans le répertoire <span class="em">linux</span> que vous vous venez de créer.</p>
<pre class="taille60"><code class="html">mkdir linux/theorie</code></pre>
                        </li>
                        <li>
                            <p>Déplacez-vous dans ce répertoire.</p>
<pre class="taille60"><code class="html">cd linux/theorie</code></pre>
                        </li>
                        <li>
                            <p>Affichez le pathname absolu du répertoire courant.</p>
<pre class="taille60"><code><span class="html">pwd</span>

# affiche /home/u1bin000/linux/theorie</code></pre>
                        </li>
                        <li>
                            <p>Créez le répertoire <span class="em">exercices</span> dans le répertoire <span class="em">theorie</span>.</p>
<pre class="taille60"><code class="html">mkdir exercices</code></pre>
                        </li>
                        <li>
                            <p>Grâce à la commande <span class="html">rmdir</span>, essayez de supprimer le répertoire <span class="em">theorie</span>, en utilisant le pathname absolu. Est-ce possible, si non pourquoi</p>
<pre class="taille60"><code><span class="html">rmdir /home/u1bin000/linux/theorie</span>

# impossible car le répertoire n'est pas vide</code></pre>
                        </li>
                        <li>
                            <p>Affichez le contenu du répertoire parent.</p>
 <pre><code class="html">ls ..</code></pre>
                        </li>
                        <li>
                            <p>Revenez dans le répertoire de login et affichez le contenu du répertoire courant.</p>
<pre class="taille60"><code><span class="html">cd</span> (ou <span class="html">cd ~</span> ou <span class="html">cd /home/u1bin000</span> ou <span class="html">cd ../..</span>)

<span class="html">ls</span></code></pre>
                        </li>
                    </ol>
                    <h4>Les fichiers :</h4>
                    <ol>
                        <li>
                            <p>Grâce à la commande <span class="html">touch</span>, créez le fichier <span class="em">lusreDesCommandes.txt</span> dans le répertoire <span class="em">linux</span>.</p>
<pre class="taille60"><code class="html">touch linux/listeDesCommandes.txt</code></pre>
                        </li>
                        <li>
                            <p>Créez le fichier <span class="em">ex1</span> dans le répertoire <span class="em">exercices</span>.</p>
<pre class="taille60"><code class="html">touch linux/theorie/exercices/ex1</code></pre>
                        </li>
                        <li>
                            <p>Déplacez-vous dans le répertoire <span class="em">exercices</span> et affichez le contenu du répertoire au moyen de la commande <span class="html">ls</span>.</p>
<pre class="taille60"><code class="html">cd linux/theorie/exercices

ls</code></pre>
                        </li>
                        <li>
                            <p>Affichez de nouveau le contenu du répertoire en utilisant la commande <span class="html">ls &gt; listeDesFichiers</span> puis à nouveau la commande <span class="html">ls</span>, mais seul. Que constatez-vous ?</p>
<pre class="taille60"><code># Au début, pas d'affichage

# Au rappel de la commande, un nouveau fichier est arrivé</code></pre>
                        </li>
                        <li>
                            <p>Copiez le fichier <span class="em">listeDesFichiers</span> dans le fichier <span class="em">listeDesFichiers.bu</span>.</p>
<pre class="taille60"><code class="html">cp listeDesFichiers listeDesFichiers.bu</code></pre>
                        </li>
                        <li>
                            <p>Copiez le fichier <span class="em">listeDesFichiers</span> dans le répertoire parent.</p>
<pre class="taille60"><code><span class="html">cp listeDesFichiers ..</span>

# le fichier est créé avec le même nom</code></pre>
                        </li>
                        <li>
                            <p>Renommez le fichier <span class="em">listeDesFichiers</span> en <span class="em">listeDesFichiers.txt</span>.</p>
<pre class="taille60"><code class="html">mv listeDesFichiers listeDesFichiers.txt</code></pre>
                        </li>
                        <li>
                            <p>Positionnez-vous dans le répertoire de login et déplacez le répertoire <span class="em">exercices</span> dans le répertoire <span class="em">linux</span>.</p>
<pre class="taille60"><code class="html">cd

mv linux/theorie/exercices linux/</code></pre>
                        </li>
                        <li>
                            <p>Copiez l'arborescence <span class="em">linux</span> dans le répertoire <span class="em">/tmp</span>.</p>
<pre class="taille60"><code class="html">cp -r linux /tmp</code></pre>
                        </li>
                        <li>
                            <p>Supprimez le fichier <span class="em">listeDesFichiers.bu</span>.</p>
<pre class="taille60"><code class="html">rm linux/exercices/listeDesFichiers.bu</code></pre>
                        </li>
                        <li>
                            <p>Exécutez la commande <span class="html">~/lesCommandes/whoami</span>; en cas de problème, faites en sorte que cette commande puisse s'exécuter.</p>
<pre class="taille60"><code># KO car le répertoire n'existe pas

mkdir lesCommandes</code></pre>
                        </li>
                    </ol>
                    <h4>Les fichiers text :</h4>
                    <ol>
                        <li>
                            <p>Donez la commande qui affiche le contenu du fichier <span class="em">passwd</span> du répertoire de configuration <span class="html">/etc</span>.</p>
<pre class="taille60"><code class="html">cat /etc/passwd</code></pre>
                        </li>
                        <li>
                            <p>Donnez la commande qui affiche le nombre de lignes de ce même fichier.</p>
<pre class="taille60"><code class="html">wc -l /etc/passwd</code></pre>
                        </li>
                        <li>
                            <p>Donnez la commande qui affiche la liste des utilisateurs potentiels du système et leur uid (c'est-à-dire le 1<sup>er</sup> et 3<sup>ème</sup> champs de chaque enregistrement).</p>
<pre class="taille60"><code class="html">cut -d: -f1,3 /etc/passwd</code></pre>
                        </li>
                        <li>
                            <p>Donnez la commande qui affiche les 3 dernières lignes du fichier des utilisateurs.</p>
<pre class="taille60"><code class="html">tail -n3 /etc/passwd</code></pre>
                        </li>
                        <li>
                            <p>Donnez la commande qui affiche le contenu du fichier <span class="em">passwd</span> du répertoire de configuration <span class="html">/etc</span> en numérotant les lignes.</p>
<pre class="taille60"><code class="html">nl /etc/passwd</code></pre>
                        </li>
                        <li>
                            <p>Donnez la liste des répertoires standards du répertoire racine d'un "File System" Linux et expliquez en l'utilité.</p>
                            <ul>
                                <li>
                                    <p><span class="html">/bin</span> : User Binairies</p>
                                    <p>Ce répertoire contient les exécutables binaires. Toutes les commandes utilisées par tous les utilisateurs du système se trouvent dans ce répertoire (ex. : <span class="html">ps</span>, <span class="html">ls</span>, <span class="html">ping</span>, <span class="html">grep</span>, <span class="html">cp</span>).</p>
                                </li>
                                <li>
                                    <p><span class="html">/sbin</span> : System Binairies</p>
                                    <p>Ce répertoire contient également des exécutables binaires. Les commandes Linux sous ce répertoire sont utilisées généralement par des administrateurs du système à des fins de maintenance du système (ex. : <span class="html">iptables</span>, <span class="html">reboot</span>, <span class="html">fdisk</span>, <span class="html">ifconfig</span>, <span class="html">swapon</span>).</p>
                                </li>
                                <li>
                                    <p><span class="html">/etc</span> : Configuration Files</p>
                                    <p>Ce répertoire contient des fichiers de configuration requis par tous les programmes.</p>
                                </li>
                                <li>
                                    <p><span class="html">/dev</span> : Device Files</p>
                                    <p>Ce répertoire contient des fichiers de périphérique comprenant des dispositifs terminaux, usb, ou tout autre appareil connecté au système.</p>
                                </li>
                                <li>
                                    <p><span class="html">/proc</span> : Process Information</p>
                                    <p>Ce répertoire contient des informations sur le processus de système.</p>
                                </li>
                                <li>
                                    <p><span class="html">/var</span> : Variable Files</p>
                                    <p>Ce répertoire contient des fichiers variables qui inclut les fichiers journauxx du système (<span class="html">/var/log</span>), les packages et fichiers de base de données (<span class="html">/var/lib</span>), les emails (<span class="html">/var/mail</span>), les files d'attente d'impression (<span class="html">/var/spool</span>), verrouiller les fichiers (<span class="html">/var/lock</span>) et les fichiers temporaires nécessaires entre les redémarrages (<span class="html">/var/tmp</span>).</p>
                                </li>
                                <li>
                                    <p><span class="html">/tmp</span> : Tempory Files</p>
                                    <p>Ce répertoire contient les fichiers temporaires créés par le système et les utilisateurs qui sont supprimés lorsque le système est redémarré.</p>
                                </li>
                                <li>
                                    <p><span class="html">/usr</span> : User Programs</p>
                                    <p>Ce répertoire contient les binaires, les bibliothèques, la documentation et le code source pour les programmes de deuxième niveau.</p>
                                    <p><span class="html">/usr/bin</span> contient des fichiers binaires pour les programmes utilisateur.</p>
                                    <p><span class="html">/usr/sbin</span> contient des fichiers binaires pour les administrateurs système.</p>
                                    <p><span class="html">/usr/lib</span> contient les bibliothèques <span class="html">/usr/bin</span> et <span class="html">/usr/sbin</span>.</p>
                                    <p><span class="html">/usr/local</span> contient des programmes utilisateurs que vous installez de la source.</p>
                                </li>
                                <li>
                                    <p><span class="html">/home</span> : Home Directories</p>
                                    <p>Ce répertoire contient les répertoires de login de tous les utilisateurs avec leurs fichiers personnels.</p>
                                </li>
                                <li>
                                    <p><span class="html">/boot</span> : Boot Loaer Files</p>
                                    <p>Ce répertoire contient des fichiers liés au chargement du démarrage.</p>
                                </li>
                                <li>
                                    <p><span class="html">/lib</span> : System Librairies</p>
                                    <p>Ce répertoire contient des fichiers de bibliothèque qui prend en charge les fichiers binaires situés sous <span class="html">/bin</span> et <span class="html">/sbin</span>.</p>
                                </li>
                                <li>
                                    <p><span class="html">/opt</span> : Optional add-on Apps</p>
                                    <p>Ce répertoire contient les applications supplémentaires provenant de fournisseurs individuels.</p>
                                </li>
                                <li>
                                    <p><span class="html">/mnt</span> : Mount Directory</p>
                                    <p>C'est un répertoire temporaire de montage où les administrateurs systèmes peuvent monter des systèmes de fichiers.</p>
                                </li>
                                <li>
                                    <p><span class="html">/media</span> : Removable Devices</p>
                                    <p>C'est un répertoire temporaire pour les périphériques amovibles.</p>
                                </li>
                                <li>
                                    <p><span class="html">/srv</span> : Service Data</p>
                                    <p>Ce répertoire contient des services spécifiques au serveur de données relatives.</p>
                                </li>
                            </ul>
                        </li>
                    </ol>
                </article>
                <article>
                    <h2 id="cours_3">Cours n° 3 : Le système de fichier : Les propriétés :</h2>
                    <h3>Présentation :</h3>
                    <ol>
                        <li>
                            <h4>Introduction :</h4>
                            <p>Nous avons vu au cours précédent que les données pouvaient être stockées sur des disques durs et acédées au travers d'une structure arborescente de fichiers. Mais comment le système d'exploitation peut-il retrouver un fichier sur la partition</p>
                        </li>
                        <li>
                            <h4>Inode :</h4>
                            <p>Sur une partition, chaque fichier est identifié par son numéro appelé <span class="em">inode</span>. Cet inode est mis en relation avec le nom du fichier dans un répertoire qui peut être vu comme une table.</p>
                            <p>Lorsque l'on fournit le nom d'un fichier, le système retrouve l'inode dans le répertoire si l'élément y est présent; grâce à cet inode, le gestionnaire des disques recherche l'adresse des blocs de données dans la table des inodes liée à la partition, cette adresse lui permet d'accéder aux données du fichier.</p>
                            <img src="../images/inode.png" alt="">
                            <p>Il est possible d'afficher le numéro d'inode d'un fichier grâce à la commande <span class="html">ls -i</span> (option i).</p>
                        </li>
                        <li>
                            <h4>Les liens :</h4>
                            <p>Un lien est le moyen d'accéder à un fichier en lui spécifiant un autre nom. En Linux, il existe deux manières de spécifier un lien sur un fichier, le <span class="em">lien physique</span> (hard link) et le <span class="em">lien symbolique</span> (symlink).</p>
                            <ol>
                                <li>
                                    <p>Le Lien physique consiste à créer une nouvelle entrée dans un répertoire en utilisant l'inode d'un fichier déjà existant, dans ce cas, un même fichier possède deux noms. Le lien physique nécessite évidemment que les deux noms soient repris dans la même partition, mais pas nécessairement dans le même répertoire. Puisqu'ils partagent le même inode, aucune donnée n'est ajoutée dans le "file system".</p>
                                    <p>La commande permettant de créer un lien physique est la commande <span class="html">ln src dst</span>.</p>
                                    <img src="../images/lien_physique.png" alt="">
                                </li>
                                <li>
                                    <p>Par contre, le lien symbolique utilise une indirection (comme les raccourcis en Windows).</p>
                                    <p>Dans ce cas, un nouvel élément est ajouté dans le système de ficier (c'est-à-dire un nouvel iode); cet élément va contenir la référence sur le nom de fichier; contrairement aux liens physiques, les liens symboliques peuvent traiter des fichiers qui se trouvent sur des partitions différentes.</p>
                                    <p>La commande pour créer un lien symbolique est la commande <span class="html">ln -s src dest</span>.</p>
                                    <p>Pour retrouver les données enregistrées sur le disque à partir d'un lien symbolique, le gestionnaire de fichiers récupère l'inode du lien symbolique (1) qui lui permet d'accéder (2) aux informations du lien symbolique stockées dans la table des inodes, celles-ci permettent de retrouver (3) le nom du fichier (<span class="em">fichier.txt</span>) qui donne accès aux blocs de données (4-5-6).</p>
                                    <img src="../images/lien_symbolique.png" alt="">
                                </li>
                            </ol>
                        </li>
                        <li>
                            <h4>La structure inode :</h4>
                            <p>Si l'inode est un numéro identifiant le fichier sur la partition, il représente également une structure qui reprend toutes les propriétés du fichier, notamment le numéro d'inode, la taille du fichier, le nombre de liens (physqiues), différents horodatages (timestamps), le propriétaire et le groupe propriétaire, les droits d'accès, plus d'autres informations (le nom du fichier n'est pas repris dans la structure inode).</p>
                            <p>La commande qui permet d'afficher le contenu de l'inode est la commande <span class="html">stat fichier</span>.</p>
                            <p>Certaines propriétés sont affichées grâce à la commande <span class="html">ls -l fichier</span>.</p>
                            <ol>
                                <li>
                                    <h5>Timestamp :</h5>
                                    <p>Les fichiers Linux sont caractérisées par 3 horodatages : le <span class="html">ctime</span> (change time) indique le moment où l'inode a été modifié pour la dernière fois, c'est-à-dire quand une des propriétes a été modifiée, le <span class="html">mtime</span> (modified time) indique la date (et l'heure) de la dernière modification du contenu fichier et le <span class="html">atime</span> (access time) donne la date du dernier accès au fichier.</p>
                                    <p>La commande <span class="html">touch fichier</span> permet de modifier le mtime d'un fichier sans en modifier le contenu.</p>
                                    <p>La commande <span class="html">ls</span> permet d'afficher le ctime (option <span class="html">-lc</span>), le mtime (option <span class="html">-l</span>), le atime (option <span class="html">-lu</span>).</p>
                                </li>
                                <li>
                                    <h5>Propriétaire :</h5>
                                    <p>Chaque ressource Linux possède un <span class="em">propriétaire</span> (user/owner) et un <span class="em">groupe propriétaire</span>. Ceux-ci sont donnés par les numéros <span class="html">uid</span> (user id) et <span class="html">gid</span>. Pour retrouver les noms correspondants, le système doit consulter le fichier <span class="html">/etc/passwd</span> (pour le uid) et le fichier <span class="html">/etc/group</span> (pour le gid).</p>
                                    <p>Les commandes <span class="html">chown</span> et <span class="html">chgrp</span> permet de modifier cette propriété des fichiers, mais elles sont réservées à l'utilisateur privilégié (root).</p>
                                </li>
                                <li>
                                    <h5>Les droits d'accès :</h5>
                                    <p>La dernière propriété que nous allons développer permet de spécifier les droits positionnés sur les fichiers. Ces droits sont accordés à trois catégories d'utilisateurs : le propriétaire, le groupe et les autres utilisateurs du système.</p>
                                    <p>Pour chacune de ces catégories, il est possible de définir 3 niveaux d'accès différents : le droit de lecture (<span class="html">Read</span>) permet d'accéder au contenu du fichier, le droit d'écriture (<span class="html">Write</span>) permet de modifier le fichier tandis que le droit d'exécution (<span class="html">eXecute</span>) permet d'"exécuter" le fichier. L'interprétation de ces droits est différente suivant qu'il s'agisse d'un fichier régulier ou d'un répertoire : le droit d'écriture sur un répertoire permet d'en modifier le contenu, c'est-à-dire pouvoir ajouter ou supprimer un fichier, le droit d'exécution permet de traverser le répertoire pour accéder aux sous-répertoires.</p>
                                    <p>La commande <span class="html">chmod mode fichier</span> permet de moifier les droits sur le fichier. Le <span class="em">mode</span>, 1<sup>er</sup> argument de la commande, spécifie les droits, il peut être donné en notation symbolique : le droits <span class="html">RWX</span> appliqués aux utilisateurs <span class="html">U</span> (user (propriétaire)), <span class="html">G</span> (group), <span class="html">O</span> (other (autres)) ou en notation octale (<span class="html">4&#8594;R 2&#8594;W 1-&#8594;X</span>, pour le propriétaire, le groupe et les autres) sur trois groupes de chiffres : 1 (eXecute), 2 (Write), 4 (Read).</p>
                                    <ul>
                                        <li>
                                            <p>Pour imposer de nouveaux droits, sans tenir compte des droits déjà existants, le mode peut être spécifié en noattaion octale ou en symbolique.</p>
                                            <p>Par exemple : pour accorder au fichier <span class="em">exemple.txt</span> tous les drots au propriétaire, permettre la simple consultation par le groupe et aucun droit aux autres utilisateurs, nous utiliserons la notation octale 750 (7 = 4 + 2 + 1, 5 = 4 + 1, 0 = 0 + 0 + 0) ou la notation symbolique (U = RWX, G = RX, O =).</p>
<pre class="taille60"><code><span class="html">chmod 750 exemple.txt</span>

# ou

<span class="html">chmod u=rwx,g=rx,o= exemple.txt</span></code></pre>
                                        </li>
                                        <li>
                                            <p>Pour modifier des droits existants, il est obligatoire de spécifier le mode en notation symbolique (<span class="html">+</span> : pour ajouter des droits, <span class="html">-</span> pour supprimer certains droits).</p>
                                            <p>Par exemple : Pour ajouter le droit d'exécution pour le propriétaire et le groupe, <span class="html">chmod ug+x exemple.txt</span>.</p>
                                        </li>
                                    </ul>
                                </li>
                            </ol>
                        </li>
                    </ol>
                    <h3>Exercices :</h3>
                    <h4>Les liens :</h4>
                    <ol>
                        <li>
                            <p>Crez le répertoire <span class="em">seance3</span> et déplacez-vous dans ce nouveau répertoire.</p>
<pre class="taille60"><code class="html">mkdir seance3

cd seance3</code></pre>
                        </li>
                        <li>
                            <p>Créez le répertoire <span class="em">linux</span>.</p>
<pre class="taille60"><code class="html">mkdir linux</code></pre>
                        </li>
                        <li>
                            <p>Créez le fichier <span class="em">fichier.txt</span> grâce à la commande <span class="html">ls ~ &gt; fichier.txt</span> et créez un lien symbolique <span class="em">lien.sym</span> sur le fihcier.</p>
<pre class="taille60"><code class="html">touch fichier.txt

ln -s fichier.txt lien.sym</code></pre>
                        </li>
                        <li>
                            <p>Créez un lien physique <span class="em">lien.phy</span> sur le même fichier.</p>
<pre class="taille60"><code class="html">ln fichier.txt lien.phy</code></pre>
                        </li>
                        <li>
                            <p>Affichez les inodes de ces fichiers. Que constatez-vous concernant ces identifants ?</p>
<pre class="taille60"><code><span class="html">ls -i</span>

# fichier.txt et lien.phy ont le même inode
# lien.sym a une autre couleur</code></pre>
                        </li>
                        <li>
                            <p>Affichez le contenu des 2 liens en utilisant la commande <span class="html">cat</span>.</p>
<pre class="taille60"><code><span class="html">cat lien.phy

cat lien.sym</span>

# même contenu que fichier.txt différents liens</code></pre>
                        </li>
                        <li>
                            <p>Supprimez le fichier <span class="em">fichier.txt</span>, ensuite ré-affichez le contenu des 2 liens, notez les modifications apportées aux 2 liens.</p>
<pre class="taille60"><code><span class="html">rm fichier.txt</span>

# le lien symbolique est mort</code></pre>
                        </li>
                        <li>
                            <p>Introduisez la commande <span class="html">date &gt; fichier.txt</span> et ré-affichez le contenu des 2 liens, expliquez le résultat obtenu.</p>
<pre class="taille60"><code><span class="html">cat lien.phy</span>

# pas de changement de lien

<span class="html">cat lien.sym</span>

# lien.sym revient</code></pre>
                        </li>
                    </ol>
                    <h4>Les timestamps :</h4>
                    <ol>
                        <li>
                            <p>Quelle option de la commande <span class="html">ls</span> utiliser pour afficher la date de dernière modification des fichiers du répertoire courant.</p>
<pre class="taille60"><code class="html">ls -l</code></pre>
                        </li>
                        <li>
                            <p></p>
                        </li>
                    </ol>
                </article>
            <!-- fin de section -->
            </section>
        </main>
        <footer role="contentinfo">
            <div>
                <address>
                    Professeurs :
                    <a class="mail" href="mailto:olivier.choquet@vinci.be">Choquet Olivier</a>
                    <a class="mail" href="mailto:driss.vandenheede.techinfo@gmail.com">Vandenheede Driss</a>
                </address>
            </div>
            <div>
                <p>Si vous détectez une erreur, une faute d'orthographe, n'hésitez pas à envoyer un mail aux adresses juste à côté avec le nom de la page et l'erreur détectée.</p>
            </div>
            <div id="version">
                <p>Syllabus HTML</p>
                <p>Version 5.0</p>
            </div>
        </footer>
    </body>
</html>