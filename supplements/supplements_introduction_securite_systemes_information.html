<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <meta name="author" content="Choquet Olivier & Vandenheede Driss">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Introduction à la sécurité des systèmes d'information - Suppléments - e-Syllabus HTML5 et CSS3</title>
        <!-- une icône dans la barre du navigateur -->
        <link rel="icon" href="../images/favicon.png" type="image/png">
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <!-- liens d'évitement -->
        <ul class="a11y-nav">
            <li>
                <a href="#container">Passer directement au contenu</a>
            </li>
            <li>
                <a href="#menu">Accéder au menu secondaire de la page</a>
            </li>
            <li>
                <a href="#aside">Accéder aux liens utiles</a>
            </li>
        </ul>
        
        <!-- bannière et menu -->
        <header role="banner">
            <div class="logoTitle">
                <h1>Cours d'introduction au Web</h1>
                <h2>HTML5 et CSS3</h2>
            </div>
            <nav role="navigation" aria-label="Menu principal de navigation">
                <ul>
                    <li><a href="../index.html">Le cours</a></li>
                    <li><a href="../internet.html">Internet</a></li>
                    <li><a href="../html5.html">HTML5</a></li>
                    <li><a href="../css3.html">CSS3</a></li>
                    <li><a href="../methodologie.html">Méthodologie</a></li>
                    <li><a href="../lexique.html">Lexique</a></li>
                    <li><a href="../supplements.html" class="current">Suppléments</a></li>
                </ul>
            </nav>
        </header>

        <div id="menu">
            <nav role="navigation" aria-label="Menu secondaire">
                <ol>
                    <li><a href="../supplements.html">Retour au sommaire</a></li>
                    <li><a href="#introduction_securite_reseau">Introduction à la sécurité réseau (vulgarisation)</a></li>
                    <li><a href="#infrastructure_cles_publiques_TLS">Infrastructure à clés publiques et TLS</a></li>
                    <li><a href="#Docker">Docker</a></li>
                    <li><a href="#creation_environnement_pentest_Docker">Création d'un environnement de pentest avec Docker</a></li>
                </ol>
            </nav>
            
            <!-- aside lié à la page et pas à l'article donc pas à l'intérieur de article -->
            <aside id="aside" role="complementary">
                <p>Liens utiles :</p>
                <ul>
                    <li><a href="https://www.youtube.com/c/LeDesignerduWeb/videos">Le Designer du web</a></li>
                </ul>
            </aside>
        </div>
        
        <main id="container" role="main" tabindex="-1">
            <section id="mainSection">
                <article>
                    <h1>Introduction à la sécurité des systèmes d'information :</h1>
                </article>
                <article>
                    <h2 id="introduction_securite_reseau">Introduction à la sécurité réseau (vulgarisation) :</h2>
                    <p>Objectifs :</p>
                    <ul>
                        <li>
                            <p>Différencier un réseau interne et externe</p>
                        </li>
                        <li>
                            <p>Présenter des outils de sécurité réseau</p>
                        </li>
                        <li>
                            <p>Décrire les failles des protocoles de la pile TCP/IP</p>
                        </li>
                    </ul>
                    <div>
                        <img src="../images/immeuble.PNG" alt="" class="float_right">
                        <p>Durant ce cours, je ferai souvent une analogie avec le domaine immobilier afin d'imager mes propos.</p>
                        <p>Un réseau informatique peut être comparé au domicile dans lequel on vit. En effet, certaines parties comme le jardin ou un emplacement de parking sont accessibles depuis l'extérieur. Tandis que d'autres, tel que votre salon ou cuisine ne le sont pas.</p>
                        <p>Ceci n'est pas un immeuble !</p>
                    </div>
                    <h3>Qu'est-ce qu'un réseau ?</h3>
                    <h4>Définition :</h4>
                    <p>Un réseau informatique est un ensemble de périphériques reliés entre eux pour échanger des données.</p>
                    <ul>
                        <li>
                            <p>Données</p>
                        </li>
                        <li>
                            <p>Protocoles</p>
                        </li>
                        <li>
                            <p>Identifiants</p>
                        </li>
                        <li>
                            <p>Périphériques</p>
                        </li>
                        <li>
                            <p>Moyens de transmission</p>
                        </li>
                        <li>
                            <p>Modèle de référence</p>
                        </li>
                        <li>
                            <p>LAN/WAN/SOHO</p>
                        </li>
                    </ul>
                    <h4>Ressources sensibles :</h4>
                    <p>Un réseau permet d'échanger des données entre un ou plusieurs périphériques. Cependant, dans un réseau, certaines données ne doivent être accédées que de certains utilisateurs. Prenons le diagramme ci-dessous, comment pouvons-nous autoriser l'accès uniquement aux personnes du secrétariat ?</p>
                    <img src="../images/ressources_sensibles.PNG" alt="">
                    <p>Deux personnes dont la cohabitation n'est pas possible.</p>
                    <h4>Solution : segmentation :</h4>
                    <p>La segmentation réseau est une technique ayant pour objectif de diviser un réseau informatique en plusieurs sous-réseaux. La segmentation permet :</p>
                    <ul>
                        <li>
                            <p>d'augmenter les performances du réseau</p>
                        </li>
                        <li>
                            <p>d'améliorer sa sécurité</p>
                        </li>
                    </ul>
                    <img src="../images/segmentation.PNG" alt="">
                    <h4>Segmentation réseau : performance :</h4>
                    <p>Les protocoles réseaux sont très verbeux dans leurs communications. Les périphériques réseaux utilisent beaucoup de leurs ressources à traiter des informations qui ne leur sont pas destinées.</p>
                    <ul>
                        <li>
                            <p>DHCP</p>
                        </li>
                        <li>
                            <p>ARP</p>
                        </li>
                        <li>
                            <p>etc.</p>
                        </li>
                    </ul>
                    <img src="../images/segmentation_performance.PNG" alt="">
                    <h4>Segmentation réseau : sécurité :</h4>
                    <p>Des ressources ayant une exigence de sécurité ou un niveau d'accessibilité différent ne doivent pas se trouver dans un même réseau.</p>
                    <img src="../images/segmentation_securite.PNG" alt="">
                    <p>Comment pourrions-nous segmenter ce réseau ?</p>
                    <h4>Segmentation réseau : stratégies :</h4>
                    <p>La segmentation réseau se fait en fonction des besoins de l'entreprise. Ci-dessous, des exemple de besoins de segmentation :</p>
                    <ul>
                        <li>
                            <p>par département : RH, Comptabilité, etc.</p>
                        </li>
                        <li>
                            <p>par périmètre applicatif : DEV, QUA, PRD</p>
                        </li>
                        <li>
                            <p>par type de ressources : public ou privé</p>
                        </li>
                    </ul>
                    <p>Un utilisateur se verra refuser l'accès s'il souhaite s'introduire dans un réseau non autorisé. C'est une façon simple de prévenir, sinon de contenir les attaques et incidents.</p>
                    <h4>Comment segmente-t-on un réseau ?</h4>
                    <p>Valeurs de référence : 128, 64, 32, 16, 8, 4, 2, 1</p>
                    <p>Divisez le "range" 10.10.10.0/24 afin d'obtenir un sous-réseau contenant 25, 36 et 100 utilisateurs.</p>
                    <p>Comment procéder ?</p>
                    <ul>
                        <li>
                            <p>Triez les sous-réseaux de manière décroissante en fonction de leur taille.</p>
                        </li>
                        <li>
                            <p>Identifiez le nombre de bits nécessaires afin de répondre au besoin.</p>
                        </li>
                        <li>
                            <p>Calculez l'identifiant réseau et l'adresse de broadcast du sous-réseau le plus grand (non calculé).</p>
                        </li>
                        <li>
                            <p>Calculez le réseau suivant à partir du nouveau "range" obtenu.</p>
                        </li>
                    </ul>
                    <p>Exemple : un sous-réseau contenant 100 utilisateurs. Le 8<sup>ème</sup> bit nous permet d'obtenir au moins le nombre d'hôtes souhaités. Le réseau obtenu est maintenant 10.10.10.0/25 avec l'adresse de broadcast 10.10.10.127. Quels sont les réseaux suivants ?</p>
                    <h4>Exercice segmentation :</h4>
                    <ol>
                        <li>
                            <p>10.10.0.2/24 et 10.10.10.1/24 sont-ils dans le même réseau ?</p>
                            <p class="em">Non, car leurs adresses réseau sont 10.10.0.0 et 10.10.10.0, donc réseaux différents.</p>
                        </li>
                        <li>
                            <p>Combien d'adresses assignables possède le réseau 10.10.10.0/25 ?</p>
                            <p class="em">/25 = 128 adresses totales &#8594; 126 assignables (on retire réseau + broadcast).</p>
                        </li>
                        <li>
                            <p>Quel masque de sous-réseau permet de contenir 32 utilisateurs ?</p>
                            <p class="em">Il faut au moins 34 adresses (32 + réseau + broadcast) &#8594; /27 (255.255.255.224).</p>
                        </li>
                        <li>
                            <p>Quelle est l'adresse de diffusion ainsi que l'identifiant du réseau 10.10.0.0/23 ?</p>
                            <p class="em">Plage = 10.10.0.0 &#8594; 10.10.1.255. Réseau : 10.10.0.0. Broadcast : 10.10.1.255</p>
                        </li>
                    </ol>
                    <h3>Se protéger des menaces externes :</h3>
                    <p>Il est nécessaire d'identifier le type de réseau que l'on souhaite sécurisé. En effet, sécuriser un appartement privé et un magasin ne se fait pas de la même manière.</p>
                    <img src="../images/intranet_extranet_internet.PNG" alt="">
                    <ul>
                        <li>
                            <p>Intranet : ressources internes non accessibles depuis Internet. Correspond à un appartement privé.</p>
                        </li>
                        <li>
                            <p>Extranet : ressources internes que l'on met à disposition sur Internet. Correspond à une partie publique de notre appartement. Exemple : le jardin.</p>
                        </li>
                        <li>
                            <p>Internet : ressources externes publiques. Exemple : une rue.</p>
                        </li>
                    </ul>
                    <p>De quelle manière protégeons-nous l'accès à un lieu ?</p>
                    <h4>Firewall : porte d'entrée :</h4>
                    <p>Le but du firewall est de fournir une connectivité contrôlée et maîtrisée à notre réseau (basée sur le principe du moindre privilège). Le filtrage se fait selon divers critères. Les plus courants sont :</p>
                    <ul>
                        <li>
                            <p>l'origine ou la destination des paquets (adresse IP, ports TCP ou UDP, interface réseau, etc.);</p>
                        </li>
                        <li>
                            <p>les options contenues dans les données (fragmentation, validité, etc.);</p>
                        </li>
                        <li>
                            <p>les données elles-mêmes (taille, correspondance à un motif, etc.);</p>
                        </li>
                        <li>
                            <p>le nom de domaine (couche ?).</p>
                        </li>
                    </ul>
                    <p>Il se concentre sur la couche 3 et 4 du modèle OSI.</p>
                    <p>Les types de firewall :</p>
                    <ul>
                        <li>
                            <p>machine (host) : surveille en permanence toutes les transmissions vers et depuis un ordinateur.</p>
                        </li>
                        <li>
                            <p>réseau : porte entre le réseau interne qui doit être sécurisé et le système externe comme Internet.</p>
                        </li>
                    </ul>
                    <img src="../images/types_firewall.PNG" alt="">
                    <p>Exemple de configuration firewall :</p>
                    <img src="../images/exemple_configuration_firewall.PNG" alt="">
                    <h4>Web Application Firewall (couche 7) :</h4>
                    <p>Le Web Application Firewall (WAF) protège vos applications Web en filtrant, surveillant et bloquant tout trafic HTTP(S) malveillant se dirigeant vers votre application Web.</p>
                    <img src="../images/WAF.PNG" alt="">
                    <p>Il s'agit d'un reverse proxy chargé de protéger vos applications des attaques les plus courantes :</p>
                    <ul>
                        <li>
                            <p>SQL injection</p>
                        </li>
                        <li>
                            <p>Cross-site scripting (XSS)</p>
                        </li>
                        <li>
                            <p>Session hijacking</p>
                        </li>
                        <li>
                            <p>Distributed denial of service (DDoS) attacks</p>
                        </li>
                        <li>
                            <p>Cookie poisoning</p>
                        </li>
                        <li>
                            <p>Parameter tampering</p>
                        </li>
                    </ul>
                    <p>Comment segmenter ce réseau (intranet) ?</p>
                    <h3>Comment expose-t-on nos ressources publiques ?</h3>
                    <h4>DMZ : jardin :</h4>
                    <p>Certaines parties de notre domicile sont accessibles sans avoir à passer par notre porte d'entrée (firewall). Exemple, lorsque nous décorons un jardin, une façade avec des décorations de Noël, celles-ci sont accessibles à tout le monde sans pour autant donner accès à notre domicile.</p>
                    <p>À l'image de notre jardin, l'architecture DMZ rend accessible certaines ressources sans pour autant exposer notre réseau local.</p>
                    <h4>DMZ : extranet :</h4>
                    <p>La DMZ (DeMilitarized Zone) est un sous-réseau isolé de notre réseau local contenant des ressources que l'on souhaite rendre accessibles depuis l'extérieur (ex: extranet). Le nom provient de la zone coréenne démilitarisée.</p>
                    <img src="../images/DMZ_extranet.PNG" alt="">
                    <p>Quelle serait une analogie au firewall devant notre intranet ?</p>
                    <p>Comment accéder à notre réseau privé ?</p>
                    <h4>Exercice : architecture :</h4>
                    <ul>
                        <li>
                            <p>Dessinez deux réseaux (private LAN + DMZ)</p>
                        </li>
                        <li>
                            <p>Ajoutez un firewall + WAF</p>
                        </li>
                    </ul>
                    <img src="../images/schema_reseau.png" alt="">
                    <h3>Comment accède-t-on aux ressources de notre réseau privé ?</h3>
                    <h4>VPN : passage secret vers l'intranet :</h4>
                    <p>Un Virtual private Network (VPN) crée un tunnel sécurisé entre votre système et le système distant.</p>
                    <figure>
                        <img src="../images/cu_chi_tunnel.PNG" alt="">
                        <figcaption>Cu chi tunnel Vietnam</figcaption>
                    </figure>
                    <p>Un VPN crée un réseau privé virtuel qui camoufle/chiffre les données transmises.</p>
                    <p>Les données chiffrées interceptées lors de la transmission ne pourront pas être déchiffrées.</p>
                    <ul>
                        <li>
                            <p>privé : les données ne sont accessibles qu'après avoir établi une connexion.</p>
                        </li>
                        <li>
                            <p>virtuel : il s'agit de deux réseaux privés traversant l'Internet.</p>
                        </li>
                    </ul>
                    <img src="../images/VPN.PNG" alt="">
                    <p>Le VPN offre une réduction du coût de communication car il ne nécessite pas une liaison privée physique (ligne louée dédiée). Le chiffrage des données offre : confidentialité, intégrité des données et l'authentification.</p>
                    <h4>Site à site :</h4>
                    <p>Un VPN site à site sert à relier des réseaux distants. Exemple : maison mère et succursale.</p>
                    <img src="../images/VPN_site_site.PNG" alt="">
                    <h4>Accès à distance :</h4>
                    <p>Ce type de VPN connecte des utilisateurs finaux au réseau local privé.</p>
                    <img src="../images/VPN_acces_distance.PNG" alt="">
                    <h3>Quel outil protège les clients lorsqu'ils communiquent sur Internet ?</h3>
                    <h4>Proxy : le protecteur (man in the middle) :</h4>
                    <p>Lorsqu'un enfant souhaite sortir, il doit demander au préalable l'autorisation à ses parents.</p>
                    <p>À l'image du parent qui autorise ou non la sortie, le serveur proxy peut interdire certaines requêtes.</p>
                    <p>Le proxy joue le rôle d'intermédiaire entre le client et Internet. Ce rôle permet de filtrer les communications ou encore de cacher les communications effectuées.</p>
                    <p>Il peut également rediriger l'utilisateur vers une page souhaitée (ex : Kazachstan).</p>
                    <h4>Configuration client : proxy transparent :</h4>
                    <p>Chaque client doit être configuré pour utiliser le serveur proxy.</p>
                    <p>À l'image d'un enfant rebelle, un client pourrait décider de ne pas utiliser le serveur proxy. Le proxy transparent est une solution à ce problème.</p>
                    <p>Le proxy transparent intercepte la requête avant de la transmettre au fournisseur. Les proxys transparents sont considérés comme transparents car l'utilisateur n'en a pas connaissance.</p>
                    <h4>Reverse proxy :</h4>
                    <p>Un proxy inversé (reverse proxy) est un type de serveur, habituellement placé en frontal de serveurs web.</p>
                    <p>Le proxy est dit inversé car le client n'a pas connaissance de l'adresse réelle du serveur qu'il accède.</p>
                    <ul>
                        <li>
                            <p>WAF (Azure)</p>
                        </li>
                        <li>
                            <p>Load balancer (Azure)</p>
                        </li>
                        <li>
                            <p>Etc.</p>
                        </li>
                    </ul>
                    <h4>Firewall VS proxy :</h4>
                    <p>Un firewall de base permet de filtrer une communication sur base des informations de la couche réseau/transport (IP + port).</p>
                    <p>Le proxy, quant à lui, offre un filtrage applicatif. Il offre également des fonctionnalités de cache.</p>
                    <p>Les deux fonctions peuvent être réalisées par le même composant réseau.</p>
                    <h4>Exercice : architecture :</h4>
                    <ul>
                        <li>
                            <p>Ajoutez un proxy et un VPN à votre réseau.</p>
                        </li>
                    </ul>
                    <h4>Intrustion Detection System (IDS) :</h4>
                    <p>Afin de protéger son habitat, il existe différentes techniques, telles que :</p>
                    <ul>
                        <li>
                            <p>les détecteurs de mouvement</p>
                        </li>
                        <li>
                            <p>les détecteurs de fumée</p>
                        </li>
                        <li>
                            <p>item</p>
                        </li>
                    </ul>
                    <p>À l'instar de nos habitats, il existe des techniques afin d'identifier une intrusion dans notre réseau.</p>
                    <p>Ce système n'est pas fiable à 100% (faux positif et faux négatif).</p>
                    <h4>Types d'IDS :</h4>
                    <p>L'IDS écoute le trafic de manière furtive dans le but d'identifier une communication suspecte.</p>
                    <ul>
                        <li>
                            <P>AIDS (Anomaly-based Intrusion Detection System) : reposent sur une base de données d'attaques connues. Il ne stoppe donc pas ce qu'il ne connait pas.</P>
                        </li>
                        <li>
                            <p>SIDS (Signature-based Intrusion Detection System) : après avoir pris connaissance de la manière dont est utilisée le réseau, le système pourra identifier une utilisation jugée anormale.</p>
                        </li>
                    </ul>
                    <p>L'IDS détecte mais n'agit pas.</p>
                    <h4>Intrusion Prevention System (IPS) :</h4>
                    <p>Certaines maisons comprennent des extincteurs automatiques à eau déclenchés lorsque de la chaleur, de la fumée ou une flamme est détectée.</p>
                    <p>À l'image des extincteurs automatiques, les réseaux informatiques possèdent des outils afin de réagir après la réception d'un message de l'IDS.</p>
                    <p>Ce système n'est pas fiable à 100% (faux positif et faux négatif).</p>
                    <h4>IDS VS IPS :</h4>
                    <p>La principale différence entre l'IPS et l'IDS est l'action prise lorsqu'une menace potentielle est détectée.</p>
                    <ul>
                        <li>
                            <p>IPS réagit et prend une action afin de protéger le réseau contre les attaques potentielles.</p>
                        </li>
                        <li>
                            <p>IDS se contente de surveiller le réseau et d'envoyer des alertes aux administrateurs ou à l'IPS si une menace est détectée.</p>
                        </li>
                    </ul>
                    <p>Les deux fonctions peuvent être réalisées par le même composant réseau (avec fonction de firewall).</p>
                    <h4>Honeynet : vulnérabilités intentionelles :</h4>
                    <p>Un honeynet est une infrastructure/réseau qui fait office d'appât afin d'attirer et d'occuper toutes personnes mal intentionnées.</p>
                    <img src="../images/honeynet.PNG" alt="">
                </article>
                <article>
                    <h2 id="infrastructure_cles_publiques_TLS">L'infrastructure à clés publiques et TLS :</h2>
                    <h3>Sujet du jour : Public Key Infrastructure (PKI) :</h3>
                    <p>La PKI est un ensemble de <span class="em">composants hardware</span>, de <span class="em">procédures humaines</span> (vérifications, validations) et de <span class="em">logiciels</span> destinés à gérer les clés de chiffrement.</p>
                    <p>La PKI offre une communication <span class="em">sécurisée (authentifiée)</span> entre des parties qui ne se sont <span class="em">jamais rencontrées auparavant</span>.</p>
                    <p>Le modèle s'appuie sur des <span class="em">tiers de confiance</span> appelés autorités de certification pour émettre des certificats auxquels nous faisons entièrement confiance.</p>
                    <h3>Sécuriser des données numériques : besoin :</h3>
                    <p>Une communication réseau introduit des contraintes de sécurité telles que :</p>
                    <ul>
                        <li>
                            <p>La manière de s'authentifier sur le réseau.</p>
                        </li>
                        <li>
                            <p>La garantie que personne n'écoute la communication.</p>
                        </li>
                        <li>
                            <p>La garantie de communiquer avec le bon interlocuteur.</p>
                        </li>
                    </ul>
                    <p class="em">La PKI est une solution pour authentifier des communications à distance (in transit).</p>
                    <h3>Sécuriser des données numériques : solution :</h3>
                    <p>Le chiffrement des données consiste à rendre les <span class="em">données totalement incompréhensibles</span> aux personnes qui ne sont pas habilitées à les traiter.</p>
                    <ul>
                        <li>
                            <h4>Hachage :</h4>
                            <div>
                                <img src="../images/hachage.PNG" alt="" class="float_right">
                                <p>Une fonction d'hachage transforme un message de <span class="em">taille arbitraire</span> en un <span class="em">message de taille fixe</span>.</p>
                                <ul>
                                    <li>
                                        <p>Garantir l'intégrité des données</p>
                                    </li>
                                    <li>
                                        <p>Message Authentication Code (MAC)</p>
                                    </li>
                                    <li>
                                        <p>Checksum</p>
                                    </li>
                                    <li>
                                        <p>Table de hachage</p>
                                    </li>
                                    <li>
                                        <p>Git</p>
                                    </li>
                                    <li>
                                        <p>MD5, SHA</p>
                                    </li>
                                </ul>
                                <ul>
                                    <li>
                                        <p>Intégrité : une fonction de hachage garantit que les données n'ont pas été modifiées. Pourquoi ?</p>
                                    </li>
                                    <li>
                                        <p>Pas de confidentialité : pas assurée par la fonction de hachage seule; nécessite un chiffrement séparé.</p>
                                    </li>
                                    <li>
                                        <p>Pas d'authentification : assurée par une signature numérique, qui combine une fonction de hachage avec un chiffrement à clé privée.</p>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <li>
                            <h4>Chiffrage symétrique :</h4>
                            <p>Le chiffrement symétrique utilise la même clé secrète pour le chiffrement et le déchiffrement.</p>
                            <p>L'avantage du chiffrement à clé symétrique est sa <span class="em">rapidité d'exécution</span>.</p>
                            <img src="../images/chiffrement_symetrique.PNG" alt="">
                            <p>Algorithmes : AES, DES</p>
                            <p>Le chiffrement symétrique <span class="em">protège le contenu (confidentialité)</span>. Quel est l'inconvénient de ce type de chiffrement ?</p>
                            <p class="em">Comment transmettre la clé ?</p>
                        </li>
                        <li>
                            <h4>Chiffrage asymétrique :</h4>
                            <p>Il s'agit d'un chiffrement utilisant <span class="em">deux clés différentes</span> afin de déchiffrer des données. Les deux clés possèdent une <span class="em">relation mathématique</span> permettant ainsi le chiffrage et déchiffrage d'informations. <span class="em">Une clé est dite privée (non partagée) et l'autre est dite publique (partagée).</span></p>
                            <img src="../images/chiffrement_asymetrique.PNG" alt="">
                            <p>Algorithmes : RSA, Diffie-Hellman</p>
                            <p>Le chiffrement symétrique assure la confidentialité mais pas l'authentification, tandis que le chiffrement asymétrique garantit à la fois <span class="em">confidentialité</span> et <span class="em">authentification</span>.</p>
                            <p class="em">Quelqu'un peut m'expliquer le déroulement d'une communication ?</p>
                        </li>
                    </ul>
                    <h3>Signature digitale :</h3>
                    <p>La signature digitale permet d'établir un lien entre le document et le signataire.</p>
                    <ul>
                        <li>
                            <p>Fonction de hachage : intégrité (pourquoi pas de confidentialité ?)</p>
                        </li>
                        <li>
                            <p>Chiffrement : confidentialité/authentification</p>
                        </li>
                        <li>
                            <p>Non répudiation : fonction de hachage + authentification</p>
                        </li>
                    </ul>
                    <figure>
                        <img src="../images/signature_digitale.PNG" alt="">
                        <figcaption>Source : Docusign</figcaption>
                    </figure>
                    <p class="em">Quelle est la limite du chiffrement à clé publique ?</p>
                    <p class="em">Impossible de garantir la provenance de la clé publique. Solution : PKI</p>
                    <p class="em">Quelle PKI connaissez-vous ?</p>
                    <p>Les plus connus :</p>
                    <ul>
                        <li>
                            <p>TLS</p>
                        </li>
                        <li>
                            <p>Code signing certificates</p>
                        </li>
                        <li>
                            <p>Cartes bancaires</p>
                        </li>
                        <li>
                            <p>EID : La PKI que connaissent tous les citoyens en Belgique est celle de la carte d'identité.</p>
                            <img src="../images/PKI_EID.PNG" alt="">
                        </li>
                    </ul>
                    <h3>Qu'est-ce qu'un certificat ?</h3>
                    <p>Un certificat numérique remplit un objectif similaire à un permis de conduire ou à un passeport : c'est une pièce d'identité qui prouve votre identité et vous confère certains droits. Un certificat numérique permet à son propriétaire de chiffrer, signer et authentifier. <span class="em">Il est défini par la norme X.509.</span></p>
                    <p>La PKI utilise le certificat X.509 afin de chiffrer des données, de signer numériquement des documents et d'authentifier des communications.</p>
                    <h4>Contenu d'un certificat :</h4>
                    <p>Un certificat est un document numérique qui contient des informations similaires à celui d'un document d'identité. Les informations contenues dans le certificat sont décrites par la norme X.509. Nous retrouvons des informations telles que :</p>
                    <ul>
                        <li>
                            <p>Une clé publique utilisée par le client pour chiffrer les données.</p>
                        </li>
                        <li>
                            <p>Une signature digitale utilisée par le client pour valider le certificat.</p>
                        </li>
                        <li>
                            <p>Des informations sur l'entité qui lui est associée (nom, localisation, etc.)</p>
                        </li>
                        <li>
                            <p>Une durée de validité</p>
                        </li>
                        <li>
                            <p>L'émetteur du certificat (auto signé ou autorité de confiance)</p>
                        </li>
                        <li>
                            <p>Des extensions afin d'ajouter de la flexibilité au certificat :</p>
                            <ul>
                                <li>
                                    <p>SAN (Subject Alternative Name)</p>
                                </li>
                                <li>
                                    <p>CRL (Certificate Revocation List)</p>
                                </li>
                                <li>
                                    <p>OSCP (Online Certificate Status Protocol)</p>
                                </li>
                                <li>
                                    <p>etc.</p>
                                </li>
                            </ul>
                        </li>
                    </ul>
                    <ul>
                        <li>
                            <p>DER/CER : certificat stocké en format binaire</p>
                        </li>
                        <li>
                            <p>PEM/CRT/CER : certificat en format ASCII (base64)</p>
                        </li>
                        <li>
                            <p>PFX : format de certificat utilisé dans les environnements Microsoft</p>
                        </li>
                    </ul>
                    <h4>Cycle de vie d'un certificat :</h4>
                    <ul>
                        <li>
                            <p>Requêter : créer un "Certificat Signing Request (CSR)" contenant des informations sur notre entité et notre clé publique.</p>
                            <div>
                                <img src="../images/certificat_requeter.PNG" class="float_right" alt="">
                                <p>attributs certificats (CN, N, signature digitale, clé publique)</p>
                            </div>
                        </li>
                        <li>
                            <p>Signer : l'autorité de confiance signe le certificat afin de garantir sa provenance (signe avec clé privée = nouvelle signature digitale).</p>
                            <img src="../images/certificat_signer.PNG" alt="">
                        </li>
                        <li>
                            <p>Renouveler : un certificat est valide pour une période donnée.</p>
                            <p>Comment renouveler un certificat ?</p>
                            <p>Es-il possible de modifier la date d'un certificat ?</p>
                            <p>Comment valider que la CSR n'a pas été altéré ?</p>
                        </li>
                        <li>
                            <p>Révoquer : les certificats sont révoqués lorsque les clés privées associées sont compromises ou ne sont plus nécessaires (CRl et OCSP).</p>
                        </li>
                    </ul>
                    <h4>Exercice : générer un CSR :</h4>
                    <ol>
                        <li>
                            <p>Générer clé privée/publique :</p>
<pre><code>openssl genrsa -out cliet.key 2048</code></pre>
                        </li>
                        <li>
                            <p>Générer CSR en passant les attributs en paramètres :</p>
<pre><code>openssl req -out client.csr -key client.key -new -nodes -subj "/C=BE/CN=client.com"</code></pre>
                        </li>
                        <li>
                            <p>Générer clé privée + CSR :</p>
<pre><code>openssl req -newkey rsa:2048 -nodes -keyout client.key -out client.csr -subj "/C=BE/CN=client.com"</code></pre>
                        </li>
                        <li>
                            <p>Générer clé privée + CSR avec fichier de configuration :</p>
<pre><code>openssl req -newkey rsa:2048 -nodes -keyout client.key -out client.csr -config csr.txt</code></pre>
                            <p><a href="https://help.switch.ch/pki/manage/request/csr-openssl/" target="_blank">https://help.switch.ch/pki/manage/request/csr-openssl/</a></p>
<pre><code>[ req ]
prompt = no
encrypt_key = no
distinguished_name = dn
 
[ dn ]
C = BE
O = ephec.be
CN = client.com</code></pre>
                        </li>
                    </ol>
                    <p class="em">Comment prouve-t-on notre identité ? Carte de bibliothèque ?</p>
                    <h3>Autorité de délivrance :</h3>
                    <p>Les doculents d'identité sont acceptés car ils ont été délivrés par l'Éat (autorité de délivrance).</p>
                    <p>À l'image des documents d'identité, il est nécessaire de vérifier la validité des certificats que l'on manipule afin d'identifier nos correspondants.</p>
                    <p>La PKI permet de lier des certificats à des identités (comme des noms d'utilisateurs ou des organisations).</p>
                    <h3>Public Key Infrastructure (PKI) : définition :</h3>
                    <p>L'objectif de PKI est de permettre <span class="em">une communication sécurisée</span> entre des parties qui ne se sont <span class="em">jamais rencontrées auparavant</span>.</p>
                    <p>La PKI garantit cette sécurité en s'appuyant sur des <span class="em">tiers de confiance</span> appelés autorités de certification (CA; parfois aussi appelées autorités de certification) pour <span class="em">émettre des certificats auxquels nous faisons entièrement confiance</span>.</p>
                    <p>Un certificat PKI permet à quelqu'un de lier numériquement son identité et d'utiliser le certificat pour exécuter certaines de ces fonctions :</p>
                    <ul>
                        <li>
                            <p>chiffrer des données</p>
                        </li>
                        <li>
                            <p>signer numériquement des documents</p>
                        </li>
                        <li>
                            <p>authentifier</p>
                        </li>
                    </ul>
                    <h3>Les composants PKI :</h3>
                    <img src="../images/composants_PKI.PNG" alt="">
                    <p class="em">Comment un client connaît-il les CAs de confiance ?</p>
                    <h3>CAs de confiance :</h3>
                    <ul>
                        <li>
                            <p>Fourni avec l'OS</p>
                        </li>
                        <li>
                            <p>Mise à jour navigateur/OS</p>
                        </li>
                        <li>
                            <p>GPO/SSCM/Intune</p>
                        </li>
                    </ul>
                    <h3>Self signed (auto signé) :</h3>
                    <img src="../images/self_signed.PNG" alt="">
                    <h3>Modèle 2 : chain of trust (confiance hiérachique) :</h3>
                    <figure>
                        <img src="../images/chain_of_trust.PNG" alt="">
                        <figcaption>Source : Medium</figcaption>
                    </figure>
                    <p>Dans la majorité des cas, un certificat seul est insuffisant pour une validation réussie. En pratique, chaque serveur doit fournir une chaine de certificats qui mène à une racine de confiance. Les chaînes de certificats sont utilisées pour des raisons de sécurité, techniques et administratives.</p>
                    <img src="../images/chain_of_trust_1.PNG" alt="">
                    <h3>Protéger le CA :</h3>
                    <ul>
                        <li>
                            <p>Éteindre le CA.</p>
                        </li>
                        <li>
                            <p>Les CAs intermédiaires seront chargés de signer les certificats.</p>
                        </li>
                        <li>
                            <p>Protéger la clé privée du CA.</p>
                        </li>
                        <li>
                            <p>Clé compromise rendra possible la signature de faux certificats.</p>
                        </li>
                        <li>
                            <p>Clé compromise déclenchera la révocation de nombreux certificats.</p>
                        </li>
                        <li>
                            <p>Pertes financières / faillite</p>
                        </li>
                    </ul>
                    <h3>Clé corrompue :</h3>
                    <p>Diginotar : Autorité de certification (CA) néerlandaise compromise en 2011. Des certificats frauduleux émis pour Google ont été utilisés dans des attaques de type "man-in-the-middle" visant les utilisateurs Gmail iraniens (2011 was bad year for Iran, Stuxnet).</p>
                    <h3>Limitations :</h3>
                    <ul>
                        <li>
                            <p>Le prix : CA sont contrôlés par des entités commerciales. Le prix du certificat peut varier en fonction des attributs choisis.</p>
                        </li>
                        <li>
                            <p>Wildcard certificate</p>
                        </li>
                        <li>
                            <p>SAN</p>
                        </li>
                        <li>
                            <p>Let's Encrypt : solution gratuite mais limitée en terme de fonctionnalités (durée, périphériques, domaine).</p>
                        </li>
                    </ul>
                    <h3>Exercice : crée CA certificat :</h3>
                    <ol>
                        <li>
                            <p>Générer clé privée/publique CA :</p>
<pre><code>openssl genrsa -out ca.key 2048</code></pre>
                        </li>
                        <li>
                            <p>Générer CA certificat :</p>
<pre><code>openssl req -x509 -new -nodes -key ca.key -sha256 -days 1825 ca.cer -subj "/C=BE/CN=ca.com"</code></pre>
                        </li>
                    </ol>
                    <h3>TLS : définition :</h3>
                    <p>Le chiffrage asymétrique est une solution idéale pour identifier un acteur sur le réseau.</p>
                    <p>Toutefois, le chiffrage asymétrique <span class="em">est lent à l'exécution</span> en raison de la charge de calcul élevée.</p>
                    <p>TLS utilise <span class="em">à la fois un chiffrement asymétrique et symétrique</span> pour protéger la confidentialité et l'intégrité des données en transit. Le <span class="em">chiffrement asymétrique est utilisé pour établir une session sécurisée</span> entre une client et un serveur, et le <span class="em">chiffrement symétrique est utilisé pour échanger des données</span> au sein de la session sécurisée.</p>
                    <p>En plus de chiffrer les données transmises entre un serveur et votre navigateur, le protocole <span class="em">TLS (PKI) authentifie également le serveur auquel vous vous connectez</span> et protège les données transmises de toute altération.</p>
                    <p class="em">En d'autres termes, le rôle de TLS est de partager une clé symétrique en utilisant une clé asymétrique.</p>
                    <h4>Versions :</h4>
                    <img src="../images/TLS_versions.PNG" alt="">
                    <ul>
                        <li>
                            <p>Secure Socket Layer / Transport Layer Security.</p>
                        </li>
                        <li>
                            <p>SSL 1.0, 2.0, 3.0 étaient propriétaire de Netscape.</p>
                        </li>
                        <li>
                            <p>IETF est en charge du protocole TLS.</p>
                        </li>
                        <li>
                            <p>TLS 1.0 (3.1) basé sur SSL 3.0.</p>
                        </li>
                        <li>
                            <P>TLS 1.0 et 1.1 sont obsolètes depuis 2021 (plus supporté par les principaux acteurs du web).</P>
                        </li>
                        <li>
                            <p>TLS 1.3 réduit le nombre de message durant la communication.</p>
                        </li>
                    </ul>
                    <h4>TLS support :</h4>
                    <img src="../images/TLS_support.PNG" alt="">
                    <h4>TLS support aujourd'hui :</h4>
                    <figure>
                        <img src="../images/TLS_support_ajd.PNG" alt="">
                        <figcaption>Source : sslabs 09/2022</figcaption>
                    </figure>
                    <h3>TLS handshake (1.2) :</h3>
                    <div>
                        <img src="../images/TLS_handshake.PNG" alt="" class="float_right">
                        <ul>
                            <li>
                                <p>Client hello : max TLS <span class="em">(Downgrade  attack)</span>, cipher suites, chiffre aléatoire</p>
                            </li>
                            <li>
                                <p>Server hello : TLS version, cipher suite, chiffre aléatoire.</p>
                            </li>
                            <li>
                                <p>Certificate : clé pub, signature, auth (PKI).</p>
                            </li>
                            <li>
                                <p>Server hello done : fin étape.</p>
                            </li>
                            <li>
                                <p>Client Key exchange : clé "pre-master" envoyé au serveur, protocole (RSA, ECDHE). Le client et le serveur calculent la clé "master" sur base des chiffres aléatoires + clé "pre-master".</p>
                            </li>
                            <li>
                                <p>Change cipher spec : prêt à faire du chiffrement symétrique (spécifié dans le "cipher suite").</p>
                            </li>
                        </ul>
                    </div>
                    <h3>Cipher suite (suite de chiffrement) :</h3>
                    <p>Le "chipher suite" est un ensemble d'algorithmes utilisé lors d'une communication TLS. Il contient les informations suivantes :</p>
                    <ul>
                        <li>
                            <p>Protocole : TLS1.2, TLS1.3, etc.</p>
                        </li>
                        <li>
                            <p>Algorithmes d'échange de clé (key exchange) : L'algorithme d'échange de clé est utilisé pour échanger une clé entre deux tiers (ex : ECDHE, RSA (valeur par défaut)).</p>
                        </li>
                        <li>
                            <p>Authentification : (ex: RSA (valeur par défaut), ECDSA).</p>
                        </li>
                        <li>
                            <p>Algorithmes de chiffrement des données (bulk encryption algorithm) : Ces algorithmes sont utilisés pour chiffrer lesdonnées (applicative) envoyées.</p>
                        </li>
                        <li>
                            <p>Message Authentication Code (MAC) : Les fonctions de hachage utilisées (ex : SHA, MD5).</p>
                        </li>
                        <li>
                            <p>Exemple : DHE_RSA_AES256_SHA256.</p>
                        </li>
                    </ul>
                    <h3>TCP/IP :</h3>
                    <p class="em">À quel niveau de la pile TCP/IP se déroule le TLS handshake ?</p>
                    <figure>
                        <img src="../images/TCP_IP.PNG" alt="">
                        <figcaption>Source : hpbn</figcaption>
                    </figure>
                    <h3>Reverse proxy : TLS offloading :</h3>
                    <div>
                        <figure class="float_right">
                            <img src="../images/TLS_offloading.PNG" alt="">
                            <figcaption>Source : sectigostore</figcaption>
                        </figure>
                        <ul>
                            <li>
                                <p>Migration vers HTTPS.</p>
                            </li>
                            <li>
                                <p>Coût du certificat (exposé qu'un seul point d'accès).</p>
                            </li>
                        </ul>
                    </div>
                    <h3>HTTPS :</h3>
                    <img src="../images/HTTPS.PNG" alt="">
                    <h3>Navigateur : Expiration de certificat :</h3>
                    <p>Depuis le 1<sup>er</sup> septembre 2020, la date d'expiration maximale des certificats TLS passera de de 2 ans à 13 mois.</p>
                    <ul>
                        <li>
                            <p>Découverte de failles dans les algorithmes de chiffrement (migration rapide).</p>
                        </li>
                        <li>
                            <p>Validation des informations du certificat.</p>
                        </li>
                        <li>
                            <p>Révoquer plus rapidement un certificat.</p>
                        </li>
                    </ul>
                    <h3>Exercice : Signer CSR avec clé CA :</h3>
                    <ol>
                        <li>
                            <p>Signer CSR :</p>
<pre><code>openssl x509 -req -in client.csr -CA CA.cert -CAkey car.key -CAcreateserial -out client.crt</code></pre>
                        </li>
                        <li>
                            <p>Créer PFX :</p>
<pre><code>openssl pkcs12 -export -out client.pfx -inkey client.key -in client.cert -certifile CA.cert</code></pre>
                        </li>
                    </ol>
                    <h3>Récapitulatif : exemple de questions d'examen :</h3>
                    <ul>
                        <li>
                            <p>Quels sont les deux types de chiffrement utilisés durant le TLS handshake ?</p>
                            <p class="em">Asymétrique pour échanger la clé secrète + symétrique pour ciffrer la session.</p>
                        </li>
                        <li>
                            <p>Quelle est la différence entre cryptographie symétrique et asymétrique ?</p>
                            <p class="em">Symétrique : même clé pour chiffrer/déchiffrer.</p>
                            <p class="em">Asymétrique : clé publique / clé privée distinctes.</p>
                        </li>
                        <li>
                            <p>Qu'offre PKI ?</p>
                            <p class="em">Une infrastructure de confiance : gestion, délivrance et révocation des certificats numériques.</p>
                        </li>
                        <li>
                            <p>Comment vérifier la validité d'un certificat ?</p>
                            <p class="em">En vérifiant :</p>
                            <ul class="em">
                                <li>
                                    <p>sa date de validité,</p>
                                </li>
                                <li>
                                    <p>la chaîne de certification,</p>
                                </li>
                                <li>
                                    <p>et les listes de révocation (CRL ou OCSP).</p>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <p>Qu'est-ce que la "downgrade attack" ?</p>
                            <p class="em">Une attaque où l'adversaire force deux parties à utiliser une version ou un algorithme plus faible pour exploiter une faille connue.</p>
                        </li>
                    </ul>
                <article>
                    <h2 id="Docker">Docker :</h2>
                    <h3>Introduction :</h3>
                    <p>Les containers sont des paquets logiciels légers et autonomes qui incluent tout ce dont vous avez besoin pour exécuter une application :</p>
                    <ul>
                        <li>
                            <p>le code</p>
                        </li>
                        <li>
                            <p>le runtime</p>
                        </li>
                        <li>
                            <p>les outils système</p>
                        </li>
                        <li>
                            <p>etc.</p>
                        </li>
                    </ul>
                    <p>Ils fournissent un environnement cohérent sur différents systèmes, garantissant que l'application se comporte de la même manière quel que soit l'endroit où il est déployé.</p>
                    <h3>Sans Docker : Web :</h3>
                    <div>
                        <img src="../images/without_docker_web.PNG" alt="" class="float_right">
                        <ul>
                            <li>
                                <p>Documentation incomplète ou incohérente</p>
                            </li>
                            <li>
                                <p>Écarts environnementaux</p>
                            </li>
                            <li>
                                <p>Gestion des dépendances</p>
                            </li>
                            <li>
                                <p>Lacunes de communication entre les développeurs et les opérateurs</p>
                            </li>
                        </ul>
                    </div>
                    <h3>Docker : Web :</h3>
                    <div>
                        <img src="../images/docker_web.PNG" alt="" class="float_right">
                        <ul>
                            <li>
                                <p>Documentation cohérente et reproductible</p>
                            </li>
                            <li>
                                <p>Élimine les divergences environnementales</p>
                            </li>
                            <li>
                                <p>Gestion simplifiée des dépendances</p>
                            </li>
                            <li>
                                <p>Collaboration améliorée entre les développeurs et les opérations</p>
                            </li>
                        </ul>
                    </div>
                    <h3>Quels sont les avantages d'utiliser des conteneurs ?</h3>
                    <h4>Avantages spécifiques au rôle de la conteneurisation :</h4>
                    <p>Développeur :</p>
                    <ul>
                        <li>
                            <p>Cohérence entre les environnements : garantit que l'application fonctionne de la même manière à toutes les étapes (développement, tests, production).</p>
                        </li>
                        <li>
                            <p>Gestion facile des dépendances : regroupe les dépendances dans des conteneurs, évitant ainsi les conflits de versions.</p>
                        </li>
                        <li>
                            <p>Architecture de microservices : facilite la conception modulaire en permettant à chaque service de s'exécuter dans son propre conteneur.</p>
                        </li>
                    </ul>
                    <p>Ingénieurs de sécurité :</p>
                    <ul>
                        <li>
                            <p>Environnements de test isolés : exécutez en toute sécurité des tests et des applications vulnérables sans affecter le système hôte.</p>
                        </li>
                        <li>
                            <p>Reproductibilité des tests : partagez et reproduisez facilement des configurations de tests exactes à l'aide d'images de conteneurs.</p>
                        </li>
                    </ul>
                    <h4>Avantages des conteneurs :</h4>
                    <ul>
                        <li>
                            <p>Cohérence de l'environnement : <q>Cela fonctionne sur ma machine</q> signifie souvent des dépendances manquantes.</p>
                        </li>
                        <li>
                            <p>Type de package : les formats varient : par exemple, Java utilise des JAR, .NET utilise des EXE.</p>
                        </li>
                        <li>
                            <p>Gestion des dépendances : des versions de dépendances conflictuelles peuvent entraîner des problèmes entre les applications.</p>
                        </li>
                        <li>
                            <p>Efficacité des ressources : les machines virtuelles sont lourdes puisque chacune inclut un système d'exploitation complet.</p>
                        </li>
                        <li>
                            <p>Évolutivité et déploiement : l'ajout d'un conteneur est plus rapide que le provisionnement d'une nouvelle machine.</p>
                        </li>
                        <li>
                            <p>Isolation et sécurité : les applications sur l'hôte peuvent interférer les unes avec les autres; les conteneurs isolent les processus, réduisant ainsi les risques.</p>
                        </li>
                        <li>
                            <p>Portabilité : les applications liées à des environnements spécifiques sont difficiles à déplacer; les conteneurs standardisent l'emballage, facilitant ainsi les transferts entre les systèmes.</p>
                        </li>
                        <li>
                            <p>Modernisation héritée : les conteneurs permettent aux applications héritées de s'exécuter sur une infrastructure moderne sans modifications majeures du code.</p>
                        </li>
                        <li>
                            <p>Productivité du développement : les conteneurs rationalisent la configuration de l'environnement de développement, reflétant fidèlement les paramètres de production.</p>
                        </li>
                    </ul>
                    <h3>Comment ça marche : Linux :</h3>
                    <p>Les conteneurs sous Linux utilisent des fonctionnalités clés telles que les espaces de noms, les groupes de contrôle et les systèmes de fichiers union pour l'isolation et le contrôle des ressources :</p>
                    <ul>
                        <li>
                            <p>Les espaces de noms assurent l'isolation en séparant les processus, les interfaces réseau et les systèmes de fichiers, de sorte que chaque conteneur semble avoir son propre environnement.</p>
                        </li>
                        <li>
                            <p>Les Cgroups (groupes de contrôle) gèrent et limitent l'utilisation des ressources (CPU, mémoire, etc.) des conteneurs pour éviter que l'un d'entre eux ne consomme toutes les ressources. Ces fonctionnalités permettent aux conteneurs de fonctionner de manière sécurisée et efficace sans interférer les uns avec les autres.</p>
                        </li>
                        <li>
                            <p>Les systèmes de fichiers union (par exemple, OverlayFS) permettent aux conteneurs de partager des fichiers et des couches communs tout en conservant leurs propres modifications séparément. Cela rend les conteneurs légers et efficaces en réutilisant les couches entre les conteneurs, réduisant ainsi l'utilisation de l'espace disque.</p>
                        </li>
                    </ul>
                    <h3>Comment ça marche : Windows :</h3>
                    <p>Sous Windows, les conteneurs sont gérés via des conteneurs Windows Server ou des conteneurs Hyper-V :</p>
                    <ul>
                        <li>
                            <p>Les conteneurs Windows Server utilisent des techniques d'isolation similaires à celles de Linux, en séparant les processus, les fichiers et les entrées de registre.</p>
                        </li>
                        <li>
                            <p>Les conteneurs Hyper-V offrent une isolation supplémentaire en exécutant chaque conteneur dans une machine virtuelle légère, améliorant ainsi la sécurité. Les deux systèmes garantissent l'isolation des processus et une utilisation efficace des ressources, mais Windows exploite également sa virtualisation Hyper-V pour une sécurité plus stricte si nécessaire.</p>
                        </li>
                    </ul>
                    <h3>VM vs Container :</h3>
                    <img src="../images/VM_VS_Docker.PNG" alt="">
                    <p>Les conteneurs remplaceront-ils les machines virtuelles ?</p>
                    <h3>VM et conteneur :</h3>
                    <p>Non, ils répondent à des objectifs différents et peuvent coexister, car chacun a ses propres atouts et cas d'utilisation.</p>
                    <img src="../images/VM_Container.PNG" alt="">
                    <h3>Moteur (Engine) VS CLI :</h3>
                    <p>Moteur (Engine) :</p>
                    <ul>
                        <li>
                            <p>Composant principal du moteur de conteneur : le moteur de conteneur est le moteur d'exécution principal chargé de gérer le cycle de vie des conteneurs. Il gère des tâches telles que la création, le démarrage, l'arrêt et la suppression de conteneurs.</p>
                        </li>
                        <li>
                            <p>Gère les conteneurs et les images : le moteur extrait les images de conteneurs, les exécute en tant que conteneurs et gère leur état. Il gère également des tâches de bas niveau telles que la mise en réseau, le stockage et l'allocation de ressources pour les conteneurs.</p>
                        </li>
                        <li>
                            <p>Ex : docker, conteneur</p>
                        </li>
                    </ul>
                    <p>CLI :</p>
                    <ul>
                        <li>
                            <p>Outil d'interaction utilisateur : la CLI est un outil qui permet aux utilisateurs d'interagir avec le moteur de conteneur via des commandes en ligne de commandes. Il envoie des commandes au moteur qui les exécute ensuite.</p>
                        </li>
                        <li>
                            <p>Simplifie la gestion des conteneurs : les utilisateurs peuvent effectuer des tâches telles que la création d'images, l'exécution de conteneurs, la gestion de réseaux et la gestion de volume via des commandes simples (par exemple, <span class="em">docker build</span>, <span class="em">docker run</span>, <span class="em">docker ps</span>).</p>
                        </li>
                        <li>
                            <p>Ex : docker, podman</p>
                        </li>
                    </ul>
                    <h3>Commandes de base :</h3>
                    <h4>Images Docker :</h4>
                    <p>La commande <span class="em">docker images</span> répertorie toutes les images Docker sur votre système local. Par défaut, il affiche des colonnes telles que le référentiel (repository), la balise (tag), l'ID de l'image, la date de création et la taille.</p>
                    <p>Le commutateur le plus couramment utilisé est <span class="em">-a</span> ou <span class="em">--all</span>, qui affiche toutes les images, y compris les images intermédiaires qui sont généralement masquées dans la sortie par défaut. Cela peut être utile pour nettoyer les images inutilisées ou pour le débogage.</p>
                    <p>Ex : <span class="em">docker images -a</span></p>
                    <ul>
                        <li>
                            <p>Référentiel (repository) : le nom de la source de l'image, généralement un registre Docker (par exemple, Docker Hub ou un registre privé).</p>
                        </li>
                        <li>
                            <p>Balise (tag) : une étiquette qui différencie les versions de l'image (par exemple, la dernière, v1.0).</p>
                        </li>
                        <li>
                            <p>ID d'image : un identifiant unique pour l'image (dans un format de hachage).</p>
                        </li>
                        <li>
                            <p>Créé : la date et l'heure auxquelles l'image a été créée.</p>
                        </li>
                        <li>
                            <p>Taille : La taille de l'image stockée</p>
                        </li>
                    </ul>
                    <h3>Extraction du docker :</h3>
                    <p>La commande <span class="em">docker pull</span> est utilisée pour télécharger des images Docker depuis un registre vers votre ordinateur local. Il récupère l'image spécifiée dans la commande et la rend disponible pour une utilisation dans les conteneurs Docker.</p>
                    <p>Ex : <span class="em">docker pull ubuntu:latest</span> (si vous omettez le tag, Docker utilise par défaut la dernière).</p>
                    <h3>D'où viennent les images ?</h3>
                    <h4>Registres Docker :</h4>
                    <p>Un registre Docker est un service qui stocke et gère les images Docker, facilitantl'organisation et le déploiement d'applications conteneurisées.</p>
                    <p>Docker Hub est le plus grand repository cloud d'images de conteneurs fourni par Docker. Il fournit plus de 100000 images pouvant être utilisées et créées par des projets open source, des éditeurs de logiciels et la communauté Docker.</p>
                    <p>La plateforme vous permet de diffuser rapidement vos applications n'importe où, de collaborer avec vos coéquipiers et d'automatiser les builds pour une intégration plus rapide à un pipeline de développement.</p>
                    <p>URL : <a href="https://hub.docker.com/" target="_blank">https://hub.docker.com/</a></p>
                    <h3>Laboratoire :</h3>
                    <ul>
                        <li>
                            <p>Extraire l'image Docker nommée nginx.</p>
                        </li>
                        <li>
                            <p>Vérifier l'ID de l'image (<span class="em">docker inspect nginx:latest | grep _VERSION</span>).</p>
                        </li>
                        <li>
                            <p>Extraire l'image Docker nommée nginx et étiquetée 1.29.2.</p>
                        </li>
                        <li>
                            <p>Vérifier l'identifiant de l'image.</p>
                        </li>
                        <li>
                            <p>Extraire l'image Docker nommée nginx et étiquetée 1.29.1.</p>
                        </li>
                        <li>
                            <p>Vérifier l'identifiant de l'image.</p>
                        </li>
                        <li>
                            <p>Qu'est-ce que cela signifie ?</p>
                        </li>
                        <li>
                            <p>Supprimer des images (<span class="em">docker rmi x</span>).</p>
                        </li>
                    </ul>
                    <h3>Dernier modèle : anti pattern :</h3>
                    <p>Le dernier tag dans Docker fait référence au tag par défaut qui est appliqué à une image si aucun tag spécifique n'est fournie lors des commandes <span class="em">docker pull</span>, <span class="em">docker run</span> ou <span class="em">docker build</span>. Il s'agit pas d'un tag spécial ou magique, mais simplement d'un tag conventionnel utilisé pour pointer vers une version particulière d'une image.</p>
                    <ul>
                        <li>
<pre><code>docker pull ubuntu</code></pre>
                        </li>
                        <li>
<pre><code>docker pull ubuntu:latest</code></pre>
                        </li>
                    </ul>
                    <p>Le tag <span class="em">:latest</span> ne pointe pas nécessairement vers la version la plus récente d'une image. Il s'agit simplement d'un tag par défaut appliqué aux images qui n'ont pas de tag spécifié. Ces deux commandes créeront une nouvelle image et la marqueront comme <span class="em">:latest</span>.</p>
                    <p>Si vous <span class="em">push</span> une nouvelle image avec un tag qui n'est ni vide ni "latest", <span class="em">:latest</span> ne sera ni affecté ni créé.</p>
                    <h3>Image VS conteneur :</h3>
                    <p>Les images Docker sont des templates utilisés pour créer des conteneurs.</p>
                    <p>Comme les instantanés (snapshots) pour les machines virtuelles, les images Docker sont des fichiers immuables en lecture seule qui comprennent le code source, les bibliothèques, les dépendances, les outils et tout autre fichier nécessaire à l'exécution d'une application.</p>
                    <p>Chaque image est créée à partir d'un Dockerfile, qui contient des instructions spécifiques pour créer une image Docker particulière. Les conteneurs d'état ont deux états : au repos et en cours d'exécution.</p>
                    <ul>
                        <li>
                            <p>Au repos : le conteneur existe sous la forme d'une image : un template immuable en lecture seule stocké sous forme de fichiers de configuration et de couches de système de fichiers.</p>
                        </li>
                        <li>
                            <p>En cours d'exécution : l'image devient un conteneur : une instance active et exécutable avec des processus en cours d'exécution et une couche inscriptible au-dessus des couches d'image en lecture seule.</p>
                        </li>
                    </ul>
                    <h3>docker create :</h3>
                    <p>La commande <span class="em">docker create</span> permet de créer un nouveau conteneur à partir d'une image Docker spécifique (sans la démarrer).</p>
<pre><code>docker create --name proxy-reverse nginx</code></pre>
                    <h3>docker start :</h3>
                    <p>La commande <span class="em">docker start</span> est utilisée pour démarrer un ou plusieurs conteneurs arrêtés précédemment créés.</p>
<pre><code>docker start id/name</code></pre>
                    <h3>docker ps :</h3>
                    <p>La commande <span class="em">docker ps</span> est utilisée pour répertorier les conteneurs actuellement en cours d'exécution sur votre hôte Docker. Il fournit des informations sur chaque conteneur en cours d'exécution, notamment son ID, son nom, son statut, etc.</p>
                    <ul>
                        <li>
                            <p>ID de conteneur : un identifiant attribué à chaque conteneur en cours d'exécution.</p>
                        </li>
                        <li>
                            <p>Image : l'image Docker utilisée pour créer le conteneur.</p>
                        </li>
                        <li>
                            <p>Commande : la commande en cours d'exécution à l'intérieur du conteneur.</p>
                        </li>
                        <li>
                            <p>Créé : l'heure à laquelle le conteneur a été démarré.</p>
                        </li>
                        <li>
                            <p>Statut : l'état actuel du conteneur (par exemple, en cours d'exécution, quitté).</p>
                        </li>
                        <li>
                            <p>Port : mappages de ports entre la machine hôte et le conteneur.</p>
                        </li>
                        <li>
                            <p>Nom : le nom convivial attribué au conteneur.</p>
                        </li>
                    </ul>
                    <h3>docker stop :</h3>
                    <p>La commande <span class="em">docker stop</span> est utilisée pour arrêter un conteneur Docker en cours d'exécution. Lorsque cette commande est émise, Docker envoie un signal <span class="em">SIGTERM</span> au processus principal à l'intérieur du conteneur, lui donnant la possibilité de s'arrêter correctement.</p>
<pre><code>docker stop id/name</code></pre>
                    <h3>docker rm :</h3>
                    <p>La commande <span class="em">docker rm</span> est utilisée pour supprimer un ou plusieurs conteneurs Docker. Cette commande supprime les conteneurs spécifiés de l'hôte Docker, libérant ainsi toutes les ressources qu'ils utilisaient, telles que l'espace disque.</p>
                    <p>Vous pouvez uniquement supprimer les conteneurs arrêtés; essayer de supprimer un conteneur en cours d'exécution entraînera une erreur, sauf si vous utilisez l'option <span class="em">-f</span> pour le supprimer de force.</p>
<pre><code>docker rm id/nom</code></pre>
                    <h3>docker run :</h3>
                    <p>La commande <span class="em">docker run</span> est une commande unique qui combine plusieurs actions Docker en une seule.</p>
                    <p>Voici un aperçu de ce qui se passe lorsque vous exécutez <span class="em">docker run</span> :</p>
                    <ul>
                        <li>
                            <p>Extrait l'image (si nécessaire)</p>
                        </li>
                        <li>
                            <p>Crée un conteneur</p>
                        </li>
                        <li>
                            <p>Démarre le conteneur</p>
                        </li>
                        <li>
                            <p>S'attache à la sortie du conteneur.</p>
                        </li>
                    </ul>
                    <p>Options supplémentaires :</p>
                    <ul>
                        <li>
                            <p><span class="em">-d</span> : exécute le conteneur en arrière-plan (mode détaché).</p>
                        </li>
                        <li>
                            <p><span class="em">-it</span> : mode interactif qui permet d'ouvrir une session de terminal à l'intérieur du conteneur (utile pour le débogage ou l'exécution de commandes interactives).</p>
                        </li>
                        <li>
                            <p><span class="em">-p</span> : publie les ports du conteneur vers l'hôte (par exemple, <span class="em">-p 8080:80</span> mappe le port 80 du conteneur vers le port 8080 sur l'hôte).</p>
                        </li>
                        <li>
                            <p><span class="em">--name</span> : attribuez un nom personnalisé au conteneur au lieu d'un nom généré aléatoirement.</p>
                        </li>
                    </ul>
<pre><code>docker run -d -p 8080:80 --name mywebapp nginx</code></pre>
                    <h3>docker logs :</h3>
                    <p>La commande <span class="em">docker logs</span> est un outil puissant qui vous aide à surveiller et déboguer les conteneurs en vous donnant accès à la sortie du conteneur, même après l'arrêt du conteneur.</p>
<pre><code>docker logs id/name</code></pre>
                    <h3>Laboratoire :</h3>
                    <ul>
                        <li>
                            <p>Créer un conteneur nommé test</p>
                        </li>
                        <li>
                            <p>Démarrer le conteneur test</p>
                        </li>
                        <li>
                            <p>Vérifier quand le conteneur a démarré</p>
                        </li>
                        <li>
                            <p>Arrêter le conteneur</p>
                        </li>
                        <li>
                            <p>Vérifier quand le conteneur s'est arrêté</p>
                        </li>
                        <li>
                            <p>Relancer le conteneur test et exposer le sur le port 8989.</p>
                        </li>
                        <li>
                            <p>Ouvrir l'application conteneur sur le navigateur.</p>
                        </li>
                        <li>
                            <p>Supprimer le conteneur.</p>
                        </li>
                    </ul>
                    <p class="em">Nous exécutons une application NGINX...</p>
                    <p class="em">Mais nous voulons déployer notre propre code personnalisé...</p>
                    <p class="em">Comment pouvons-nous y parvenir ?</p>
                    <h3>Dockerfile :</h3>
                    <p>Un Dockerfile est un fichier texte qui contient un ensemble d'instructions utilisées pour créer une image Docker.</p>
                    <p>Il sert de <span class="em">blueprint</span> pour créer des conteneurs Docker, définissant tout ce qui est nécessaire pour configurer l'environnement dans lequel votre application s'exécutera.</p>
                    <h4>Instructions :</h4>
                    <ul>
                        <li>
                            <p><span class="em">FROM</span> : spécifie l'image de base à utiliser pour le conteneur Docker.</p>
                        </li>
                        <li>
                            <p><span class="em">RUN</span> : exécute les commandes pendant le processus de création de l'image Docker.</p>
                        </li>
                        <li>
                            <p><span class="em">CMD</span> : spécifie la commande par défaut à exécuter au démarrage d'un conteneur. Contrairement à <span class="em">RUN</span>, il s'exécute au moment de l'exécution et non pendant la construction.</p>
                        </li>
                        <li>
                            <p><span class="em">ENTRYPOINT</span> : similaire à <span class="em">CMD</span>, mais il configure la commande qui s'exécute toujours.</p>
                        </li>
                        <li>
                            <p><span class="em">COPY</span> : copie les fichiers et répertoires du système de fichiers local dans l'image Docker.</p>
                        </li>
                        <li>
                            <p><span class="em">ADD</span> : similaire à <span class="em">COPY</span>, mais avec des fonctionnalités supplémentaires. Il peut extraire des fichiers compressés (par exemple, <span class="em">.tar</span>, <span class="em">.gz</span>) et récupérer des fichiers à partir d'URL distantes.</p>
                        </li>
                        <li>
                            <p><span class="em">WORKDIR</span> : définit le répertoire de travail pour les instructions ultérieures. Si le répertoire n'existe pas, il sera créé.</p>
                        </li>
                        <li>
                            <p><span class="em">EXPOSE</span> : informe Docker que le conteneur écoute sur un port réseau spécifique au moment de l'exécution. Il ne publie pas réellement le port mais sert de documentation.</p>
                        </li>
                        <li>
                            <p><span class="em">ENV</span> : définit les variables d'environnement dans le conteneur, qui peuvent être utilisées par les processus exécutés à l'intérieur du conteneur.</p>
                        </li>
                        <li>
                            <p><span class="em">USER</span> : spécifie l'utilisateur sous lequel exécuter le conteneur. Par défaut, les conteneurs s'exécutent en tant que <span class="em">root</span>.</p>
                        </li>
                        <li>
                            <p><span class="em">LABEL</span> : ajoute des métadonnées à l'image. Les étiquettes (labels) peuvent être utilisées pour stocker des informations telles que la version, la description ou le responsable de l'image.</p>
                        </li>
                    </ul>
                    <h3>Couches :</h3>
                    <div>
                        <img src="../images/layers_Docker.PNG" alt="" class="float_right">
                        <p>Docker utilise une architecture en couches pour créer des images.  Chaque instruction d'un Dockerfile crée une couche dans l'image finale. Ces couches sont empilées les uns sur les autres pour former l'image complète. Le principe de superposition offre plusieurs avantages, notamment l'efficacité, la réutilisabilité et la mise en cache.</p>
                        <p>Avantages de l'architecture en couches :</p>
                        <ul>
                            <Li>
                                <p>Efficacité</p>
                            </Li>
                            <li>
                                <p>Réutilisabilité</p>
                            </li>
                            <li>
                                <p>Petites mises à jour</p>
                            </li>
                        </ul>
                        <p class="em">Attention à la commande !</p>
                    </div>
                    <h3>Build :</h3>
                    <p>La commande <span class="em">docker build</span> est utilisée pour créer une image Docker à partir d'un Dockerfile et de son contexte (les fichiers et répertoires disponibles au chemin spécifié). Cette commande compile toutes les instructions spécifiées dans le Dockerfile dans une image qui peut ensuite être utilisée pour créer des conteneurs.</p>
                    <h3>Dockerfile :</h3>
                    <p>Un Dockerfile est un script qui consiste en un ensemble d'instructions sur la façon de créer une image Docker. Ces instructions incluent la spécification du système d'exploitation, des langues, des variables d'environnement Docker, des emplacements des fichiers, des ports réseau et d'autres composants nécessaires à l'exécution de l'image. Toutes les commandes du fichier sont regroupées et exécutées automatiquement.</p>
                    <p>Une image comporte plusieurs couches. Une fois que vous exécutez une image Docker pour créer un conteneur, une nouvelle couche en lecture-écriture est ajoutée. C'est ce qu'on appelle parfois la couche conteneur. La couche supplémentaire vous permet d'apporter des modifications à l'image de base, que vous pouvez valider pour créer une nouvelle image Docker pour une utilisation future.</p>
                </article>
                <article>
                    <h2 id="creation_environnement_pentest_Docker">Création d'un environnement de pentest avec Docker :</h2>
                    <p></p>
                </article>
            <!-- fin de section -->
            </section>
        </main>
        <footer role="contentinfo">
            <div>
                <address>
                    Professeurs :
                    <a class="mail" href="mailto:olivier.choquet@vinci.be">Choquet Olivier</a>
                    <a class="mail" href="mailto:driss.vandenheede.techinfo@gmail.com">Vandenheede Driss</a>
                </address>
            </div>
            <div>
                <p>Si vous détectez une erreur, une faute d'orthographe, n'hésitez pas à envoyer un mail aux adresses juste à côté avec le nom de la page et l'erreur détectée.</p>
            </div>
            <div id="version">
                <p>Syllabus HTML</p>
                <p>Version 5.0</p>
            </div>
        </footer>
        <script src="../pre.js"></script>
    </body>
</html>