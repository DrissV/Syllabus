<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <meta name="author" content="Choquet Olivier & Vandenheede Driss">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Python - Suppléments - e-Syllabus HTML5 et CSS3</title>
        <!-- une icône dans la barre du navigateur -->
        <link rel="icon" href="../images/favicon.png" type="image/png">
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <!-- liens d'évitement -->
        <ul class="a11y-nav">
            <li>
                <a href="#container">Passer directement au contenu</a>
            </li>
            <li>
                <a href="#menu">Accéder au menu secondaire de la page</a>
            </li>
            <li>
                <a href="#aside">Accéder aux liens utiles</a>
            </li>
        </ul>
        <!-- bannière et menu -->
        <header role="banner">
            <div class="logoTitle">
                <h1>Cours d'introduction au Web</h1>
                <h2>HTML5 et CSS3</h2>
            </div>
            <nav role="navigation" aria-label="Menu principal de navigation">
                <ul>
                    <li><a href="../index.html">Le cours</a></li>
                    <li><a href="../internet.html">Internet</a></li>
                    <li><a href="../html5.html">HTML5</a></li>
                    <li><a href="../css3.html">CSS3</a></li>
                    <li><a href="../methodologie.html">Méthodologie</a></li>
                    <li><a href="../lexique.html">Lexique</a></li>
                    <li><a href="../supplements.html" class="current">Suppléments</a></li>
                </ul>
            </nav>
        </header>
        <main id="container" role="main" tabindex="-1">
            <div id="menu">
                <nav role="navigation">
                    <ol>
                        <li><a href="../supplements.html">Retour au sommaire</a></li>
                        <li><a href="#seance_1">Séance 1</a></li>
                        <li><a href="#seance_2">Séance 2</a></li>
                        <li><a href="#seance_3">Séance 3</a></li>
                        <li><a href="#seance_4">Séance 4</a></li>
                        <li><a href="#seance_5">Séance 5</a></li>
                        <li><a href="#poo">Programmation Orientée Objet</a></li>
                        <li><a href="#enum">Les énumérations</a></li>
                    </ol>
                </nav>
                <!-- aside lié à la page et pas à l'article donc pas à l'intérieur de article -->
                <aside id="aside">
                    <p>Liens utiles :</p>
                    <ul>
                        <li><a href="https://www.youtube.com/c/LeDesignerduWeb/videos">Le Designer du web</a></li>
                    </ul>
                </aside>
            </div>
            <section id="mainSection">
                <article>
                    <h1>Python :</h1>
                </article>
                <article>
                    <h2 id="seance_1">Python : Séance 1 :</h2>
                    <h3>Introduction :</h3>
                    <p>Le langage Python est né à la fin des années 80. En décembre 2008, les concepteurs de Python ont décidé de casser la compatibilité ascendante en proposant la version 3.0, cela implique qu'actuellement 2 versions coexistent : les versions 2.x et 3.x. La conséquence de ce choix est que le code écrit en version 2.x est incompatible avec la version 3.x utilisée comme suppport de cours.</p>
                    <h3>Caractéristiques de Python :</h3>
                    <ul>
                        <li>
                            <p>Langage open source, portable, bien développé (de nombreuses librairies viennent enrichir le langage) et abondamment documenté.</p>
                        </li>
                        <li>
                            <p>C'est un langage interprété et puissant.</p>
                        </li>
                        <li>
                            <p>Sa syntaxe est simple et son identation significative : elle doit donc être <span class="em">particulièrement rigoureuse</span>. Bonne pratique : 4 espaces par niveau d'indentation, pas de tabs; ne jamais mixer des tabs et des espaces.</p>
                        </li>
                        <li>
                            <p>Il existe, comme en Java, une gestion automatique de la mémoire (garbage collector).</p>
                        </li>
                        <li>
                            <p>Le typage est dynamique (défini à l'exécution) et fort (les types de données employés décrivent correctement les données manipulées).</p>
                        </li>
                        <li>
                            <p>C'est un langage OO.</p>
                        </li>
                    </ul>
                    <h3>Les identificateurs (noms de constantes, variables, fonctions, ...) :</h3>
                    <p>Les identificateurs suivent les mêmes règles que dans d'autres langages. Ils doivent commencer par une lettre (ou éventuellement par '_') suivie d'un ou plusieurs cractères (lettre, chiffre, '_'). Ils ne peuvent pas être un mot réservé voir la liste sur le site officiel <a href="https://docs.python.org/3/reference/lexical_analysis.html#identifiers" target="_blank">https://docs.python.org/3/reference/lexical_analysis.html#identifiers</a>).</p>
                    <p>Il existe des coutumes de nommage qu'il est bon de respecter lorsqu'on veut comuniquer avec d'autres développeurs.</p>
                    <ul>
                        <li>
                            <p>une variable commence par une minuscule : <span class="em">maVariable</span> ou <span class="em">ma_Variable</span></p>
                        </li>
                        <li>
                            <p>de même pour les fonctions : <span class="em">maFonction</span></p>
                        </li>
                        <li>
                            <p>une constante est écrite en majuscule : <span class="em">MA_CONSTANTE</span></p>
                        </li>
                        <li>
                            <p>le nom d'une classe commence par une majuscule : <span class="em">MaClasse</span></p>
                        </li>
                    </ul>
                    <h3>Les commentaires :</h3>
                    <p>Les commentaires commencent toujours par le caractère '#' et se terminent à la fin de la ligne; ils ne doivent pas nécessairement démarrer en début de ligne.</p>
                    <h3>Les types de base :</h3>
                    <p>Il existe 2 types entiers : le type <span class="html">int</span> et le type <span class="html">bool</span>.</p>
                    <ul>
                        <li>
                            <p><span class="html">int</span> (entier) : pas de limite de valeur, si ce n'est les limites de la machine, les valeurs peuvent être introduites dans différentes bases (2, 8, 10, 16) ou être converties :</p>
                            <ul>
                                <li>
                                    <p>en base décimale : <span class="em">51</span></p>
                                </li>
                                <li>
                                    <p>en base binaire : <span class="em">0b110011</span> ou <span class="em">bin(51)</span></p>
                                </li>
                                <li>
                                    <p>en base octale : <span class="em">Oo63</span> ou <span class="em">oct(51)</span></p>
                                </li>
                                <li>
                                    <p>en base hexadécimale : <span class="em">0x33</span> ou <span class="em">hex(51)</span></p>
                                </li>
                            </ul>
                            <p>Opérateurs :</p>
                            <ul>
                                <li>
                                    <p><span class="html">+</span> : somme</p>
                                </li>
                                <li>
                                    <p><span class="html">-</span> : soustraction</p>
                                </li>
                                <li>
                                    <p><span class="html">*</span> : multiplication</p>
                                </li>
                                <li>
                                    <p><span class="html">/</span> : division en virgule flottante</p>
                                </li>
                                <li>
                                    <p><span class="html">//</span> : division en virgule flottante</p>
                                </li>
                                <li>
                                    <p><span class="html">//</span> : division entière</p>
                                </li>
                                <li>
                                    <p><span class="html">**</span> : puissance</p>
                                </li>
                                <li>
                                    <p><span class="html">%</span> : modulo</p>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <p><span class="html">bool</span> : Valeurs possibles : <span class="html">True</span> et <span class="html">False</span></p>
                            <p>Opérateurs : <span class="html">==</span>, <span class="html">!=</span>, <span class="html">and</span>, <span class="html">or</span>, <span class="html">not(...)</span> (évaluation court-circuitée)</p>
                        </li>
                    </ul>
                    <p>Type floattant (<span class="html">float</span>) : Deux notations sont possibles :</p>
                    <ul>
                        <li>
                            <p>avec le point décimal par exemple : <span class="em">3.5</span> ou <span class="em">.35</span></p>
                        </li>
                        <li>
                            <p>en notation spécifique par exemple : <span class="em">3.5e2</span> (= 3.5 * 10<sup>2</sup> = 350.0</p>
                        </li>
                    </ul>
                    <p>Nombre complexe (<span class="html">complex</span>) : la notation utilise 2 valeurs flottantes, la seconde introduite par le symbole j représente la partie imaginaire du nombre, par exemple : <span class="em">2+4j</span>.</p>
                    <p>La partie réelle est obtenue par l'attribut <span class="html">real</span> : <span class="em">(2+4j).real</span> vaut 2.</p>
                    <p>La partie imaginaire est obtenue par l'attribut <span class="html">imag</span> : <span class="em">(2+4j).imag</span> vaut 4.</p>
                    <p>Chaîne de caractères (<span class="html">str</span>) : les littéraux peuvent être encodés de diverses façons :</p>
                    <ul>
                        <li>
                            <p>entre simples quotes : 'Voici une chaîne de caractères'</p>
                        </li>
                        <li>
                            <p>entre doubles quotes : "L'autre chaîne de caractères"</p>
                        </li>
                        <li>
                            <p>entre triples quotes :</p>
<pre><code class="html">'''
Cette forme permet une
mise en page sur plusieurs lignes.
'''</code></pre>
                            <p>Remarque : on peut utiliser trois simples quotes (''') ou trois doubles quotes (""") pour former une triple quotes.</p>
                        </li>
                    </ul>
                    <p>Opérations sur les chaînes de caractères :</p>
                    <ul>
                        <li>
                            <p>concaténation : <span class="html">+</span>. Par exemple :<span class="em">mot1 + mot2</span></p>
                        </li>
                        <li>
                            <p>évaluation de la longueur : <span class="em">len(mot1)</span></p>
                        </li>
                    </ul>
                    <p>Remarque : Contrairement au langage C, une affectation n'a pas d'effet à la compilation et donc l'expression suivante génère une erreur : <span class="em">res = ( c= True) and True</span>.</p>
                    <h3>Structures de contrôle :</h3>
                    <ul>
                        <li>
                            <p>Une instruction simple ne connaîtpas de caractères indiquant la fin de l'instruction (cf d'autres langages), mais se termine normalement en fin de ligne; outre la continuité implicite des lignes au sein des parenthèses/crochets/accolades, une instruction peut être prolongée sur la ligne suivante par un simple '' en fin de ligne.</p>
                        </li>
                        <li>
                            <p>Un bloc d'instructions n'est pas délimité par une paire d'accolades mais est marqué par une indentation <span class="em">significative</span> (en général de 4 caractères).</p>
                        </li>
                        <li>
                            <p>Une alternative respecte la structure suivante : <span class="html">if cdt : instruction [elif cdt : instruction] else : instruction</span>.</p>
<pre><code class="html">if a &lt; b :
    print(a, " est inférieur à ", b)
else :
    print(a, " est supérieur ou égal à ", b)</code></pre>
                        </li>
                        <li>
                            <p>Une répétitve de type <span class="html">while</span> est contrôlée par une condition de continuation.</p>
<pre><code class="html">while a &lt; b :
    print(a)
    a += 1</code></pre>
                        </li>
                        <li>
                            <p>Un parcours <span class="html">for</span> est répété pour chaque valeur indiquée dans une liste.</p>
<pre><code class="html">for lettre in "Voici ma phrase" :
    if lettre.isalpha() :
        print(lettre)</code></pre>
                        </li>
                        <li>
                            <p>Les ruptures de séquences :</p>
                            <ul>
                                <li>
                                    <p><span class="html">break</span> permet de quitter prématurément une boucle.</p>
                                </li>
                                <li>
                                    <p><span class="html">continue</span> permet de quitter prématurément une itération pour revenir directement à la condition de contrôle.</p>
                                </li>
                            </ul>
                        </li>
                    </ul>
                    <h3>L'interpréteur :</h3>
                    <p>À la manière des shells Linux, Python peut être considéré comme un interpréteur qui permet de traduire et d'exécuter les instructions introduites au clavier. Il peut donc aussi être utilisé comme calculatrice.</p>
                    <p>L'appel du programme <span class="html">python3</span> sur la ligne de commande du shell pour introduit, après quelques lignes de commentaire, dans un mode interpréteur (prompt &gt;&gt;&gt;).</p>
                    <h3>Les scripts en Python :</h3>
                    <p>L'écriture de programmes en Python nécessite de respecter quelques contraintes :</p>
                    <ul>
                        <li>
                            <p>La première ligne doitappeler l'interpréteur en respectant le format <span class="html">#!/usr/bin/python</span> où <span class="em">python</span> est un alias ou un lien symbolique vers l'exécutable désiré.</p>
                        </li>
                        <li>
                            <p>Par convention, on impose l'extension .py aux fichiers.</p>
                        </li>
                        <li>
                            <p>Le fichier doit être rendu exécutable.</p>
                        </li>
                        <li>
                            <p>Par exemple :</p>
<pre><code class="html">#!/usr/bin/python
a, b = 4, 8
if a == b :
    print ("a égale b")
else :
    print("a différent de b")</code></pre>
                        </li>
                    </ul>
                    <h3>Exercices :</h3>
                    <ol>
                        <li>
                            <p>Utilisez l'interpréteur pour calculer la surface d'un rectangle de 5 mètres de long sur 3 de large.</p>
<pre><code class="html">&gt;&gt;&gt;longueur = 5
&gt;&gt;&gt;largeur = 3
&gt;&gt;&gt;print("surface rectangle ", longueur, " x ", largeur, " = ", longueur * largeur)</code></pre>
                        </li>
                        <li>
                            <p>Utilisez l'interpréteur pour calculer le volume d'un cube de 5 mètres de côté.</p>
<pre class="taill60"><code class="html">&gt;&gt;&gt;cote = 5
&gt;&gt;&gt;cote **(3)</code></pre>
                        </li>
                        <li>
                            <p>Utilisez l'interpréteur pour calculer le quotient et le reste de la division de 123 par 12.</p>
<pre><code class="html">&gt;&gt;&gt;a = 123
&gt;&gt;&gt;b = 12
&gt;&gt;&gt;a // b
&gt;&gt;&gt;a % b</code></pre>
                        </li>
                        <li>
                            <p>Testez si les valeurs <span class="html">0</span>, <span class="html">""</span>, <span class="html">"0"</span> et <span class="html">None</span> sont définies comme des valeurs booléennes <span class="html">False</span>. Testez d'autres valeurs reconnues par Python. Pour chacune de ces valeurs, affichez son évaluation si ça vaut <span class="html">True</span> ou <span class="html">False</span>.</p>
<pre><code class="html">S'évaluent à False :
""
0
0.0
False
None

&gt;&gt;&gt;a = None
&gt;&gt;&gt;if not(a) :
&gt;&gt;&gt;... print("None s'évalue à False")
&gt;&gt;&gt;...
&gt;&gt;&gt;None s'évalue à False</code></pre>
                        </li>
                        <li>
                            <p>Écrivez un script qui affiche la liste des nombres de la suite de Fibonacci jusqu'à 100.</p>
                            <p>La suite de Fibonacci est une suite infinie d'entiers naturels tel que le premier terme vaut 0, le second terme vaut 1 et les termes suivants sont égaux à la somme des deux termines qui le précèdent. Ses neuf premiers termes sont : 0, 1, 1, 2, 3, 5, 8, 13, 21.</p>
                            <p>On peut également définir cette suite récursivement de la manière suivante. La suite de Fibonacci est une suite d'entiers naturels n<sub>0</sub>, n<sub>1</sub>, n<sub>2</sub>, n<sub>3</sub>, ... tel que n<sub>0</sub> = 0, n<sub>1</sub> = 1 et "n<sub>(i + 2)</sub> = n<sub>(i + 1)</sub> + n<sub>i</sub>" (pour tout entier naturel i).</p>
<pre><code class="html">#!/usr/bin/python3
    
a, b = 0, 1
while a &lt; 100 :
    print(a)
    temp = a + b
    a = b
    b = temp</code></pre>
                        </li>
                        <li>
                            <p>La résolution d'une équation du second degré (ax<sup>2</sup> + bx + c) peut donner 0, 1 ou 2 solution(s) réelle(s) en fonction de la valeur du déterminant rho (b<sup>2</sup> - 4ac); si rho est négatif, il n'y a pas de racine réelle, si rho est nulle, il y a une seule racine (-b / 2a) tandis que si rho est positif il y a 2 racines (-b &#177; sqrt(rho) / 2a). Écrivez un programme qui évalue les solutions d'équations du second degré dont les coefficients (a, b et c) sont introduits au clavier (la lecture sur <span class="html">stdin</span> est réalisée grâce à <a href="https://docs.python.org/3/library/functions.html#input" target="_blank">la fonction <span class="html">input()</span></a>; l'arrêt du programme est requis lorsque le coefficient a est nul.</p>
<pre><code class="html">#!/usr/bin/python3

import math

a, b, c = int(input('a = ')), int(input('b = ')), int(input('c = '))

if a == 0 :
    print("Le coefficient a est nul.")
else :
    delta = b **(2) - 4 * a * c

    if delta &lt; 0 :
        print("pas de solution")
    elif delta == 0 :
        print("une solution")
        x = -b / (2 * a)
        print("x = ", x)
    else :
        print("deux solutions")
        x1 = (-b - math.sqrt(delta)) / (2 * a)
        x2 = (-b + math.sqrt(delta)) / (2 * a)
        print ("x1 = ", x1, " et x2 = ", x2)</code></pre>
                        </li>
                    </ol>
                </article>
                <article>
                    <h2 id="seance_2">Python : Séance 2 :</h2>
                    <h3>Listes :</h3>
                    <p>Une <span class="em">liste</span> est une collection ordonnée et modifiable d'élémets éventuellement hétérogènes. En Python, les tableaux et les listes sont confondus. Nous pouvons dès lors utiliser indifféremment les termes "tableau" ou "liste" pour parler des listes.</p>
                    <ul>
                        <li>
                            <p>Les <span class="em">éléments</span> d'une liste sont séparés par des virgulres et entourés de croichets.</p>
<pre><code class="html">list1 = ['a', 14, 'abcd']
print(list1) # ['a', 14, 'abcd']

list2 = [4, 2.718, True]
print(list2) # [4, 2.718, True]

list3 = [list1, list2] # liste de listes
print(list3) # [['a', 14, 'abcd'], [4, 2.718, True]]</code></pre>
                        </li>
                        <li>
                            <p>L'<span class="em">accès</span> aux éléments individuels d'une liste se fait en indiquant leur indice entre crochets. La numérotation des éléments commence à zéro. L'utilisation d'indices négatifs permet de compter à partir de la fin de la liste. La fonction <span class="html">len</span> donne la longueur d'une liste.</p>
<pre><code class="html">liste = [3, 7, 1, 9]
liste[0] # 3
liste[2] = 'a' # liste = [3, 7, 'a', 9]
liste[-1] = 'b' # liste = [3, 7, 'a', 'b']
liste[0], liste[2] = liste[2], liste[0] # liste = ['a', 7, 3, 'b'] (permutation)</code></pre>
                            <p>On peut extraire un sous-ensemble des éléments d'une liste en spécifiant un <span class="em">intervalle d'indices</span> à l'aide du caractère "deux points". Les indices conservés sont ceux qui sont supérieurs ou égaux à la borne inférieure (par défaut <span class="html">0</span>) et <span class="em">strictement inférieurs</span> à la borne supérieure (par défaut <span class="html">len(liste)</span>). Un 3<sup>ième</sup> indique un pas de parcours.</p>
<pre><code class="html">liste = [1, 2, 3, 4]
liste[1:3] = [5, 6, 7] # liste = [1, 3, 6, 7, 4]
liste[0:2] = [8, 9] # liste = [8, 9, 6, 7, 4]
liste[0:2] = [] # liste = [6, 7, 4]
lsite[1:1] = ['a', 'b'] # liste = [6, 'a', 'b', 7, 4]</code></pre>
                        </li>
                        <li>
                            <p>Quelques <span class="em">opérateurs</span> sur les listes : <span class="html">+</span> (concaténation), <span class="html">*</span> (répétition), <span class="html">==</span> et <span class="html">!=</span> (comparaison).</p>
<pre><code class="html">rep = [0.O] * 3 # rep = [0.0, 0.0, 0.0]
concat = [1, 2] + [3] # concat = [1, 2, 3]
[1.2, False] == [1.2, False] # True
[5, 'abc'] != [5, 'f', 1.1] # True</code></pre>
                            <p>La fonction <span class="html">range</span> permet de produire un intervalle d'entiers. Notez que les entiers générés seront strictement inférieurs à la borne supérieure spécifiée. La valeur retournée par <span class="html">range</span> n'est pas une liste, mais un objet spécial que l'on peut transformer en liste.</p>
<pre><code class="html">l1 = list(range(5)) #l1 = [0, 1, 2, 3, 4] (borne inférieure = 0 par défaut)
l2 = list(range(3, 6)) # l2 = [3, 4, 5]
l3 = list(range(2, 11, 3)) # l3 = [2, 5, 8] (3<sup>ième</sup> paramètre = pas</code></pre>
                            <p>L'opérateur <span class="html">in</span> permet de tester l'appartenance d'un élément à une liste :</p>
<pre><code class="html">3 in l1, 5 in l2, 6 in l3 # (True, True, False)</code></pre>
                            <p>Python définit différentes <span class="em">méthodes</span> sur les objets <span class="html">list</span>, telles que <span class="html">append</span>, <span class="html">insert</span>, <span class="html">clear</span>, <span class="html">copy</span>, <span class="html">sort</span>, <span class="html">reverse</span>, etc. Pour plus d'informations sur ces méthodes, référez-vous à la documentation Python : <a href="https://docs.python.org/3/tutorial/datastructures.html" target="_blank">https://docs.python.org/3/tutorial/datastructures.html</a>.</p>
                        </li>
                        <li>
                            <p><span class="em">Parcours</span> d'une liste :</p>
<pre><code class="html">for x in liste :
    print(x)</code></pre>
                            <p>Ce qui est équivalent à :</p>
<pre><code class="html">i = 0
while i &lt; len(liste) :
    x = liste[i]
    print(x)
    i = i + 1</code></pre>
                            <p>Notez que la fonction <span class="html">range</span> permet de simplifier l'écriture d'une boucle avec compteur :</p>
<pre><code class="html">for i in range(5) :
    print(i)</code></pre>
                        </li>
                        <li>
                            <p><span class="em">ATTENTION : l'affectation</span> d'une liste à une variable ne crée pas une copie de la liste ! Comme les listes sont des objets, il s'agit d'une <span class="em">copie de référence</span> et non de contenu.</p>
<pre><code class="html">a = [1, 2, 3]
b = a # copie de référence (copie superficielle)
b = list(a) # copie profonde
b = a[:] # copie profonde</code></pre>
                        </li>
                        <li>
                            <p><span class="em">REMARQUE :</span> Python permet d'appliquer aux <span class="em">chaînes de caractères</span> les opérateurs dédiés aux listes. Par conséquent, les chaînes peuvent se manipuler de manière similaire aux listes à l'aide de ces opérateurs. Pour les méthodes définies sur une <span class="html">str</span>, voir la documentation (<a href="https://docs.python.org/3/library/stdtypes.html#string-methods" target="_blank">https://docs.python.org/3/library/stdtypes.html#string-methods</a>). Notez enfin qu'une affectation d'une <span class="html">str</span> à une variable crée toujours une copie profonde.</p>
                        </li>
                    </ul>
                    <h3>Introduction aux fonctions :</h3>
                    <p>Une <span class="em">fonction</span> est un ensemble d'instructions regroupées sous un nom et s'exécutant à la demande. La syntaxe définie par Python se compose :</p>
                    <ul>
                        <li>
                            <p>du mot-clé <span class="html">def</span> suivi de l'identificateur de la fonction, de parenthèses entourant les paramètres de la fonction séparés par des virgules, et du caractère "deux points" (qui termine toujours une instruction composée)</p>
                        </li>
                        <li>
                            <p>d'une chaîne de documentation ou "docstring" (facultative) indentée comme le corps de la fonction;</p>
                        </li>
                        <li>
                            <p>du bloc d'instructions indenté par rapport à la ligne de définition, et qui constitue le corps de la fonction.</p>
                        </li>
                    </ul>
<pre><code class="html">#!/usr/bin/python3

# définition de fonction
def divisionEntiere (a, b) :
    
    """
        Calcule et renvoie :
            - le quotient de la division entière de a par b,
            - le reste de la division entière de a par b.
    """
    
    q = a // b
    r = a % b

    return q, r

# script principal
r1, r2 = divisionEntiere(10, 3)
print(r1, r2) # 3 1</code></pre>
                    <p>Notez qu'en Python, le résultat renvoyé par une fonction n'apparaît pas dans son entête. C'est par conséquent l'instruction <span class="html">return</span> qui va déterminer si la fonction :</p>
                    <ul>
                        <li>
                            <p>ne renvoie rien (pas de <span class="html">return</span>),</p>
                        </li>
                        <li>
                            <p>renvoie un unique résultat (un ou plusieurs <span class="html">return</span> uniques, c'est-à-dire suivis d'une seule expression) ou</p>
                        </li>
                        <li>
                            <p>renvoie plusieurs résultats (un ou plusieurs <span class="html">return</span> multiples, c'est-à-dire suivis de plusieurs expressions séparées par des virgules). On peut récupérer les résultats dans une seule variable, mais c'est alors un un tuple (c'est-à-dire une liste qui ne peut pas être modifiée).</p>
<pre><code class="html">x = divisionEntiere(10, 3)
x[0] # 3
x[1] # 1</code></pre>
                        </li>
                        <li>
                            <p>Notez que différents <span class="html">return</span> d'une même fonction peuvent très bien renvoyer des variables de types différents !</p>
                        </li>
                        <li>
                            <p><span class="em">REMARQUE :</span> une fonction peut être définie en ligne de commande. Il faut appuyer deux fois sur la touche "enter" lorsque le code de la fonction est terminé, pour revenir au prompt de l'interpréteur. La fonction est alors disponible pour la session courante. Cette manière de faire est bien sûr réservée à des fonctions courtes qui ne sont pas conservées d'une session à l'autre !</p>
                        </li>
                    </ul>
                    <h3>Exercices :</h3>
                    <ol>
                        <li>
                            <p>Écrivez un script qui, à partir d'une liste donnée d'entiers positif, recherche et affiche la plus grande valeur.</p>
<pre><code class="html">liste = [0, 3, 1, 4, 3, 6, 2]
liste.sort()
print(liste[-1]) # 6</code></pre>
                        </li>
                        <li>
                            <p>Écrivez une fonction qui crée une liste des multiples de m inférieurs à n. Testez-la avec des valeurs entrées par l'utilisateur.</p>
<pre><code class="html">#!/usr/bin/python3

def multiple(m, n) :
    i, res = 2, m
    multiples = []
    
    while res &lt; n :
        multiples.append(res)
        res = i * m
        i += 1

    return multiples

m, n = int(inout("m = ")), int(input("n = "))
print(multiple(m, n))</code></pre>
                        </li>
                        <li>
                            <p>Soient deux listes contenant respectivement le nombre de jours et le nom de chaque mois de l'année. Écrivez un script qui crée une nouvelle liste en fusionnant les deux premières listes. Elle contiendra donc tous les éléments des deux listes en les alternant, de telle manière que chaque nom de mois sera suivi du nombre de jours correspondant.</p>
                            <p>Le script doit ensuite afficher le contenu du tableau fusionné sous la forme : <span class="em">Le mois de Janvier compte 31 jours.</span></p>
<pre><code class="html">#!/usr/bin/python3

def mois(liste1, liste2) :
    liste = []
    i = 0

    while i &lt; len(liste1) :
        liste.append("Le mois de " + liste1[i] + " comporte " + str(liste2[i]) + " jours.")
        i += 1

    return liste

listeJours = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]
listeMois = ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre']
liste = mois(listeMois, listeJours)

for mois in liste :
    print(mois)</code></pre>
                        </li>
                        <li>
                            <p>Écrivez une fonction qui affiche un message indiquant si un élémént x est présent dans une liste. Définissez d'abord la fonction <span class="em">present</span> qui utilise une boucle <span class="html">while</span>. Définisssez ensuite la fonction <span class="em">presentPython</span> qui doit pleinement utiliser les possibilités offertes par Python.</p>
                            <p>Comparez ensuite les performances de ces deux implémentations à l'aide du script <span class="em">present.py</span> :</p>
<pre><code class="html">#!/usr/bin/python3

import random
import time

## Définitions de fonctions
# TODO
def present (elt, tab) :
    i = 0

    while i &lt; len(tab) :
        if tab[i] == elt :
            print(str(elt) + " est contenu dans la liste")
            return None
        i += 1
    print(str(elt) + " n'est pas contenu dans la liste")

def presentPython (elt, tab) :
    if elt in tab :
        print(str(elt) + " est contenu dans la liste")
    else :
        print(str(elt) + " n'est pas contenu dans la liste")

## Script de test
# on produit un tableau d'un million de notes aléatoires
notes = []

for i in range(1000000) :
    notes.append(random.choice(range(21)))

# on compare notre algorithme de présence à l'implémentation de Python
# - avec un entier présent :
t1 = time.clock()
present(20, notes)
t2 = time.clock()
print('notre réponse en ', "{:.6f".format(t2 - t1), ' sec.')
t1 = time.clock()
presentPython(20, notes)
t2 = time.clock()
print('la réponse de Python en ', "{:.6f}".format(t2 - t1), ' sec.')
# - avec un nombre absent :
t1 = time.clock()
present(-1, notes)
t2 = time.clock()
print('notre réponse en ', "{:.6f".format(t2 - t1), ' sec.')
t1 = time.clock()
presentPython(-1, notes)
t2 = time.clock()
print('la réponse de Python en ', "{:.6f}".format(t2 - t1), ' sec.')</code></pre>
                        </li>
                        <li>
                            <p>Écrivez une fonction qui vérifie si les éléments d'une liste sont symétriques par rapport au centere de la liste. Testez cette fonction sur une chaîne de caractères (palindrome).</p>
<pre><code class="html">#!/usr/bin/python3

def palindrome(liste) :
    i = 0

    while i &lt; len(liste) / 2 :
        if liste[i] != liste[-1 -i] :
            print(liste + " n'est pas un palindrome.")
            return None
        i += 1

    print(liste + " est un palindrome.")

mot1, mot2 = input("mot1 = "), input("mot2 = ")
palindrome(mot1)
palindrome(mot2)</code></pre>
                        </li>
                        <li>
                            <p>Écrivez une procédure qui inverse l'ordre des éléments d'un tableau.</p>
<pre><code class="html">#!/usr/bin/python3

def reverse (liste) :
    l = []
    i = 0

    while i &lt; len(liste) :
        l.append(lste[-1 -i])
        i += 1
    return l

liste = [3, 5, 7; 4]
print(reverse(liste))</code></pre>
                        </li>
                        <li>
                            <p>Écrivez une fonction qui transpose une matrice <span class="em">M</span> représentée sous forme de listes de lignes (qui sont elles-mêmes des listes) ainsi qu'une fonction qui affiche le contenu d'une matrice. Écrivez un script pour tester ces fonctions.</p>
<pre><code class="html">#!/usr/bin/python3

def transposer (m) :
    """
        :param m: la matrice à transposer
        :return: la liste de lignes
    """
    matrice = []

    for liste in m :
        matrice.append(liste[:])
    
    return matrice

def afficher (ligne) :
    """
        affiche la ligne passée en paramètre
    """
    for i in ligne :
        print(list(i))

li = [[1, 2, 3], [4, 5, 6]]
m = transposer(li)
afficher(m)</code></pre>
                        </li>
                        <li>
                            <p>Écrivez une fonction qui supprimer un élément d'une liste. Elle renvoie vrai si l'élément a été supprimé, faux sinon. Testez cette fonction avec un script qui demande à l'utilisateur d'entrer des valeurs à supprimer dans une liste et s'arrête lorsque cette valeur n'a pas pu être supprimée.</p>
<pre><code class="html">#!/usr/bin/python3

def supp (liste, elt) :
    if elt in liste :
        liste.remove(elt)
        print("suppression de " + str(elt))
        return True
    
    print("suppression impossible de " + str(elt))
    return False

liste = [3, 5, 6, 7, 2, 1, 8, 9]
suppression = True

while suppression :
    print(liste)
    elt = int(input("ntrez un chiffre : "))
    suppression = supp(liste, elt)</code></pre>
                        </li>
                        <li>
                            <p>Implémentez <a href="https://fr.wikipedia.org/wiki/Tri_par_s%C3%A9lection" target="_blank">le tri par sélection</a> à l'aide d'une procédure qui trie les éléments d'un tableau. Pour rappel, voici le principe : on détermine la position du plus petit élément du tableau, on le met en première position (en l'échangeant avec le premier élément) et on répète le procédé sur le reste du tableau. Une fois votre procédure implémentée et testée, comparez son efficacité avec la méthode sort de Python à l'aide d'un script similaire à celui de l'exercice 4.</p>
<pre><code class="html">#!/usr/bin/python3

import time
import random

def tri (li) :
    for i in range (1, len(li) - 1) :
        min = i
        for j in range(i + 1, len(li)) :
            if li[j] &lt; li[min] :
                min = j
        if (min != i) :
            temp = li[i]
            li[i] = li[min]
            li[min] = temp
    return li

def triPython (li) :
    return li.sort()

## Script de test
# on produit un tableau d'un million de notes aléatoires
notes = []
for i in range(1000000) :
    notes.append(random.choice(range(21)))

# on compare notre algorithme de tri à l'implémentation tri de Python
t1 = time.clock()
tri(notes)
t2 = time.clock('notre réponse en ', "{:.6f}".format(t2 - t1), ' sec.')
t1 = time.clock()
triPython(notes)
t2 = time.clock('la réponse de Python en ', "{:.6f}".format(t2 - t1), ' sec.')</code></pre>
                        </li>
                    </ol>
                </article>
                <article>
                    <h2 id="seance_3">Phython : Séance 3</h2>
                    <h3>Expression régulière :</h3>
                    <p>Une expression régulière est un modèle décrivant un ensemble de caractères (respectant le modèle) et respectant une syntaxe (<span class="html">"..."</span> ou <span class="html">r"..."</span>).</p>
                    <h4>Symboles de base :</h4>
                    <ul>
                        <li>
                            <p><span class="html">^</span> : le début de la chaîne</p>
                        </li>
                        <li>
                            <p><span class="html">$</span> : la fin de la chaîne</p>
                        </li>
                        <li>
                            <p><span class="html">.</span> : n'importe quel caractère</p>
                        </li>
                    </ul>
                    <p>Pour symboliser les caractères spéciaux dans les expressions régulières, il est nécessaire d'échapper le backslash faisant précéder d'un autre backslash : <span class="html">\</span> (échappement).</p>
                    <p>Remarque : échappement du <span class="html">\</span> automatique avec syntaxe <span class="html">r"..."</span>.</p>
                    <p>ex : <span class="em">'\\n'</span> &#8596; <span class="em">r'\n'</span></p>
                    <ul>
                        <li>
                            <p><span class="html">[hij]</span> : le caractère h, i ou j</p>
                        </li>
                        <li>
                            <p><span class="html">[^hij]</span> : n'importe quel caractère sauf h, i et j</p>
                        </li>
                        <li>
                            <p><span class="html">[b-i]</span> : un caractère alphabétique entre b et i</p>
                        </li>
                        <li>
                            <p><span class="html">[^b-i]</span> : n'importe quel caractère sauf un caractère alphabétique entre b et i</p>
                        </li>
                        <li>
                            <p><span class="html">(x|y)</span> : x <span class="em">ou</span> y</p>
                        </li>
                        <li>
                            <p><span class="html">\d</span> : un chiffre &#8594; <span class="html">[0-9]</span></p>
                        </li>
                        <li>
                            <p><span class="html">\D</span> : pas un chiffre &#8594; <span class="html">[^0-9]</span></p>
                        </li>
                        <li>
                            <p><span class="html">\s</span> : un espace &#8594; <span class="html">[\t\n\r\f\v]</span></p>
                        </li>
                        <li>
                            <p><span class="html">\S</span> : pas un espace &#8594; <span class="html">[^\t\n\r\f\v]</span></p>
                        </li>
                        <li>
                            <p><span class="html">\w</span> : un alphanumérique &#8594; <span class="html">[a-zA-Z0-9_]</span></p>
                        </li>
                        <li>
                            <p><span class="html">\W</span> : pas un alphanumérique &#8594; <span class="html">[^a-zA-Z0-9_]</span></p>
                        </li>
                    </ul>
                    <h4>Symboles de répétition :</h4>
                    <p>À placer après ce à quoi ils s'appliquent :</p>
                    <ul>
                        <li>
                            <p><span class="html">*</span> : 0-n fois</p>
                        </li>
                        <li>
                            <p><span class="html">?</span> : 0 ou 1 fois</p>
                        </li>
                        <li>
                            <p><span class="html">+</span> : au moins 1 fois</p>
                        </li>
                        <li>
                            <p><span class="html">{x}</span> : x fois</p>
                        </li>
                        <li>
                            <p><span class="html">{x,y}</span> : entre x et y fois</p>
                        </li>
                        <li>
                            <p><span class="html">{,y}</span> : entre 0 et y fois</p>
                        </li>
                        <li>
                            <p><span class="html">{x,}</span> : au moins x fois</p>
                        </li>
                    </ul>
                    <h4>Syntaxe de regroupement :</h4>
                    <ul>
                        <li>
                            <p><span class="html">(</span> : début d'un groupe</p>
                        </li>
                        <li>
                            <p><span class="html">)</span> : fin d'un groupe</p>
                        </li>
                        <li>
                            <p><span class="html">\numero</span> : récupération du groupe : chaque groupe d'une expression régulière est identifié par son numéro d'apparition dans l'instruction courante (commençant à 1)</p>
                        </li>
                    </ul>
                    <h4>Syntaxe : Exemples :</h4>
                    <ul>
                        <li>
                            <p><span class="html">"^$"</span> ou <span class="html">""</span> &#8594; chaîne vide</p>
                        </li>
                        <li>
                            <p><span class="html">"^.*$"</span> ou <span class="html">".*"</span> &#8594; n'importe quelle chaîne</p>
                        </li>
                        <li>
                            <p><span class="html">r"W+"</span> &#8594; n'importe quelle chaîne</p>
                        </li>
                        <li>
                            <p><span class="html">".*[aeiouy]$"</span> &#8594; se terminant par une voyelle</p>
                        </li>
                        <li>
                            <p><span class="html">r"^(BE|be)\d{2}(\s?\d{4}){3}$</span> &#8594; n° compte en banque belge (BE61 0235 4895 9879)</p>
                        </li>
                    </ul>
                    <h3>Notion de module :</h3>
                    <p>Module = ensemble (librairie) de méthodes qui doivent être importées (<span class="html">import</span>) avant emploi.</p>
                    <ul>
                        <li>
                            <p class="html">import random # nombres pseudo-aléatoires</p>
                        </li>
                        <li>
                            <p class="html">import time # temps et calendriers</p>
                        </li>
                        <li>
                            <p class="html">import re # expressions régulières</p>
                        </li>
                    </ul>
                    <h4>Import de fonctions :</h4>
                    <p>On peut enregistrer des définitions de fonctions (et uniquement cela) dans un fichier <span class="em">monFichier.py</span>.</p>
                    <p>Dans tout autre fichier Python ou en ligne de commande : <span class="html">import monFichier</span>.</p>
                    <p>Les fonctions sont alors disponibles via <span class="html">monFichier.maFonction(...)</span>.</p>
                    <p>Remarque : le fichier doit être présent dans le répertoire courant ou dans un répertoire couvert par le PYTHON PATH.</p>
                    <h4>Import : exemple :</h4>
<pre><code class="html">&gt;&gt;&gt;import math
&gt;&gt;&gt;math.sqrt(25)
5.0
&gt;&gt;&gt;math.pow(10,5)
100000.0
&gt;&gt;&gt;math.sin(math.pi)
&.2246...e-16</code></pre>
                    <h4>Le module re :</h4>
                    <p>Il permet de manipuler les expressions régulières.</p>
                    <p>Quelques méthodes :</p>
                    <ul>
                        <li>
                            <p><span class="html">search</span> et <span class="html">match</span> recherche une expression dans une chaîne.</p>
                        </li>
                        <li>
                            <p><span class="html">sub</span> remplace une expression dans une chaîne.</p>
                        </li>
                        <li>
                            <p><span class="html">findall</span> obtient une liste de sous-chaînes vérifiant une expresion.</p>
                        </li>
                        <li>
                            <p><span class="html">split</span> obtient une liste de chaînes sur base de séparateurs.</p>
                        </li>
                    </ul>
                    <h5>Search :</h5>
                    <ul>
                        <li>
                            <p><span class="html">re.search(pattern,str,flags=0)</span> où</p>
                            <ul>
                                <li>
                                    <p><span class="html">pattern</span> : expression régulière</p>
                                </li>
                                <li>
                                    <p><span class="html">str</span> : chaîne à traiter</p>
                                </li>
                                <li>
                                    <p><span class="html">flags</span> : option (facultatif)</p>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <p>renvoie</p>
                            <ul>
                                <li>
                                    <p>objet de type <span class="html">match</span> si expression trouvée, n'importe où dans la chaîne (parcours de gauche à droite)</p>
                                </li>
                                <li>
                                    <p><span class="html">None</span> sinon</p>
                                </li>
                            </ul>
                        </li>
                    </ul>
                    <p>Search : Exemples :</p>
<pre><code class="html">&gt;&gt;&gt;import re
&gt;&gt;&gt;re.search(r"abc", "abcdef")
&lt;_sre.SRE_Match object; span=(0, 3), match='abc'&gt;
&gt;&gt;&gt;re.search(r"ab*", "abcdef")
&lt;_sre.SRE_Match object; span=(0, 2), match='ab'&gt;
&gt;&gt;&gt;re.search("abc", "abababababab")
&gt;&gt;&gt;re.search(r"^b+$", "abbbbbb")
&lt;_sre.SRE_Match object; span=(0, 7), match='abbbbbb'&gt;</code></pre>
                    <h5>Search : Multiline :</h5>
                    <p>Option <span class="em">multiline</span> pour recherche en début de ligne</p>
<pre><code class="html">re.search(pattern,str,flags=re.M)</code></pre>
                    <p>Exemple :</p>
<pre><code class="html">re.search(r"^a", "dbcbna") # no match
re.search(r"^a", "dcb\na", flags=re.M) # match</code></pre>
                    <h4>Match :</h4>
                    <ul>
                        <li>
                            <p><span class="html">re.match(pattern,str,flags=0)</span> où</p>
                            <ul>
                                <li>
                                    <p><span class="html">pattern</span> : expression régulière</p>
                                </li>
                                <li>
                                    <p><span class="html">str</span> : chaîne à traiter</p>
                                </li>
                                <li>
                                    <p><span class="html">flags</span> : option (facultatif)</p>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <p>renvoie</p>
                            <ul>
                                <li>
                                    <p>objet de type <span class="html">match</span> si expression trouvée en <span class="em">début</span> de chaîne</p>
                                </li>
                                <li>
                                    <p><span class="html">None</span> sinon</p>
                                </li>
                            </ul>
                        </li>
                    </ul>
                    <p>Match : Exemple :</p>
<pre><code class="html">&gt;&gt;&gt;if re.match(r"abc", "abcdef"):
...		print("trouvé")
...	else:
...		print("pas trouvé")
...
trouvé
&gt;&gt;&gt;</code></pre>
                    <h4>Sub :</h4>
                    <ul>
                        <li>
                            <p><span class="html">re.sub(pattern,repl,str,count=0,flags=0)</span> où</p>
                            <ul>
                                <li>
                                    <p><span class="html">pattern</span> : expression régulière</p>
                                </li>
                                <li>
                                    <p><span class="html">repl</span> : chaîne de remplacement</p>
                                </li>
                                <li>
                                    <p><span class="html">str</span> : chaîne à traiter</p>
                                </li>
                                <li>
                                    <p><span class="html">count</span> : nb max de remplacements (= remplacer partout)</p>
                                </li>
                                <li>
                                    <p><span class="html">flags</span> : option (facultatif)</p>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <p>renvoie la chaîne après traitement</p>
                        </li>
                    </ul>
                    <p>Sub : Exemples :</p>
<pre><code class="html">&gt;&gt;&gt;re.sub("soir", "jour", "bonsoir")
'bonjour'
&gt;&gt;&gt;re.sub("-", ":", "w-x-y-z", count=2)
'w:x:y-z'</code></pre>
                    <h4>Findall :</h4>
                    <ul>
                        <li>
                            <p><span class="html">re.findall(pattern,str,flags=0)</span> où</p>
                            <ul>
                                <li>
                                    <p><span class="html">pattern</span> : expression régulière</p>
                                </li>
                                <li>
                                    <p><span class="html">str</span> : chaîne à traiter</p>
                                </li>
                                <li>
                                    <p><span class="html">flags</span> : option (facultatif)</p>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <p>renvoie une liste des sous-chaînes vérifiant l'expression régulière</p>
                        </li>
                    </ul>
                    <p>Findall : Exemples :</p>
<pre><code class="html">&gt;&gt;&gt;re.findall("([0-9]+)", "j'aurai 20 ans en 2018")
['20', '2018']
&gt;&gt;&gt;re.findall(r"\S+", "une liste de mots")
['une', 'liste', 'de', 'mots']</code></pre>
                    <h4>Split :</h4>
                    <ul>
                        <li>
                            <p><span class="html">re.split(pattern,str,maxsplit=0,flags=0)</span> où</p>
                            <ul>
                                <li>
                                    <p><span class="html">pattern</span> : séparateurs (expression régulière)</p>
                                </li>
                                <li>
                                    <p><span class="html">str</span> : chaîne à traiter</p>
                                </li>
                                <li>
                                    <p><span class="html">maxsplit</span> : nb max de séparations (0 = tout séparer)</p>
                                </li>
                                <li>
                                    <p><span class="html">flags</span> : option (facultatif)</p>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <p>renvoie</p>
                            <ul>
                                <li>
                                    <p>une liste des chaînes délimitées par les séparateurs</p>
                                    <p>si plus que <span class="html">maxsplit</span> séparateurs, la dernière chaîne contient des séparateurs</p>
                                </li>
                            </ul>
                        </li>
                    </ul>
                    <p>Split : Exemples :</p>
<pre><code class="html">&gt;&gt;&gt;re.split("/", "02/764 46 46")
['02', '764 46 46']
&gt;&gt;&gt;re.split(",", "un,deux,trois,quatre", maxsplit=2)
['un', 'deux', 'trois,quatre']</code></pre>
                    <h3>Exécuter des commandes Unix :</h3>
                    <p><a href="https://docs.python.org/3/library/subprocess.html" target="_blank">Le module subprocess</a> permet de générer des processus sur système d'exploitation et permet aussi de se connecter à leurs canaux de communication (input/output/error).</p>
                    <h4>Getoutput :</h4>
                    <p><span class="html">subprocess.getoutput(cmd)</span> où <span class="em">cmd</span> est la commande à exécuter dans un shell, sous forme de string.</p>
                    <p>Il renvoie l'output de la commande sur <span class="html">stdout</span> ou <span class="html">stderr</span> sous forme d'une <span class="html">str</span> (les éventuels passages à la ligne y sont représentés par '\n').</p>
                    <p>Getoutput : Exemple :</p>
<pre><code class="html">&gt;&gt;&gt;import subprocess
&gt;&gt;&gt;subprocess.getoutput('ls')
'ex1.py\nex2.py\nex3.py'
&gt;&gt;&gt;ex = subprocess.getoutput('ls')
&gt;&gt;&gt;print(ex)
ex1.py
ex2.py
ex3.py</code></pre>
                    <h3>Exercices :</h3>
                    <ol>
                        <li>
                            <p>Écrivez un script qui :</p>
                            <ul>
                                <li>
                                    <p>lit 10 lignes au clavier</p>
                                </li>
                                <li>
                                    <p>affiche la ligne lue si elle n'est pas vide</p>
                                </li>
                                <li>
                                    <p>compte le nombre de lignes vides</p>
                                </li>
                                <li>
                                    <p>affiche le nombre de lignes vides introduites</p>
                                </li>
                            </ul>
<pre><code class="html">#!/usr/bin/python3

nbLignesVides = 0

for i in range(1, 11) :
    ligne = input("ligne n°" + str(i) + " = ")
    if ligne != "" :
        print(ligne)
    else :
        nbLignesVides += 1

print("Nombre de lignes vides : " + str(nbLignesVides))</code></pre>
                        </li>
                        <li>
                            <p>Écrivez un script qui :</p>
                            <ul>
                                <li>
                                    <p>lite des lignes au clavier, tant qu'une ligne vide n'est pas introduite</p>
                                </li>
                                <li>
                                    <p>affiche la ligne lue si elle contient au moins un mot de plus de 10 caractères</p>
                                </li>
                            </ul>
<pre><code class="html">#!/usr/bin/python3

i = 1
ok = True

while ok :
    ligne = input("ligne n°" + str(i) + " = ")
    if ligne == "" :
        ok = False
    elif len(ligne) &gt;= 10 :
        print(ligne)
    i += 1</code></pre>
                        </li>
                        <li>
                            <p>Écrivez un script qui :</p>
                            <ul>
                                <li>
                                    <p>lit des lignes au clavier</p>
                                </li>
                                <li>
                                    <p>vérifie si un nombre entier (non signé) a été introduit</p>
                                    <ul>
                                        <li>
                                            <p>si oui, affiche le nombre</p>
                                        </li>
                                        <li>
                                            <p>sinon affiche la ligne lue suivie de " <span class="em">n'est pas un nombre non signé</span>"."</p>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                            <p>Le script se termine dès que l'utilisateur introduit avec une chaîne vide.</p>
<pre><code>Test avec :
0 OK
00 KO
-0 OK
+340 OK
+012 KO
-015 KO
+105 OK
-100 OK</code></pre>
<pre><code class="html">#!/usr/bin/python3

import re

i = 1
ok = True

while ok :
    ligne = input("ligne n°" + str(i) + " = ")
    if ligne == "" :
        ok = False
    elif re.match(r"^[\+-]?0.+$", ligne) == None :
        print(ligne)
    else :
        print(ligne + " n'est pas un nombre signé")
        i += 1</code></pre>
                        </li>
                        <li>
                            <p>Écrivez un programme qui affiche l'heure dans le format suivant : <span class="em">"Il est 10h30"</span> à partir du résultt de la commande <span class="html">date</span> sns argument.</p>
<pre><code class="html">#!/usr/bin/python3

import subprocess as sp
date = sp.getoutput('date +%Hh%M')
print("Il est " + date)</code></pre>
                        </li>
                        <li>
                            <p>Écrivez un programme qui affiche la liste des utilisateurs qui ont le bash comme shell de login.</p>
                            <p>Rappel : chaque ligne du fichier <span class="html">/etc/passwd</span> présente le format suivant : <span class="html">login:x:uuid:commentaire:homeRep:loginShell</span>.</p>
                            <p>Pour ce faire, récupérez le contenu du fichier <span class="html">/etc/passwd</span>, pour chaque ligne, isolez le nom de <span class="em">login</span> et le <span class="em">loginShell</span>, n'affichez que les logins où le <span class="em">loginShell</span> est <span class="html">/bin/bash</span>.</p>
<pre><code class="html">#!/usr/bin/python3

import subprocess as sp
import re

etc_passwd = sp.getoutput('cat /etc/passwd')
etc_passwd = re.split("\n", etc_passwd)


for ligne in etc_passwd :
    v = re.split(':', ligne)
    if v[-1] == '/bin/bash' :
        print(v[0])</code></pre>
                        </li>
                    </ol>
                </article>
                <article>
                    <h2 id="seance_4">Python : Séance 4 :</h2>
                    <h3>Expressions régulières (compléments) :</h3>
                    <h4>Sub (Rappel) :</h4>
                    <p><span class="html">re.sub(pattern,repl,str)</span> où</p>
                    <ul>
                        <li>
                            <p><span class="html">pattern</span> : expression régulière</p>
                        </li>
                        <li>
                            <p><span class="html">repl</span> : chaîne de remplacement</p>
                        </li>
                        <li>
                            <p><span class="html">str</span> : chaîne à traiter</p>
                        </li>
                    </ul>
                    <p>renvoie la chaîne après traitement</p>
                    <h4>Groupe (Rappel) :</h4>
                    <ul>
                        <li>
                            <p><span class="html">(</span> : début d'un groupe</p>
                        </li>
                        <li>
                            <p><span class="html">)</span> : fin d'un groupe</p>
                        </li>
                        <li>
                            <p><span class="html">numéro</span> : récupération du groupe : chaque groupe d'une expression régulière est identifié par son numéro d'apparition dans l'instruction courante(commençant à 1).</p>
                        </li>
                    </ul>
                    <p>Groupe : Exemple :</p>
                    <p>Éliminer les espaces autour des symboles de ponctuation :</p>
<pre><code class="html">&gt;&gt;&gt;re.sub(r"\s*([,.;:])\s*", r"\1", "a ,b ; c:d  .")
'a;b:c:d.'</code></pre>
                    <h4>Seach(Rappel) :</h4>
                    <ul>
                        <li>
                            <p><span class="html">re.searcn(pattern,str,flags=0)</span> où :</p>
                            <ul>
                                <li>
                                    <p><span class="html">pattern</span> : expression régulière</p>
                                </li>
                                <li>
                                    <p><span class="html">str</span> : chaîne à traiter</p>
                                </li>
                                <li>
                                    <p><span class="html">flags</span> : option (facultatif)</p>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <p>renvoie :</p>
                            <ul>
                                <li>
                                    <p>objet de type <span class="html">match</span> si expression trouvée, <span class="em">n'importe où</span> dans la chaîne</p>
                                </li>
                                <li>
                                    <p><span class="html">None</span> sinon</p>
                                </li>
                            </ul>
                        </li>
                    </ul>
                    <h4>Match (Rappel) :</h4>
                    <ul>
                        <li>
                            <p><span class="html">re.match(pattern,str,flags=0)</span> où :</p>
                            <ul>
                                <li>
                                    <p><span class="html">pattern</span> : expression régulière</p>
                                </li>
                                <li>
                                    <p><span class="html">str</span> : chaîne à traiter</p>
                                </li>
                                <li>
                                    <p><span class="html">flags</span> : option (facultatif)</p>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <p>renvoie :</p>
                            <ul>
                                <li>
                                    <p>objet de type <span class="html">match</span> si expression trouvée, en <span class="em">début</span> dans la chaîne</p>
                                </li>
                                <li>
                                    <p><span class="html">None</span> sinon</p>
                                </li>
                            </ul>
                        </li>
                    </ul>
                    <h4>Méthodes GROUPS et GROUP :</h4>
                    <ul>
                        <li>
                            <p>Définies sur objets de type <span class="html">match</span></p>
                        </li>
                        <li>
                            <p>Récupérer des sous-chaînes correspondant à des groupes</p>
                        </li>
                        <li>
                            <p><span class="html">groups()</span> renvoie un <span class="em">tuple</span> de toutes les sous-chaînes correspondant aux groupes du pattern de recherche</p>
                        </li>
                        <li>
                            <p><span class="html">group(n)</span> renvoie la sous-chaîne correspondant au groupe <span class="em">n</span> et, si <span class="em">n</span> vaut <span class="em">0</span>, renvoie la chaîne trouvée</p>
                        </li>
                    </ul>
                    <p>GROUPS et GROUP : Exemple :</p>
<pre><code class="html">&gt;&gt;&gt;m1 = re.match(r"(\w{3}), (\d\d) (\w{3}).*\s", "Sat, 17 Fev 2018 17:11:08 CET")
&gt;&gt;&gt;m1.groups()
('Sat', '17', 'Fev')
&gt;&gt;&gt;m1.group(1)
'Sat'
&gt;&gt;&gt;m1.group(2)
'17'
&gt;&gt;&gt;m1.group(0)
'Sat, 17 Fev 2018 17:11:08'</code></pre>
                    <h3>Les conteneurs standards :</h3>
                    <h4>Les conteneurs de séquences :</h4>
                    <ul>
                        <li>
                            <p>Chaînes de caractères (<span class="html">str</span>) &#8594; ex : "ddgdss456hh"</p>
                        </li>
                        <li>
                            <p>Listes (<span class="html">list</span>) &#8594; ex : ^'test',['e',True],2.56]</p>
                        </li>
                        <li>
                            <p>Tuples (<span class="html">tuple</span>) similaires mais <span class="em">non modifiables</span> &#8594; ex :</p>
<pre><code class="html">&gt;&gt;&gt;t1=('test',['e',True],(2,3),2.56)
&gt;&gt;&gt;t1[0]
'test'
&gt;&gt;&gt;t&1[-3][1]
True
&gt;&gt;&gt;t1[2]
(2,3)</code></pre>
                            <p>Les parenthèses ne sont <span class="em">pas oblogatoires</span> &#8594;ex :</p>
<pre><code class="html">&gt;&gt;&gt;t2=a,2,[2.5]
&gt;&gt;&gt;t2
('a',2,[2.5])</code></pre>
                        </li>
                    </ul>
                    <h4>Tableaux associatifs :</h4>
                    <p>Information &#8594; clé:valeur</p>
                    <p>Implémentation &#8594; les dictionnaires : <span class="html">dict</span></p>
                    <p>Syntaxe : <span class="html">{"clé1":valeur1,"clé2":valeur2,"clé3":valeur}</span></p>
                    <h5>Caractéristiques :</h5>
                    <ul>
                        <li>
                            <p>Les clés sont des <span class="html">str</span>.</p>
                        </li>
                        <li>
                            <p>Itérable mais pas d'ordre fixe de parcours</p>
                        </li>
                        <li>
                            <p>Taille = nb de paires, donnée par fonction <span class="html">len(...)</span></p>
                        </li>
                        <li>
                            <p>L'opérateur <span class="html">in</span> vérifie l'appartenance d'une clé + permet parcours itératif des clés</p>
                        </li>
                    </ul>
                    <h5>Création d'un dictinonnaire :</h5>
                    <ul>
                        <li>
                            <p>grâce aux parenthèses.</p>
                            <ul>
                                <li>
                                    <p>vide : <span class="em">d1 = {}</span></p>
                                </li>
                                <li>
                                    <p>initialisé : <span class="em">d2 = {"a":"b","c":"d"}</span></p>
                                </li>
                                <li>
                                    <p>initialisé en compréhension : <span class="em">d3 = {x:x.upper() for x in ('a','b','c')}</span> équivalent à <span class="em">d3= {"a":"A","b":"B","c":"C"}</span></p>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <p>grâce au constructeur <span class="html">dict(...)</span> :</p>
                            <ul>
                                <li>
                                    <p>paramètres = liste de tuples (clé,valeur) : <span class="em">d4 = dict([('a','b'),('c','d')]) &#8594; {'a':'b','c':'d'}</span></p>
                                </li>
                                <li>
                                    <p>paramètres de la forme clé="valeur" où la clé est donnée sans guillemets : <span class="em">d5 = dict(nom='Dulieu',prénom='Jos',age=51) &#8594; {'nom':'Dulieu','prénom':'Jos','age':51}</span></p>
                                </li>
                            </ul>
                        </li>
                    </ul>
                    <h5>Accès :</h5>
                    <p>Accès à valeur via clé en indice</p>
<pre><code class="html">&gt;&gt;&gt;d = dict('Jan':1,'Fev':2)
&gt;&gt;&gt;d['Jan']
1</code></pre>
                    <p>Clés=valeurs 'hachables'</p>
                    <h5>D'autres fonctionnalités d'un objet DICT :</h5>
<pre class="taill60"><code class="html">lesMois = {'Jan': 1, 'Fev': 2, 'ar': 3}
lesMois['Avr'] = 4 # ajout d'une paire
<span class="em">del</span> lesMois['Jan'] # supprime la paire 'Jan':1
lesMois.<span class="em">keys()</span> # retourne la liste des clés
lesMois.<span class="em">values()</span> # retourne la liste des valeurs
lesMois.<span class="em">items()</span> # retourne une liste de tuples (clé,valeurs)</code></pre>
                    <h3>Exercices :</h3>
                    <ol>
                        <li>
                            <p>Écrivez un script Python qui gère un dictionnaire.</p>
                            <ul>
                                <li>
                                    <p>Le programme lit sur <span class="html">stdin</span> des lignes constituées de 2 mots (mot1 et mot2) formant une commande (mot1) séparée de son argument (mot2) par une tabulation. Les commandes acceptées sont :</p>
                                    <ul>
                                        <li>
                                            <p><span class="html">IN clé</span> : qui affiche la valeur stockée dans le dictionnaire correspondant à la clé ou un message indiquant l'absence de la clé.</p>
                                        </li>
                                        <li>
                                            <p><span class="html">DEL clé</span> : qui supprime la clé si elle existe.</p>
                                        </li>
                                        <li>
                                            <p><span class="html">ALL</span> : cette commande n'a pas d'argument, elle affiche le contenu du dictionnaire.</p>
                                        </li>
                                        <li>
                                            <p>Toute autre valeur introduite constitue une information à stocker dans le dictionnaire, mot1 étant la clé et mot2 la valeur.</p>
                                        </li>
                                    </ul>
                                    <p>La ligne doit être vérifiée par une expression régulière et les 2 mots extraits grâce à la méthode <span class="html">groups()</span>.</p> 
                                </li>
                                <li>
                                    <p>Le programme doit utiliser une fonction <span class="rm">lire()</span> à écrire qui lit une ligne, la vérifie et retourne un tuple de 2 valeurs, les 2 mots extraits de la ligne.</p>
                                </li>
                            </ul>
<pre><code class="html">#!/usr/bin/python3

import re

def lire() :
    ligne = input()
    
    if (ligne == "") :
        return None
    
    m1 = re.match(r"(\w+)\t?(\w*)", ligne)
    return m1.groups()

dico = {}
ok = True
while ok :
    tuples = lire()
    if tuples == None :
        print("ligne vide")
        ok = False
        break
    
    commande = tuples[0].lower()
    argument = tuples[1]
    
    if commande == "all" :
        if argument != "" :
            print("Il y a un argument en trop dans la commande all")
            ok = False
        elif len(dico) != 0 :
            for t in dico.items() :
                print(t)
        else :
            print("Table vide !")
    elif commande == "in" :
        if argument == "" :
            print("Il manque un argument dans la commande in")
            ok = False
        elif argument in dico :
            print(dico[argument])
        else :
            print("La clé '" + argument + "' n'existe pas dans le dico")
    elif commande == "del"
        if argument in dico :
            del dico[argument]
    else :
        if argument == "" :
            print("Il manque le deuxième mot")
            ok = False
        else :
            dico[commande] = argument</code></pre>
                        </li>
                        <li>
                            <p>Écrivez un script Python qui génère un rapport résumant les connexions au système qui sont terminées.</p>
                            <ul>
                                <li>
                                    <p>La liste des connexions est fourniepar la commande Linux <span class="html">last</span> à appeler dans le programme. Si la commande <span class="html">last</span> ne fournit que deux ou trois connexions sur votre machine, copiez le fichier <span class="em">last_put.txt</span> (contenant le résultat de la commande <span class="html">last</span> sur albert) dans votre répertoire courant et remplacez la commande par <span class="html">cat last_out.txt</span>.</p>
                                </li>
                                <li>
                                    <p>Les enregistrements correspondant à une connexion terminée sont sélectionnés en utilisant une expression régulière, qui sert également à extraire les informations intéressantes.</p>
                                </li>
                                <li>
                                    <p>Les différentes connexions sont compilées dans un dictionnaire dont la clé est le login de l'utilisateur et la valeur est une liste composée de 2 informations : le nombre de connexions terminées et la durée totale en minutes.</p>
                                </li>
                                <li>
                                    <p>En fin de traitement, le programme affiche la liste des utilisateurs triée (en utilisant la foncion <span class="html">sorted()</span>) suivant l'ordre alphanumérique, donnant pour chacun le nombre de connexions et la durée en heure-minutes au format "01h01m".</p>
                                </li>
                            </ul>
                            <p>Variante : remplacez le nombre de connexions par la liste des connexions (jour,heure,durée).</p>
<pre><code class="html">#!/usr/bin/python3

import subprocess as sp
import re

dico = {}
last = sp.getoutput('cat last_out.txt')
l = re.split('\n', last)

for ligne in l :
    if re.search(r"\((\d\d):(\d\d)\)", ligne) :
        ligne = re.split('\s', re.sub("(\s|\t)+", " ", ligne).strip())
        print(ligne)
        login = ligne[0]
        time = ligne[-1]
        m1 = re.match(r"\((\d\d):(\d\d)\)", time)
        time = int(m1.group(1)) * 60 + int(m1.group(2))
        print(time)
        if login in dico :
            liste = dico[login]
            liste[0] += 1
            liste[1] += time
        else :
            dico[login] = [1, time]

sorted(dico)

for item in dico.items()
    login = item[0]
    nbConn = item[1][0]
    time = item[1][1]
    heure  = time // 60
    minute = time % 60
    if heure &lt; 10 :
        heure = "0" + st(heure)
    if minute &lt; 10 :
        minute = "0" + str(minute)
    print(login + " : nombre de connexions = " + str(nbConn) + " & tume = " + str(heure) + "h" + str(minute) + "m")</code></pre>
                        </li>
                    </ol>
                </article>
                <article>
                    <h2 id="seance_5">Python : Séance 5 :</h2>
                    <h3>Les fichiers séquentiels :</h3>
                    <p>Trois types de fichiers :</p>
                    <ul>
                        <li>
                            <p>Text Files : texte - code ASCII</p>
                        </li>
                        <li>
                            <p>Raw Binary Files : format "mémoire" - lecture/écriture totalement libre</p>
                        </li>
                        <li>
                            <p>Buffered Binary Files : format "mémoire" - lecture/écriture via buffer</p>
                        </li>
                    </ul>
                    <p>Traitement en trois étapes :</p>
                    <ul>
                        <li>
                            <p>Ouverture :</p>
                            <p class="html">f1 = open(filename,mode)</p>
                            <p><span class="em">f1</span> est un objet de type <span class="html">file</span>.</p>
                            <p>Ouvre le fichier et place la position courante en début de fichier.</p>
                            <table class="tableBalises">
                                <thead>
                                    <tr>
                                        <th>mode</th>
                                        <th>Meaning</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="html">'r'</td>
                                        <td>open for reading (default)</td>
                                    </tr>
                                    <tr>
                                        <td class="html">'w'</td>
                                        <td>open for writing, truncating the file first</td>
                                    </tr>
                                    <tr>
                                        <td class="html">'r+'</td>
                                        <td>open for both reading and writing</td>
                                    </tr>
                                    <tr>
                                        <td class="html">'a'</td>
                                        <td>open for writing, appending to the end of the file if exists</td>
                                    </tr>
                                    <tr>
                                        <td class="html">'b'</td>
                                        <td>binary mode, appended to other mode if necessary</td>
                                    </tr>
                                    <tr>
                                        <td class="html">'t'</td>
                                        <td>text mode (default)</td>
                                    </tr>
                                </tbody>
                            </table>
                        </li>
                        <li>
                            <p>Lectures et/ou écritures :</p>
                            <p><span class="html">payload = f.read()</span> : <span class="em">payload</span> est de type <span class="html">str</span> et renvoie la fin du fichier depuis la position courante. Il faut être certain d'avoir assez de mémoire.</p>
<pre><code class="html">&gt;&gt;&gt;f.read()
'This is the entire file.\n'
&gt;&gt;&gt;f.read() # EOF
''</code></pre>
                            <p><span class="html">payload = f.read(size)</span> : <span class="em">payload</span> est de type <span class="html">str</span> et <span class="em">size</span> est un <span class="html">int</span>. &Ccedil;a renvoie au plus <span class="em">size</span> bytes lus depuis la position courante et avance la position courante.</p>
                            <p><span class="html">payload = f.readline()</span> : <span class="em">payload</span> est de type <span class="html">str</span> et ça renvoie la fin de la ligne depuis la position courante. Il faut être certain d'avoir assez de mémoire (Ok dans un grand nombre de cas).</p>
<pre><code class="html">&gt;&gt;&gt;f.readline()
'This is the first line of the file.\n'
&gt;&gt;&gt;f.readline()
'Second line of the file\n'
&gt;&gt;&gt;f.readline() # EOF
''</code></pre>
                            <p>Lecture avec boucle :</p>
<pre><code class="html">&gt;&gt;&gt;for line in f :
... print(line, end='') # default : end='\n'
...
This is the fist line of the file.
Second line of the file</code></pre>
                            <p>Écriture + conversion en string :</p>
                            <p><span class="html">f.write(str)</span> écrit un <span class="html">str</span> &#8594; conversion préalable si nécessaire</p>
<pre><code class="html">&gt;&gt;&gt;value = ('the answer', 42)
# convert the tuple to string
&gt;&gt;&gt;s = str(value)
&gt;&gt;&gt;f.write(s)
18 # nb of caracters written</code></pre>
                        </li>
                        <li>
                            <p>Fermeture :</p>
                            <p><span class="html">f.close()</span> ferme le fichier et libère les ressources.</p>
<pre><code class="html">&gt;&gt;&gt;f.close()
&gt;&gt;&gt;f.read()
Traceback (most recent call last) : File
"", line 1, in ? ValueError : I/O
operation on closed file</code></pre>
                        </li>
                    </ul>
                    <h4>Mot clé "with" :</h4>
                    <p>Bonne pratique : utilisation du mot clé "<span class="html">with</span>" avec les fichiers car il ferme automatiquement le fichier à la fin du bloc (en cas de sortie normale ou de sortie abrupte) et est l'équivalent du <span class="html">try-with-resources statement</span> de Java.</p>
<pre><code class="html">&gt;&gt;&gt;with open('workfile', 'r') as f :
... read_data = f.read()
&gt;&gt;&gt; f.closed
True</code></pre>
                    <h4>Pour revenir en arrière :</h4>
                    <p>Deux étapes :</p>
                    <ul>
                        <li>
                            <p>Faire une lecture séquentielle + sauvegarder l'id des endroits où on voudra revenir en arrière.</p>
<pre><code class="html">f.tell()</code></pre>
                        </li>
                        <li>
                            <p>Revenir en arrière aux endroits voulus.</p>
<pre><code class="html">f.seek(id)</code></pre>
                        </li>
                    </ul>
                    <p><span class="html">f.tell()</span> renvoie un <span class="html">int</span> représentant la position courante dans le fichier. Attention, ce int est un nombre opaque dépendant de l'implémentation de Python. Ce n'est pas spécialement le nombre de bytes lus depuis le début du fichier !</p>
                    <p><span class="html">f.seek(int)</span> : <span class="html">int</span> est l'id d'une position courante dans le fichier. Cette méthode positionne le curseur du fichier à l'endroit portant l'id fourni par l'int.</p>
<pre><code class="html">&gt;&gt;&gt;with open('out', 'r') as file :
... file.readline()
... file.readline()
... id = file.tell()
... l1 = file.readline()
... print(l1) # impression ligne 3 du fichier
... file.seek(id)
... l1 = file.readline()
... print(l1) # nouvelle impression ligne 3</code></pre>
                    <h4>Paramètres en ligne de commande :</h4>
                    <p>Il faut importer le module <span class="html">sys</span> dans un script</p>
                    <p>La liste <span class="html">sys.argv</span> contient : le nom du script à l'indice 0 et les noms des paramètres présents sur la ligne de commande lors de l'exécution du script, aux indices suivants.</p>
                    <p>Exemple :</p>
<pre><code class="html">&gt;&gt;&gt; monScript toto 52</code></pre>
                    <p>monScript.py</p>
<pre><code class="html">import sys
...
print(sys.argv[0]) # 'monScript'
print(sys.argv[1]) # 'toto'
print(sys.argv[2]) # '52'
...</code></pre>
                    <h4>Obtenir la taille d'un fichier :</h4>
<pre><code class="html">import os
infoFichier = os.stat(filename)
tailleFichier = infoFichier.st_size</code></pre>
                    <p><a href="https://docs.python.org/3.0/library/stat.html" target="_blank">https://docs.python.org/3.0/library/stat.html</a></p>
                    <h3>Exercices :</h3>
                    <p>Les fichiers que vous allez traiter dans les exercices suivants pourraient éventuellement être très volumineux. C'est pourquoi vous ne pouvez pas les stocker entièrement en mémoire RAM.</p>
                    <ol>
                        <li>
                            <p>Nous allons construire une version simplifiée de la commande Unix "<span class="html">cat</span>"/ Nous vous demandons de construire un programme qui prend en paramètre le nom d'un fichier texte et qui affiche le contenu de celui-ci à l'écran.</p>
<pre><code class="html">#!/usr/bin/python3

import sys

nomFichier = sys.argv[1]

with open(nomFichier, 'r') as f :
    for line in f :
        print(line, end = '')</code></pre>
                        </li>
                        <li>
                            <p>Nous allons construire une version simplifiée de la commande Unix "<span class="html">head</span>". Nous vous demandons de construire un programme qui prend en paramètres le nom d'un fichier texte "<span class="em">f</span>" et un nombre entier naturel "<span class="em">n</span>". Si le fichier contient au moins "<span class="em">n</span>" ligne(s), votre programme affichera les "n" première(s) ligne(s) de "f". Sinon, votre programme affichera tout le contenu de "f".</p>
<pre><code class="html">#!/usr/bin/python3

import sys

nomFichier = sys.argv[1]
n = int(sys.argv[2])

with open(nomFichier, 'r') as f :
    for i in range(n) :
        print(f.readline(), end = '')</code></pre>
                        </li>
                        <li>
                            <p>Nous allons construire une version simplifiée de la commande Unix "<span class="html">tail</span>". Nous vous demandons de construire un programme qui prend en paramètres le nom d'un fichier texte "f" et un nombre entier naturel "n". Si le fichier contient au moins "n" ligne(s), votre programme affichera les "n" dernière(s) ligne(s) de "f". Sinon, votre programme affichera tout le contenu de "f".</p>
<pre><code class="html">#!/usr/bin/python3

import sys

nomFichier = sys.argv[1]
n = int(sys.argv[2])
liste = []

with open(nomFichier, 'r') as f :
    for ligne in f :
        liste.append(ligne)

if len(liste) > n :
    for i in range(len(liste) - n, len(liste)) :
        print(liste[i])
else :
    for l in liste :
        print(l)</code></pre>
                        </li>
                        <li>
                            <p>Nous allons construire une version simplifiée de la commande Unix "<span class="html">wc</span>". Nous vous demandons de construire un programme qui prend en paramètres le nom d'un fichier texte "f" et qui affiche le nombre total de caractères (imprimables ou non), le nombre de mots et le nombre de lignes de "f".</p>
<pre><code class="html">#!/usr/bin/python3

import sys
import re

nomFichier = sys.argv[1]
nbLignes = 0
nbCaracteres = 0
nbMots = 0

with open(nomFichier, 'r') as f :
    for ligne in f :
        nbLignes += 1
        nbCaracteres += len(ligne)
        nbMots += len(re.findall("[a-zA-Z]", ligne))

print("nbLigns = " + str(nbLignes))
print("nbCaracteres = " + str(nbCaracteres))
print("nbMots = " + str(nbMots))</code></pre>
                        </li>
                        <li>
                            <p>Nous allons effectuer la fusion de deux fichiers qui contiennent chacun une suite d'entiers triée.</p>
                            <p>Une suite de "n" entiers(s) &lt;x_1, X_2, ..., x_n&gt; est persistée dans un fichier texte de "n" lignes en écrivant x_1 sur la première ligne du fichier, x_2 sur la deuxième, etc.</p>
                            <p>Nous vous demandons de construire un programme qui prene en paramètres trois noms de fichiers textes. Les deux premiers fichiers contiendront chacun une suitetriée. Voyre programme produira une troisième suite triée qui correspondra à la fusion des deux suites précédentes. Cette troisième suite sera sauvée dans le fichier nommé suivant le troisième paramètre de votre programme.</p>
                            <p>Par exemple, si les deux premières suites sont &lt;1, 23, 47&gt; et &lt;0, 4, 25, 26, 27&gt;, votre programme produira et sauvera la suite &lt;0, 1, 4, 23, 25, 26, 27, 47&gt;. Les éventuels doublons sont inclus dans la suite produite.</p>
<pre><code class="html">#!/usr/bin/python3

import sys
import re

def ajoutListe(nomFichier, liste) :
    with open(nomFichier 'r') as f :
        for ligne in f :
            l = re.split(', ', ligne.strip('&lt;&gt;'))
            for i in l :
                liste.append(int(i))
    return liste

fichier1 = sys.argv[1]
fichier2 = sys.argv[2]
fichier3 = sys.argv[3]
liste = []
liste = ajoutListe(fichier1, liste)
liste = ajoutListe(fichier2, liste)
liste.sort()

with open (fichier3, 'w') as f :
    s = '&lt;'
    i = O
    for item in liste :
        s += str(item)
        if i &lt; len(liste) - 1 :
            s += ', '
        i += 1
    s ++ '&gt;'
    f.write(s)</code></pre>
                        </li>
                        <li>
                            <p>Nous allons produire quelques statistiques concernant un "fichier de logs" d'un routeur. Le format de ce fichier est simple. Il contient une ligne par message qui a transité sur le routeur. Chaque ligne est composée de l'adresse IP de la source du message, l'adresse IP de la destination du message, et la taille du message en nombre de bytes. De plus, le fichier de logs a été préalablement trié sur base des adresses sources et ensuite, pour les messages autant la même adresse source, sur base des adresses de destination.</p>
                            <p>Nous vous demandons de construire un programme qui prend en paramètres le nom d'un fichier de logs et qui affiche à l'écran, pour chaque couple d'adresses source et destination présent dans le fichier de logs, la somme totale des tailles des messages qui ont transité par le routeur.</p>
                            <p>Par exemple, si votre programme traite le fichier suivant :</p>
<pre><code>192.168.0.3 192.168.0.4 1024
192.168.0.3 192.168.0.4 1024
192.168.0.3 192.168.0.5 512
192.168.0.4 192.168.0.6 512
192.168.0.4 192.168.0.6 512
192.168.0.4 192.168.0.6 1024</code></pre>
                            <p>Il affichera les lignes suivantes :</p>
<pre><code>192.168.0.3 192.168.0.4 2048
192.168.0.3 192.168.0.5 512
192.168.0.4 192.168.0.6 2048</code></pre>
<pre><code class="html">#!/usr/bin/python3

import re
import sys

nomFichier = sys.argv[1]
dico = {}

with open(nomFichier, 'r') as f :
    for ligne in f :
        liste = re.split('\s', ligne)
        cle = (liste[0], liste[1])
        valeur = int(liste[2])
        
        if cle in dico :
            dico[cle] += valeur
        else :
            dico[cle] = valeur

sorted(dico.items(), key = lambda x : x[0][0])
for item in dico.items() :
    print(item[0][0] + ' ' + item[0][1] + ' ' + str(item[1]))</code></pre>
                        </li>
                        <li>
                            <p>Cet exercice est une extension de l'exercice précédent. Pour chaque routeur source, affichez aussi la somme totale des tailles de tous les messages qui ont été envoyés par ce routeur. De plus, affichez, en dernier, la somme totale des tailles de tous les messages qui ont transités par le routeur. L'affichage se fera de la même manière que dans l'exemple ci-dessous. Si votre programme traite le même fichier que dans l'exercice précédent, il affichera les lignes suivantes :</p>
<pre><code>&gt;&gt;&gt;&gt;&gt; 192.168.0.3 192.168.0.4 2048
&gt;&gt;&gt;&gt;&gt; 192.168.0.3 192.168.0.5 512
--&gt; 192.168.0.3 2560
&gt;&gt;&gt;&gt;&gt; 192.168.0.4 192.168.0.6 2048
--&gt; 192.168.0.4 2048
4608</code></pre>
                        </li>
                    </ol>
                </article>
                <article>
                    <h2 id="poo">Python : Programmation Orientée Objet :</h2>
                    <p>Ce qui va suivre provient du <a href="https://openclassrooms.com/fr/courses/7150616-apprenez-la-programmation-orientee-objet-avec-python" target="_blank">cours d'OpenClassRooms "Apprenez la programmtion orientée objet avec Python"</a> !</p>
                    <p>Comme dans la plupart des langages de programmation, chaque déclaration de la classe commence avec le mot-clé <span class="html">class</span> suivi du nom de cette classe.</p>
                    <p>Voici un exemple :</p>
<pre><code class="html">class Rectangle :
    width = 3
    height = 2

    def calculate_area(self) :
        return self.width * self.height</code></pre>
                    <p>Dans l'exemple ci-desus, notre classe s'appelle Rectangle. Les noms de classe, par convention, commencent par une majuscule. S'il y a plusieurs mots dans le no d'une classe, on utilise générlement le CapitalizedCase (la différence avec le kamelCase est que la première lettre est également en majuscule), en mettant une majuscule à la première lettre de chaque mot.</p>
                    <p>Toutes les variables et méthodes qui composent cette classe (ses "<span class="em">attributs</span>") sont définies en dessous dans sa portée ("scope", en anglais), avec une identation supplémentaire de 4 espaces (pas de TAB).</p>
                    <p>Quand on déclare une méthode, on utilise le mot-clé <span class="html">def</span> - exactement comme pour les fonctons. Les méthodes d'instance incluent <span class="em">toujours</span> "<span class="html">self</span>" en premier paramètre. Ce paramètre référence l'objet lui-même, et il permet d'accéder à ses autres attributs.</p>
                    <p>Note : en programmation orientée objet, il existe trois types d'attributs :</p>
                    <ul>
                        <li>
                            <p>les attributs <span class="em">d'instance</span> (propres aux instances créées)</p>
                            <p>Ils sont des variables définies à l'aide de <span class="html">self</span>. Elles sont relatives à l'instance, et ne peuvent être accédées sans instanciation. Dans le cadre des méthodes, ce sont les méthodes classiques d'une classe, qui possèdent <span class="html">self</span> <span class="em">en premier paramètre</span>.</p>
                        </li>
                        <li>
                            <p>les attributs <span class="em">de classe</span> (propres à la classe, et partagés entre les instances)</p>
                            <p>Ils sont des variables définies directement dans le <span class="em">corps de la classe</span>. Elles peuvent être accédées pae la classe, sans passer par l'instanciation. Les attributs de classe peuvent se <span class="em">référencer entre eux</span>, mais ne peuvent pas accéder aux attributs d'instance.</p>
                            <p>Dans le cadre des méthodes, elles seront précédées par un <span class="html">@classmethod</span>, et leur premier paramètre sera <span class="html">cls</span> (à la place de <span class="html">self</span>).</p>
                            <p>Information : les attributs de classe sont souvent utilisés pour créer des données ou des actions globales à la classe, qui <span class="em">ne dépendent pas</span> d'une instance. Les instances peuvent cependant y accéder. Modifier un attribut de classe dans une instance le modifiera dans <span class="em">toutes les autres</span> !</p>
                        </li>
                        <li>
                            <p>les attributs <span class="em">statiques</span> (qui sont presque indépendants de la classe)</p>
                            <p>Ils sont des attributs qui n'ont pratiquement <span class="em">aucun lien</span> avec la classe. Seules les <span class="em">méthodes</span> peuvent être <span class="em">statiques</span>, et l'ajout parr rapport aux attributs de classe est <span class="em">minime</span> : on n'a plus besoin de spécifier le paramètre <span class="html">cls</span>. Pour créer un attribut statique, il suffit de faire précéder la méthode par <span class="html">@staticmethod</span>.</p>
                        </li>
                    </ul>
                    <p>Attention : je vous recommande de privilégier les <span class="em">attributs d'instance</span> qui permettent d'utiliser la programmation orientée objet à son <span class="em">plein potentiel</span>. Les attributs de classe peuvent être <span class="em">très utiles</span>, mais sont censés être <span class="em">plus rares</span>. Enfin, les attributs statiques sont à <span class="em">l'opposé</span> du paradigme orienté objet : évitez de les utiliser, quitte à utiliser un attribut de classe à la place.</p>
                    <p>Si chaque type d'attribut possède une utilité propre, essayez autant que possible de privilégier les attributs d'instance, qui permettent d'utiliser la programmation orientée objet à son plein potentiel.</p>
                    <p>Enfin, vous avez les variables - elles permettent de définir des valeurs par défaut à nos objets. Ici, nous avons défini des attributs dits "de classe", et ces variables seront partagées par toutes les autres instances de la classe <span class="em">Rectangle</span>.</p>
                    <p>Attention : Contrairement à certains autres langages de programmation, avec Python il n'est pas nécessaire de prédéfinir les variables existant dans votre classe, ou leur type, à l'avance.</p>
                    <p>Note sur le paramètre self : le nom "self" n'est qu'une <span class="em">convention</span> : on pourrait tr!s bien le renommer en "instance_actuelle" ou "this", ou ecore "toto". Votre code <span class="em">fonctionnerait aussi bien</span>. C'est cependant une convention <span class="em">très forte</span> en Python, donc prenez-la au mot.</p>
                    <p>Il existe une catégorie spéciale de méthode nommée <span class="em">constructeur</span>. Chaque classe en a un, et il est utilisé pour créer des objets à partir de cette classe. En Python, notre constructeur est une méthode magique nommée <span class="html">__init__</span>, que l'on peut utiliser un peu comme ceci :</p>
<pre><code class="html">class Rectangle :
    def __init__(self, length, width, color="red") :
        self.length = length
        self.width = width
        self.color = color
</code></pre>
                    <p>Une méthode "magique" parce qu'elle modifie le comportement interne de la classe. En Python, il existe plusieurs méthodes magiques, qui comment et se terminent par deux underscores (ou "dunders").</p>
                    <p>Les constructeurs vous permettent de passer des valeurs initiales à un objet en cours de création. En définissant des valeurs plutôt dans le constructeur que dans la classe, nous pouvons initialiser des objets <span class="em">avec différentes longueurs et largeurs</span>. De plus, les attributs définis dans la méthode magique <span class="html">__init__</span> ne seront pas partagés par les autres instances. Ce sont des <span class="em">attributs d'instance</span>, qui seront propres à chaque objet créé.</p>
                    <p>Le <span class="em">color="red"</span> est un raccourci très pratique - vous pouvez appeler ce constructeur en définissant ou non une couleur. Si vous ne spécifiez pas de couleur, la  valeur ("red", soit rouge) sera utilisée par dédfaut. Vous pouvez créer des "paramètres optionnels" dans toute méthode ou fonction. Assuez-vous simplement que vos paramètres optionnels se trouvent après les autres paramètres dans la liste.</p>
                    <p>La plupart des classes auront besoin d'un constructeur. Si vous n'en fournissez pas, Python utilisera - ce qui est commode - un constructeur par défaut qui ne fait rien. Note : ce constructeur par défaut fait partie de la classe "objet" dont toutes les classes héritent, mais nous y reviendrons plus tard.</p>
                    <p>Vous ne savez pas encore comment implémenter certaines méthodes. Ce n'est pas grave, laissez simplement le corps de la méthode vide. En Python, nous pouvons utiliser pour cela le mot-clé <span class="html">pass</span>, comme ceci :</p>
<pre><code class="html">def empty_method(self, length) :
    pass</code></pre>
                    <p>Nous utilisons ces constructeurs pour créer des objets d'une classe spécifique. Par exemple, pour créer un <span class="em">Rectangle</span> de longueur 5 et de largeur 3 :</p>
<pre><code class="html">rectangle = Rectangle(5, 3)</code></pre>
                    <p>Attention : il est important que les paramètres que vous fournissez correspondent aux paramètres du constructeur, c'est-à-dire que ça inclut les positions des paramètres dans le constructeur.</p>
                    <p>Lorsque nous instancions un objet, nous devons habituellement l'affecter à une variable pour pouvoir l'utiliser.</p>
                    <p>Dans l'exemple précédent, le rectanle de dimension 5 sur 3 est rouge car "rouge" est la valeur par défaut du paramètre optionnel du constructeur "color". On peut également utiliser l'une de ces deux options pour spécifier une couleur :</p>
<pre><code class="html">rect1 = Rectangle(1, 2, "blue")
rect2 = Rectangle(3, 1, color="pink")</code></pre>
                    <p>La deuxième option est plus explicite, et moins susceptible de prêter à confusion si vous avez plusieurs paramètres optionnels.</p>
                    <p>Notez que vous pouvez aussi nommer les paramètres obligatoires (<span class="html">rectangle = Rectangle(length=2, width=3, color="white")</span>). Le nommahe des paramètres peut être une grande aide à la lecture du code, pensez-y !</p>
                    <p>Nous pouvons accéder aux attributs d'un objet et leur affecter des valeurs comme ceci :</p>
<pre><code class="html">rectangle = Rectangle(5, 3)
print(rectangle.length)
rectangle.color = "yellow"</code></pre>
                    <p>Les attributs <span class="em">rectangle.length</span> et <span class="em">rectangle.color</span> fonctionnent ici exactement comme d'autres variables le feraient - ils peuvent faire partie d'expressions ou de calculs, être passés comme paramètres à des fonctions/méthodes, et être modifiés. Le grand intérêt des objets est que leurs valeurs sont stockées en eux. Vous pouvez donc passer le rectangle de fonction fonction en modifiant ses attributs, il gardera en mémoire ses modifications sur le temps.</p>
                    <p>Nous pouvons également assigner des variables aux retours de méthodes, comme les fonctions :</p>
<pre><code class="html">area = rectangle.calculate_area()
print(area)</code></pre>
                    <p>Python s'occupe de l'argument <span class="html">self</span> de la méthode calculate_area() pour nous ! Comme self fait simplement référence à cet objet, Python sait déjà sur quel objet vous invoquez la méthode. En fait, lors de l'appel d'une méthode d'instance, Python passe l'instance rectangle en tant que premier argument "self" à la classe Rectangle, sans crier garde ! Faire <span class="em">rectangle.calculate_area()</span> revient à faire <span class="em">Rectangle.calculate_area(rectangle)</span> ! Vous avouerez que la première version est plus élégante et compréhensible.</p>
                    <p>Comme dit précédemment, les variables et les méthodes sont des attributs de classe. Donc, il existe également une méthode magique qui récupère la valeur de l'attribut, <span class="html">__getattribute__(name_of_attribute)</span>.</p>
<pre><code class="html">rectangle = Rectangle(5, 3)
color = rectangle.__getattribute__('color')
print(color)
calculate_area = rectangle.__getattribute__('calculate_area')
print(calculate_area())

# revient à la même chose que :

rectangle = Rectangle(5, 3)
print(rectangle.color)
print(rectangle.calculate_area())</code></pre>
                    <p>L'une des choses les plus utiles de la programmation orientée objet, c'est le cconcept <span class="em">d'heritage</span>. L'héritage vous permet de créer une <span class="em">sous-classe</span> (ou classe <span class="em">enfant</span>) d'une classe <span class="em">parent</span>, qui contient les attributs du parent ansi que d'autres attributs spécifiques à l'enfant.</p>
                    <p>Nous utilisons l'héritage en programmation orientée objet pour plusieurs raisons différentes, mais liées entre elles :</p>
                    <ol>
                        <li>
                            <p>La raison la plus simple est la même que celle celle pour laquelle nous écrivons des fonctions - la <span class="em">réutilisabilité</span>.</p>
                        </li>
                        <li>
                            <p>L'héritage permet également l'<span class="em">extensibilité</span> - c'est-à-dire la possibilité d'étendre la fonctionnalité d'un programme sans avoir à modifier le code existant.</p>
                        </li>
                        <li>
                            <p>Enfin, l'un des avantages de l'héritage concerne la façon dont nous concevons les systèmes. L'héritage , et les classes en général, nous permettent d'<span class="em">exprimer des relations</span> entre différentes parties de notre code.</p>
                            <p>Tout comme nous regroupons des données et du code au sein d'un paquet en utilisant les classes, nous relions les classes qui sont conceptuellement apparentées grâce à l'héritage.</p>
                            <p>Les classes et l'héritage sont utiles, car ils rendent les systèmes plus faciles à comprendre. Cela permet aux développeurs et aux équipes de développement de construire les <span class="em">modèles conceptuels</span> des comportements et des données dans le système - ce qui prend encore plus d'importance lors de la maintenance et de l'extension de projets vastes et complexes.</p>
                            <p>L'élément principal de syntaxe utilisé pour définir les sous-classes se trouve dans la définition de classe elle-même : <span class="em">FilmCassette(Film)</span>. Le parent de la classe est placé entre parenthèses après le nom de la classe dans la toute première ligne de la classe !</p>
                            <p>Le principal intérêt de l'héritage est <span class="em">d'étendre</span> notre classe de base, en lui ajoutant des attributs !</p>
                            <p>En cas d'<span class="em">héritage multiple</span> - sujet que nous aborderons brièvement plus loin - les classes parents sont séparées par des parenthèses, de façon similaire à celle dont fonctionnent les paramètres de fonctions, comme ceci :<span class="html">class SousClasse(ParentUn, ParentDeux, ...)</span>.</p>
                            <p>Si vous ne spécifiez pas de classe parent, vous dites en fait à Python de faire de la classe une sous-classe d'<span class="html">Object</span>. <span class="html">Object</span> constitue la base de toutes les classes, ce qui peut prêter à confusion. Vous vous souvenez que toutes les classes possèdent un constructeur sans argument par défaut ? C'est parce qu'elles héritent d'<span class="html">Object</span>.</p>
                        </li>
                    </ol>
                    <p>La <span class="em">surcharge</span> désigne le concept selon lequel une classe enfant crée une <span class="em">nouvelle implémentation</span> d'une <span class="em">méthode héritée</span>. Lorsqu'une méthode dans une classe enfant est créée avec le même nom et la même signature (nom et liste de paramètres) qu'une méthode dans le parent, la méthode enfant l'emporte.</p>
                    <p>ABC signifie "Abstract Base Class", ou "classe de base abstraite". Il s'agit du mécanisme utilisé par Python pour implémenter ce que l'on nomme une <span class="em">classe abstraite</span>.</p>
                    <p>Une classe abstraite est une classe <span class="em">qui ne peut pas être instanciée</span> - la seule façon de l'utiliser est de créer une sous-classe. Une classe abstraite peut aussi insister pour qu'une méthode soit implémentée par ses enfants. Essayez de trouver le décorateur <span class="html">@abstractmethod</span> dans la documentation Pythonn.</p>
                    <p>Voici un exemple :</p>
<pre><code class="html">from abc import ABC # permet de définir des classes de base

class Shape(ABC) :
    def area(self) :
        return 0
    
class Square(Shape) :
    def __init__(self, length) :
        self.length = length
    
    def area(self) :
        return length * length</code></pre>
                    <p>Bien que la surcharge nous permette de modifier entièrement des comportements hérités, il peut parfois êrtre utile d'avoir accès au code des méthodes des classes parents, depuis les classes enfants.</p>
                    <p>L'un des emplacements les plus courants pour cette utilisation se trouve dans les constructeurs. Pour cela, nous utilisons <span class="html">super()</span> - comme ceci :</p>
<pre><code class="html">class Drink :
    """Une boisson."

    def __init__(self, price) :
        """Initialise un prix."""
        self.pricee = price
    
    def drink(self) :
        """Boire la boisson."""
        print("Je ne sais pas ce que c'est, mais je le bois.")
    
class Coffee(Drink) :
    """Café."""
    
    prices = {"simple": 1, "serré": 1, "allongé": 1.5}
    
    def __init__(self, type) :
        """Initialise le type du café."""
        self.type = type
        super().__init__(price=self.prices.get(type, 1))
    
    def drink(self) :
        """Boire le café."""
        print("Un bon café pour me réveiller !")</code></pre>
                    <p>L'approche avec <span class="html">super()</span> vous permet de réutiliser le code plutôt que de le copier, et assure le regroupement des fonctionnalit&s de façon logique - soit <span class="em">deux des plus grands avantages</span> de la programmation orientée objet !</p>
                    <p>Si une classe peut avoir une classe parent, alors logiquement cette classe parent peut également avoir un parent ! C'est une <span class="em">hiérarchie d'héritage</span> qui émerge de cela, car il y a de multiples niveaux d'héritage. En haut de la hiérarchie, on trouve la classe de base.</p>
                    <p>Comme toutes les classes héritent d'<span class="html">Object</span> en Python, elles auront une classe de base commune. Néanmois, on ne fait généralement pas figurer <span class="html">Object</span> sur les digrammes d'héritage, car il n'est pas très utile de l'inclure.</p>
                    <p>L'<span class="em">héritage multiple</span> suppose qu'une classe ait de <span class="em">multiples calasses parents</span>. Dans une hiérarchie d'héritahe, il y a plusieurs niveaux d'héritage - une classe <span class="em">a un parent qui a un parent</span>.</p>
                    <p>L'héritage multiple a <span class="em">mauvaise réputation</span> en programmation orientée objet - les systèmes qui utilisent l'héritahe multiple peuvent être difficiles à comprendre. De plus, certains langages de programmation proposent des implémentations médiocres d'héritages multiples qui provoquent des problèmes.</p>
                    <p>Le plus souvent, l'héritage multiple <span class="em">n'est pas une solution</span> à votre problème, mais il n'en reste pas moins qu'il existe quelques situations oµ il représente la meilleure solution possible. En tout cas, comme vous risquez de rencontrer l'héritage multiple dans votre activité professionnelle, nous le traiterons donc ici.</p>
                    <p>Le modèle que nous avons utilisé ici est souvent nommé un <span class="em">Mixin</span> - nommé ainsi car vous ajoutez ("mix in") une fonctionnalité nécessaire. Si vous avez programmé en d'autres langages, vous connaissez peut-être les <span class="em">interfaces</span>, <span class="em">traits</span>, ou <span class="em">classes de types</span> - qui sont tous des concepts similaires, mais distincts.</p>
                    <p>Le problème du diamant (ou le "Deadly Diamond of Death", soit littéralement le "diamant de la mort qui tue") est l'un des problèmes principaux de l'héritage multiple qui se passe quand deux classes parents implémentent la même méthode.</p>
                </article>
                <article>
                    <h2 id="enum">Les énumérations :</h2>
                    <p>Ce qui va suivre a été copié de <a href="https://docs.python.org/fr/3.7/library/enum.html" target="_blank">la documentation sur les énumérations de Python 3.7.</a> !</p>
                    <p>Une énumération est un ensemble de noms symboliques, appelés <span class="em">membres</span>, liés à des valeurs constantes et uniques. Au sein d'une énumération, les membres peuvent être comparés entre eux et il est possible d'itérer sur l'énumération elle-même.</p>
                    <h3 id="contenu_module_enum">Contenu du module :</h3>
                    <p>Ce mdule définit quatre classes d'énumération qui permettent de définir des ensembles uniques de noms et de valeurs : <a href="#enum_class">Enum</a>, <a href="#intenum_class">IntEnum</a>, <a href="#flag_class">Flag</a> et <a href="#intflag_class">IntFlag</a>. Il fournit également un décorateur, <a href="#unique_decorateur">unique()</a>, ainsi qu'une classe utilitaire, <a href="#auto_class">auto</a>.</p>
                    <dl>
                        <dt id="enum_class" class="html">
                            <p>class enum.Enum</p>
                        </dt>
                        <dd>
                            <p>Classe de base pour créer une énumération de constantes.</p>
                        </dd>
                        <dt id="intenum_class" class="html">
                            <p>class enum.IntEnum</p>
                        </dt>
                        <dd>
                            <p>Classe de base pour créer une énumération de constantes qui sont également des sous-classes de <a href="https://docs.python.org/fr/3.7/library/functions.html#int" target="_blank">int</a>.</p>
                        </dd>
                        <dt id="intflag_class" class="html">
                            <p>class enum.IntFlag</p>
                        </dt>
                        <dd>
                            <p>Classe de base pour créer une énumération de constantes pouvant être combinées avec des opérateurs de comparaison bit-à-bit, sans perdre leur qualité de IntFlag. Les membres de IntFlag sont aussi des sous-classes de <a href="https://docs.python.org/fr/3.7/library/functions.html#int" target="_blank">int</a>.</p>
                        </dd>
                        <dt id="flag_class" class="html">
                            <p>class enum.Flag</p>
                        </dt>
                        <dd>
                            <p>Classe de base pour créer une énumération de constantes pouvant être combinées avec des opérateurs de comparaison bit-à-bit, sans perdre leur qualité de Flag.</p>
                        </dd>
                        <dt id="unique_decorateur" class="html">
                            <p>enum.unique()</p>
                        </dt>
                        <dd>
                            <p>Décorateur de classe qui garantit qu'une valeur ne puisse être associée qu'à un seul nom.</p>
                        </dd>
                        <dt id="auto_class" class="html">
                            <p>class enum.auto</p>
                        </dt>
                        <dd>
                            <p>Les instances sont remplacées par une valeur appropriée pour les membres Enum. La valeur initiale commence à 1.</p>
                        </dd>
                    </dl>
                    <h3 id="creation_enum">Création d'une Enum :</h3>
                    <p>Une énumération est créée comme une <span class="html">class</span>, ce qui la rend facile à lire et à écrire. Une autre méthode de création est décrite dans <a href="https://docs.python.org/fr/3.7/library/enum.html#functional-api" target="_blank">API par fonction</a>. Pour définir une énumération, il faut hériter de <span class="html">Enum</span> de la manière suivante :</p>
<pre><code class="html">&gt;&gt;&gt;from enum import Enum
&gt;&gt;&gt;class Color (Enum) :
... RED = 1
... GREEN = 2
... BLUE = 3
...</code></pre>
                    <p>Note : La valeur d'un membre peut être de n'importe quel type : <span class="html">int</span>, <span class="html">str</span>, etc. Si la valeur exacte n'a pas d'importance, utilisez des instances de <span class="html">auto</span> et une valeur appropriée sera choisie pour vous. Soyez vigilant si vous mélangez <span class="html">auto</span> avec d'autres valeurs.</p>
                    <p>Note : Nomenclature :</p>
                    <ul>
                        <li>
                            <p>La classe <span class="em">Color</span> est une énumération (ou un enum).</p>
                        </li>
                        <li>
                            <p>Les attributs <span class="em">Color.RED</span>, <span class="em">Color.GREEN</span>, etc., sont les membres de l'énumération (ou les membres de l'enum) et sont fonctionnellement des constantes.</p>
                        </li>
                        <li>
                            <p>Les membres de l'enum ont chacun un nom et une valeur; le nom de <span class="em">Color.RED</span> est <span class="em">RED</span>, la valeur de <span class="em">COLOR.BLUE</span> est <span class="em">3</span>, etc.</p>
                        </li>
                    </ul>
                    <p>Note : Même si on utilise la syntaxe en <span class="html">class</span> pour créer des énumérations, les Enums ne sont pas des vraies classes Python. <a href="https://docs.python.org/fr/3.7/library/enum.html#how-are-enums-different" target="_blank">En quoi les Enums sont différentes des vraies classes Python ?</a></p>
                    <p>Les membres d'une énumération ont une représentation en chaîne de caractères compréhensible par un humain :</p>
<pre><code class="html">&gt;&gt;&gt;print(Color.RED)
Color.RED</code></pre>
                    <p>... tandis que leur <span class="html">repr</span> contient plus d'informations :</p>
<pre><code class="html">&gt;&gt;&gt;print(repr(Color.RED))
&lt;Color.RED: 1&gt;</code></pre>
                    <p>Le type d'un membre est l'énumération auquel ce membre appartient :</p>
<pre><code class="html">&gt;&gt;&gt;type(Color.RED)
&lt;enum 'Color'&gt;
&gt;&gt;&gt;isinstance(Color.GREEN, Color)
True
&gt;&gt;&gt;</code></pre>
                    <p>Les membres ont également un attribut qui contient leur nom :</p>
<pre><code class="html">&gt;&gt;&gt;print(Color.RED.name)
RED</code></pre>
                    <p>Les énumérations sont itérables, l'ordre d'itération est celui dans lequel les membres sont déclarés :</p>
<pre><code class="html">&gt;&gt;&gt;class Shake(Enum) :
... VANILLA = 7
... CHOCOLATE = 4
... COOKIES = 9
... MINT = 3
...
&gt;&gt;&gt;for shake in Shake :
... print(shake)
...
Shake.VANILLA
Shake.CHOCOLATE
Shake.COOKIES
Shake.MINT</code></pre>
                    <p>Les membres d'une énumération sont hachables, ils peuvent ainsi être utilisés dans des dictionnaires ou des ensembles :</p>
<pre><code class="html">&gt;&gt;&gt;apples = {}
&gt;&gt;&gt;apples[Color.RED] = 'red delicious'
&gt;&gt;&gt;apples[Color.GREEN] = 'granny smith'
&gt;&gt;&gt;apples == {Color.RED : 'red delicious', Color.GREEN : 'granny smith'}
True</code></pre>
                    <h3 id="acces_dynamique_membres_attributs">Accès dynamique aux membres et à leurs attributs :</h3>
                    <p>Il est parfois utile de pouvoir accéder dynamiquement aux membres d'une énumération (par exemple dans des situations où ils ne suffit pas d'utiliser <span class="em">Color.RED</span> car la couleur précise n'est pas connue à l'écriture du programme). <span class="html">Enum</span> permet de tels accès :</p>
<pre><code class="html">&gt;&gt;&gt;Color(1)
&lt;Color.RED: 1&gt;
&gt;&gt;&gt;Color(3)
&lt;Color.BLUE: 3&gt;</code></pre>
                    <p>Pour accéder aux membres par leur nom, utilisez l'accès par indexation :</p>
<pre><code class="html">&gt;&gt;&gt;Color['RED']
&lt;Color.RED: 1&gt;
&gt;&gt;&gt;Color['GREEN']
&lt;Color.GREEN: 2&gt;</code></pre>
                    <p>Pour obtenir l'attribut <span class="html">name</span> ou <span class="html">value</span> d'un membre :</p>
<pre><code class="html">&gt;&gt;&gt;member = Color.RED
&gt;&gt;&gt;member.name
'RED'
&gt;&gt;&gt;member.value
1</code></pre>
                    <h3 id="duplication_membres_valeurs">Duplications de membres et de valeurs :</h3>
                    <p>Il n'est pas possible d'avoir deux membres du même nom dans un enum :</p>
<pre><code class="html">&gt;&gt;&gt;class Shape(Enum) :
... SQUARE = 2
... SQUARE = 3
...
<span class="em">Traceback (most recent call last):
...
TypeError: Attempted to reuse key: 'SQUARE'</span></code></pre>
                    <p>Cependant, deux membres peuvent avoir la même valeur. Si deux membres A et B ont la même valeur (et que A est défini en premier), B sera un alias de A. Un accès par valeur avec la valeur commune à A et B renverra A. Un accès à B par nom renverra aussi A :</p>
<pre><code class="html">&gt;&gt;&gt;class Shape(Enum) :
... SQUARE = 2
... DIAMOND = 1
... CIRCLE = 3
... ALIAS_FOR_SQUARE = 2
...
&gt;&gt;&gt;Shape.SQUARE
&lt;Shape.SQUARE: 2&gt;
&gt;&gt;&gt;Shape.ALIAS_FOR_SQUARE
&lt;Shape.SQUARE: 2&gt;
&gt;&gt;&gt;Shape(2)
&lt;Shape.SQUARE: 2&gt;</code></pre>
                    <p>Note : Il est interdit de créer un memvre avec le même nom q'un attribut déjà défini (un autre membre, une méthode, etc.) ou de créer un attribut avec le nom d'un membre.</p>
                    <p><a href="https://docs.python.org/fr/3.7/library/enum.html#ensuring-unique-enumeration-values" target="_blank">Le reste de la documentation sur les Enums en Python.</a></p>
                </article>
            <!-- fin de section -->
            </section>
        </main>
        <footer role="contentinfo">
            <div>
                <address>
                    Professeurs :
                    <a class="mail" href="mailto:olivier.choquet@vinci.be">Choquet Olivier</a>
                    <a class="mail" href="mailto:driss.vandenheede.techinfo@gmail.com">Vandenheede Driss</a>
                </address>
            </div>
            <div>
                <p>Si vous détectez une erreur, une faute d'orthographe, n'hésitez pas à envoyer un mail aux adresses juste à côté avec le nom de la page et l'erreur détectée.</p>
            </div>
            <div id="version">
                <p>Syllabus HTML</p>
                <p>Version 5.0</p>
            </div>
        </footer>
    </body>
</html>