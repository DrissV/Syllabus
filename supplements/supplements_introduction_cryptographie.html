<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <meta name="author" content="Choquet Olivier & Vandenheede Driss">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Introduction à la cryptographie - Suppléments - e-Syllabus HTML5 et CSS3</title>
        <!-- une icône dans la barre du navigateur -->
        <link rel="icon" href="../images/favicon.png" type="image/png">
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <!-- liens d'évitement -->
        <ul class="a11y-nav">
            <li>
                <a href="#container">Passer directement au contenu</a>
            </li>
            <li>
                <a href="#menu">Accéder au menu secondaire de la page</a>
            </li>
            <li>
                <a href="#aside">Accéder aux liens utiles</a>
            </li>
        </ul>
        
        <!-- bannière et menu -->
        <header role="banner">
            <div class="logoTitle">
                <h1>Cours d'introduction au Web</h1>
                <h2>HTML5 et CSS3</h2>
            </div>
            <nav role="navigation" aria-label="Menu principal de navigation">
                <ul>
                    <li><a href="../index.html">Le cours</a></li>
                    <li><a href="../internet.html">Internet</a></li>
                    <li><a href="../html5.html">HTML5</a></li>
                    <li><a href="../css3.html">CSS3</a></li>
                    <li><a href="../methodologie.html">Méthodologie</a></li>
                    <li><a href="../lexique.html">Lexique</a></li>
                    <li><a href="../supplements.html" class="current">Suppléments</a></li>
                </ul>
            </nav>
        </header>

        <div id="menu">
            <nav role="navigation" aria-label="Menu secondaire">
                <ol>
                    <li><a href="../supplements.html">Retour au sommaire</a></li>
                    <li><a href="#introduction">Introduction</a></li>
                    <li><a href="#histoire">Un peu d'histoire</a></li>
                    <li><a href="#cryptographie_moderne">La cryptographie moderne</a></li>
                    <li><a href="#cryptage_symetrique">Cryptage symétrique</a></li>
                    <li><a href="#modes_operation">Les modes d'opération</a></li>
                </ol>
            </nav>
            
            <!-- aside lié à la page et pas à l'article donc pas à l'intérieur de article -->
            <aside id="aside" role="complementary">
                <p>Liens utiles :</p>
                <ul>
                    <li><a href="https://www.youtube.com/c/LeDesignerduWeb/videos">Le Designer du web</a></li>
                </ul>
            </aside>
        </div>
        
        <main id="container" role="main" tabindex="-1">
            <section id="mainSection">
                <article>
                    <h1>Introduction à la cryptographie :</h1>
                    <figure>
                        <img src="../images/Shannon.jpg" alt="">
                        <figcaption>
                            <p>Claude Elwood Shannon</p>
                            <p>(1916-2001)</p>
                        </figcaption>
                    </figure>
                </article>
                <article>
                    <h2 id="introduction">Introduction :</h2>
                    <h3>Objectifs :</h3>
                    <ul>
                        <li>
                            <p>Aperçu des principaux outils cryptographiques modernes :</p>
                            <ul>
                                <li>
                                    <p>Chiffrement</p>
                                </li>
                                <li>
                                    <p>Codes d'authentification des messages (MAC - Message Authenticaton Codes)</p>
                                </li>
                                <li>
                                    <p>Signature</p>
                                </li>
                                <li>
                                    <p>PKI</p>
                                </li>
                                <li>
                                    <p>...</p>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <p>Approche descendante à partir d'exemples concrets :</p>
                            <ul>
                                <li>
                                    <p>Approche fonctionnelle</p>
                                </li>
                                <li>
                                    <p>Comment ça marche</p>
                                </li>
                                <li>
                                    <p>Ce qu'il fait</p>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <p>Je ne vais pas vous transformer en cryptographes en quelques heures !</p>
                        </li>
                    </ul>
                    <h3>Cryptographie :</h3>
                    <p>C'est la science de la sécurité de l'information.</p>
                    <ul>
                        <li>
                            <p>confidentialité</p>
                        </li>
                        <li>
                            <p>l'intégrité des données</p>
                        </li>
                        <li>
                            <p>authentification de l'entité</p>
                        </li>
                        <li>
                            <p>authentification de l'origine des données</p>
                        </li>
                    </ul>
                    <p>Il y a deux disciplines :</p>
                    <ul>
                        <li>
                            <p>cryptographie : conception de primitives, ...</p>
                        </li>
                        <li>
                            <p>cryptanalyse : analyse de sécurité, attaques, ...</p>
                        </li>
                    </ul>
                    <h3>Où trouve-t-on la cryptographie ?</h3>
                    <div>
                        <img src="../images/cryptographie.PNG" alt="" class="float_right">
                        <ul>
                            <li>
                                <p>Authentification/contrôle d'accès</p>
                            </li>
                            <li>
                                <p>Cryptage</p>
                            </li>
                            <li>
                                <p>Signature numérique</p>
                            </li>
                            <li>
                                <p>Commerce électronique</p>
                            </li>
                            <li>
                                <p>... et bien plus encore</p>
                            </li>
                        </ul>
                    </div>
                </article>
                <article>
                    <h2 id="histoire">Un peu d'histoire :</h2>
                    <h3>La scytale :</h3>
                    <div>
                        <img src="../images/scytale.png" alt="" class="float_right">
                        <ul>
                            <li>
                                <p>Sparte, 400 avant JC</p>
                            </li>
                            <li>
                                <p>Un ruban est enroulé autour d'un bâton.</p>
                            </li>
                            <li>
                                <p>Le message est écrit sur le ruban.</p>
                            </li>
                            <li>
                                <p>Le ruban est déroulé et remis au messager.</p>
                            </li>
                            <li>
                                <p>Pour décrypter, il faut un bâton du même diamètre (= clé).</p>
                            </li>
                        </ul>
                    </div>
                    <h4>La scytale : Formalisation :</h4>
                    <p>Cela équivaut à :</p>
                    <ul>
                        <li>
                            <p>Écrire un texte en lignes de taille fixe</p>
                        </li>
                        <li>
                            <p>Le transposer en colonnes</p>
                        </li>
                        <li>
                            <p>Clé = largeur de ligne</p>
                        </li>
                    </ul>
                    <p>Il s'agit d'un <span class="em">chiffrage de transposition</span> : les symboles sont déplacés, mais leur valeur ne change pas.</p>
                    <p>Bien sûr, assez facile à casser.</p>
                    <img src="../images/scytale_1.PNG" alt="">
                    <h3>Le cryptage de César :</h3>
                    <p>Chaque lettre du message est remplacée par celle située x places plus loin dans l'alphabet.</p>
                    <p>Exemple : x = 3.</p>
                    <img src="../images/chiffrement_cesar.PNG" alt="">
                    <p>Il s'agit d'un <span class="em">chiffrement de substitution</span> : les symboles sont remplacés selon une certaine transformation, mais leur position ne change pas.</p>
                    <p><span class="em">La transposition</span> et <span class="em">la substitution</span> sont toujours au coeur des chiffrements symétriques modernes.</p>
                    <h3>Transposition et substitution dans les chiffrements modernes :</h3>
                    <img src="../images/transposition_substitution_cipher.PNG" alt="">
                    <div>
                        <img src="../images/transposition_substitution_cipher_1.png" alt="" class="float_right">
                        <p>Répétez 16 fois.</p>
                        <p>Il s'agit de la norme de cryptage des données (DES - Data Encryption Standard).</p>
                    </div>
                    <h3>Cryptage du livre de codes (codebook) :</h3>
                    <p>C'est un dictionnaire (secret) contenant un (ou plusieurs) mot(s) de remplacement pour chaque mot en clair.</p>
                    <p>Si le livre est pris par des ennemis, les secrets sont perdus.</p>
                    <p>Si le même mot de remplacement est utilisé trop souvent, une analyse de fréquence devient possible.</p>
                    <p>Remarque : des variantes étaient encore utilisées pendant la Seconde Guerre mondiale (par exemple : code Navajo).</p>
                    <h4>Exemple :</h4>
                    <img src="../images/exemple_codebook.jpg" alt="">
                    <h3>L'avènement des télécoms :</h3>
                    <img src="../images/advent_telecom.png" alt="">
                    <h3>L'espionnage en 1914-18 :</h3>
                    <img src="../images/spying_1914_1918.png" alt="">
                    <h3>Enigma :</h3>
                    <img src="../images/enigma.png" alt="">
                    <h3>La Bombe et Enigma :</h3>
                    <img src="../images/bombe_enigma.png" alt="">
                    <h3>NSA (600 mathématiciens, 120 doctorats en mathématiques) :</h3>
                    <img src="../images/NSA.png" alt="">
                    <h3>Internet :</h3>
                    <img src="../images/Internet.jpg" alt="">
                </article>
                <article>
                    <h2 id="cryptographie_moderne">La cryptographie moderne :</h2>
                    <img src="../images/cryptographie_moderne.png" alt="">
                    <div class="information">
                        <img src="../images/information.png" alt="Information" class="float_left">
                        <p>https://... &#8594; HTTP Secure</p>
                    </div>
                    <img src="../images/cryptographie_moderne_3.png" alt="">
                    <div class="information">
                        <img src="../images/information.png" alt="Information" class="float_left">
                        <p>Ce document provient bien de fgov.be.</p>
                        <p>Son contenu n'a pas été modifié.</p>
                        <p>Confidentialité : Personne ne peut lire les données pendant leur transmission.</p>
                    </div>
                    <img src="../images/cryptographie_moderne_1.png" alt="">
                    <div class="information">
                        <img src="../images/information.png" alt="Information" class="float_left">
                        <p>PKCS #1 SHA-1 - RSA</p>
                    </div>
                    <img src="../images/cryptographie_moderne_2.png" alt="">
                    <div class="information">
                        <img src="../images/information.png" alt="Information" class="float_left">
                        <p>Une norme cryptographique publique.</p>
                        <p>Tous les détails sur les opérations effectuées sont disponibles sur le web.</p>
                        <p>Ce caractère public ne limite-t-il pas d'une manière ou d'une autre la sécurité ?</p>
                    </div>
                    <h3>L'hypothèse de Kerckhoff :</h3>
                    <p>L'attaquant connaît tous les détails de l'algorithme.</p>
                    <p>Seule la clé est inconnue.</p>
                    <img src="../images/kerckhoff.PNG" alt="">
                </article>
                <article>
                    <h2 id="cryptage_symetrique">Cryptage symétrique :</h2>
                    <img src="../images/chiffrement_symetrique_1.PNG" alt="">
                    <p>Peut-on parvenir à un cryptage parfait ? Oui.</p>
                    <p>Shannon : one-time pad.</p>
                    <h3>One-time pad :</h3>
                    <img src="../images/one_time_pad.PNG" alt="">
                    <img src="../images/one_time_pad_1.PNG" alt="">
                    <img src="../images/one_time_pad_2.PNG" alt="">
                    <h3>Secret parfait :</h3>
                    <p>Peu importe :</p>
                    <ul>
                        <li>
                            <p>la puissance de calcul</p>
                        </li>
                        <li>
                            <p>la quantité de données interceptées</p>
                        </li>
                        <li>
                            <p>la technique utilisée</p>
                        </li>
                    </ul>
                    <p>Il est <span class="em">impossible</span> d'obtenir la <span class="em">moindre</span> information sur le message (sauf sa longueur).</p>
                    <p class="em">&#8594; Sécurité théorique de l'information.</p>
                    <p>Mais la clé doit être :</p>
                    <ul>
                        <li>
                            <p>vraiment aléatoire</p>
                        </li>
                        <li>
                            <p>utilisée une seule fois (longueur &gt; quantité totale de données)</p>
                        </li>
                        <li>
                            <p>échangé de manière totalement fiable</p>
                        </li>
                        <li>
                            <p>stocké dans un endroit parfaitement sûr</p>
                        </li>
                    </ul>
                    <p>&#8594; Impossible d'appliquer en pratique.</p>
                    <p>&#8594; Nous devrons baisser nos critères :</p>
                    <ul>
                        <li>
                            <p>Limiter la puissance de l'adversaire : <span class="em">sécurité informatique</span>.</p>
                        </li>
                        <li>
                            <p>Abaisser la définition de sécurité (par exemple : attaque possible, mais avec une très faible probabilité).</p>
                        </li>
                    </ul>
                    <h3>Définir un cryptage sécurisé :</h3>
                    <p>Si nous voulons avoir une chance de construire des systèmes sécurisés, nous devons au moins trouver une définition solide de la sécurité.</p>
                    <p>Pouvons-nous nous mettre d'accord sur une définition claire, formelle et sans ambiguïté ?</p>
                    <p>&#8594; Essayons.</p>
                    <h3>Comment pourrions-nous définir le chiffrement sécurisé ?</h3>
                    <ul>
                        <li>
                            <p>Étant donné un texte chiffré, aucun adversaire ne devrait être en mesure de récupérer la <span class="em">clé</span>.</p>
                        </li>
                        <li>
                            <p>Étant donné un texte chiffré, aucun adversaire ne devrait être en mesure de récupérer le <span class="em">texte en clair</span>.</p>
                        </li>
                        <li>
                            <p>Étant donné un texte chiffré, aucun adversaire ne devrait être capable de récupérer <span class="em">un caractère</span> du texte en clair.</p>
                        </li>
                        <li>
                            <p>Étant donné un texte chiffré, aucun adversaire ne devrait être en mesure de récupérer <span class="em">des informations</span> sur le texte en clair.</p>
                        </li>
                    </ul>
                    <h3>Jeu de chiffrement sécurisé : un exemple :</h3>
                    <ol>
                        <li>
                            <p>L'adversaire peut demander le cryptage de nombreux messages : m<sub>0</sub>, ..., m<sub>n</sub>.</p>
                        </li>
                        <li>
                            <p>L'adversaire construit alors deux messages : m'<sub>0</sub> et m'<sub>1</sub>.</p>
                        </li>
                        <li>
                            <p>L'un d'eux est choisi, crypté et restitué à l'adversaire.</p>
                        </li>
                        <li>
                            <p>Encore une fois, l'adversaire peut demander le cryptage de nombreux messages : m"<sub>0</sub>, ..., m"<sub>n</sub></p>
                        </li>
                        <li>
                            <p>L'adversaire devine lequel de m'<sub>0</sub> ou de m'<sub>1</sub> a été renvoyé.</p>
                        </li>
                    </ol>
                    <p>Un système est considéré comme sécurisé si nous pouvons prouver que :</p>
                    <ul>
                        <li>
                            <p>Il ne peut exister un tel adversaire avec une puissance de calcul "limitée" (avec une définition précise).</p>
                        </li>
                        <li>
                            <p>Réussir avec une probabilité non négligeable.</p>
                        </li>
                    </ul>
                    <p>Remarque : Ceci n'est qu'un exemple de définition de sécurité : de nombreuses variantes existent.</p>
                    <h3>Chiffrement probabiliste :</h3>
                    <p>Un adversaire ne devrait pas pouvoir dire quoi que ce soit sur la signification d'un message chiffré.</p>
                    <ul>
                        <li>
                            <p>Pas même le fait que le même message ait été observé auparavant !</p>
                        </li>
                    </ul>
                    <p>&#8594; Le cryptage doit donc être probabiliste.</p>
                    <ul>
                        <li>
                            <p>Le même message, chiffré plusieurs fois, avec la même clé, donne des <span class="em">textes chiffrés différents</span>.</p>
                        </li>
                    </ul>
                    <p>Le cryptage symétrique est basé sur une clé secrète partagée et permet :</p>
                    <ul>
                        <li>
                            <p>Transformation du texte brut en texte chiffré (<span class="em">chiffrement</span>)</p>
                        </li>
                        <li>
                            <p>Récupération du texte brut à partir du texte chiffré (<span class="em">déchiffrement</span>)</p>
                        </li>
                    </ul>
                    <p>L'adversaire ignorant la clé ne peut récupérer <span class="em">aucune</span> information sur le message (sauf sa taille).</p>
                    <p>Bien entendu, la même clé peut être utilisée pour transmettre un grand nombre de messages.</p>
                    <p>Schémas basés sur des <span class="em">chiffrements par blocs</span>.</p>
                    <p>(ou alternativement, des chiffrements de flux)</p>
                    <h3>Chiffrement par bloc (bloc ciphers) :</h3>
                    <p>Un composant d'un système de chiffrement symétrique :</p>
                    <ul>
                        <li>
                            <p>Paramètre avec une clé</p>
                        </li>
                        <li>
                            <p>Traite des blocs de données de taille fixe</p>
                        </li>
                    </ul>
                    <div>
                        <img src="../images/block_cipher.gif" alt="" class="float_right">
                        <p>Quelques exemples bien connus :</p>
                        <ul>
                            <li>
                                <p>DES (ancien)</p>
                            </li>
                            <li>
                                <p>AES</p>
                            </li>
                            <li>
                                <p>Twofish</p>
                            </li>
                            <li>
                                <p>Serpent</p>
                            </li>
                        </ul>
                    </div>
                    <h3>Exercices sur le chiffrement symétrique :</h3>
                    <h4>OpenSSL :</h4>
                    <blockquote cite="https://fr.wikipedia.org/wiki/OpenSSL">
                        <p>OpenSSL est une boîte à outils de chiffrement comportant deux bibliothèques, <span class="em">libcrypto</span> et <span class="em">libssl</span>, fournissant respectivement une implémentation des algorithmes cryptographiques et du protocole de communication SSL/TLS, ainsi qu'une interface en ligne de commande, <span class="em">openssl</span>. Développée en C, OpenSSL est disponible sur les principaux systèmes d'exploitation et dispose de nombreux wrappers ce qui la rend utilisable dans une grande variété de langages informatiques.</p>
                    </blockquote>
                    <ol>
                        <li>
                            <p>Commencez, au choix, par :</p>
                            <ul>
                                <li>
                                    <p><a href="https://medium.com/swlh/installing-openssl-on-windows-10-and-updating-path-80992e26f6a1" target="_blank">Installer OpenSSL sur votre PC</a>. Attention cependant : l'étape <q>in the User variables section, select Path and click Edit</q> n'est pas 100% claire : veillez bien à ajouter une nouvelle ligne au path.</p>
                                </li>
                                <li>
                                    <p>Alternativement,vous pouvez utiliser <a href="https://www.cryptool.org/en/cto/openssl/" target="_blank">un émulateur d'OpenSSL</a>.</p>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <p>Créez un fichier "texte_clair.txt" et écrivez-y un message, puis chiffrez-le au moyen de la commande (à taper en une ligne) :</p>
<pre><code>openssl enc -e -aes-128-ecb -in texte_clair.txt -out texte_chiffre.enc -K 0102030405060708090A0B0C0D0E0F00</code></pre>
                            <div class="important">
                                <img src="../images/important.png" alt="Important" class="float_left">
                                <p>La commande ci-dessus n'est PAS une bonne pratique, comme nous allons le voir.</p>
                            </div>
                            <ul>
                                <li>
                                    <p>À quoi correspondent les paramètres -e, -in, -out, -K ? (nous reviendrons sur -aes-128-ecb plus tard)</p>
                                    <ul>
                                        <li>
                                            <p><span class="em">-e</span> &#8594; <span class="em">encrypt</span> : chiffrement.</p>
                                        </li>
                                        <li>
                                            <p><span class="em">-in texte_clair.txt</span> : fichier d'entrée (texte clair).</p>
                                        </li>
                                        <li>
                                            <p><span class="em">-out texte_chiffre.enc</span> : fichier chiffré en sortie.</p>
                                        </li>
                                        <li>
                                            <p><span class="em">-K KEY</span> : clé <span class="em">en hexadécimal</span> donnée manuellement.</p>
                                        </li>
                                    </ul>
                                </li>
                                <li>
                                    <p>Quelle est la taille de clé utilisée ?</p>
                                    <p>La clé <span class="em">0102030405060708090A0B0C0D0E0F00</span> contient <span class="em">32 caractères hexadécimaux</span>, soit <span class="em">128 bits</span> (car 2 hex = 1 octet = 8 bits).</p>
                                    <p>Réponse : <span class="em">clé AES-128 bits</span>.</p>
                                </li>
                                <li>
                                    <p>Comment déchiffrer le fichier ainsi produit ?</p>
<pre><code>openssl enc -d -aes-128-ecb -in texte_chiffre.enc -out texte_dechiffre.txt -K 0102030405060708090A0B0C0D0E0F00</code></pre>
                                    <p>L'option <span class="em">-d</span> (<span class="em">decrypt</span>) permet de déchiffrer.</p>
                                </li>
                                <li>
                                    <p>Essayez de chiffrer/déchiffrer un fichier avec une clé de 256 bits.</p>
                                    <p>Il suffit d'utiliser AES-256-ECB pour chiffrer/déchiffrer :</p>
<pre><code>openssl enc -e -aes-256-ecb -in texte.txt -out texte.enc -K &lt;clé 64 hex&gt;</code></pre>
<pre><code>openssl enc -d -aes-256-ecb -in texte.enc -out texte_dechiffre.txt -K &lt;clé 64 hex&gt;</code></pre>
                                    <p>64 hex = <span class="em">256 bits</span>.</p>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <p>Chiffrez le texte suivant (attention à le copier exactement) :</p>
<pre><code>ANTICONSTITUTIONNELLEMENT EST LE PLUS LONG MOT DE LA LANGUE FRANCAISE, MAIS, QUAND ON Y REFLECHIT, CE MOT N'EST GUERE UTILISE QUE JUSTEMENT DANS CETTE PHRASE: &lt;ANTICONSTITUTIONNELLEMENT EST LE PLUS LONG MOT DE LA LANGUE FRANCAISE&gt;. C'EST UN PEU ABSURDE...</code></pre>
                            <ul>
                                <li>
                                    <p>Observez attentivement le fichier chiffré (ce sera sans doute plus aisé avec un éditeur hexadécimal, comme par exemple <a href="https://hexed.it/" target="_blank">https://hexed.it/</a>). Que constatez-vous ? Essayez de reproduire le phénomène avec d'autres textes.</p>
                                    <img src="../images/anticonstitutionnellement.png" alt="">
                                    <p>Les blocs identiques donnent <span class="em">des blocs chiffrés identiques</span>.</p>
                                    <p>Donc on voit des <span class="em">répétitions évidentes</span> dans l'hexadécimal.</p>
                                    <p>C'est une fuite d'information !</p>
                                </li>
                                <li>
                                    <p>Ceci est-il quelque chose que l'on attendrait d'un bon système de chiffrement ?</p>
                                    <p>ECB = <span class="em">pas sûr du tout</span>, car il n'utilise pas d'aléa.</p>
                                    <p>Ce n'est PAS ce qu'on attend d'un bon chiffrement.</p>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <p>Chiffrez plusieurs fois le même fichier avec la même clé, et comparez les résultats.</p>
                            <ul>
                                <li>
                                    <p>À nouveau, ceci est-il quelque chose que l'on peut attendre d'un bon système de chiffrement ?</p>
                                    <p>Le résultat sera strictement <span class="em">identique</span> à chaque fois.</p>
                                    <p>C'est une faille grave : un attaquant voit les répétitions.</p>
                                </li>
                            </ul>
                            <p>Ce constat va nous permettre d'introduire un concept très important en matière de <span class="em">block ciphers</span> : les modes d'opération.</p>
                        </li>
                    </ol>
                </article>
                <article>
                    <h2 id="modes_operation">Les modes d'opération :</h2>
                    <p>Les chiffrements par blocs fonctionnent par blocs.</p>
                    <img src="../images/block_ciphers_operate.PNG" alt="">
                    <ul>
                        <li>
                            <p>Les blocs de texte en clair donnent les mêmes blocs de texte chiffré.</p>
                        </li>
                        <li>
                            <p>La détection de patterns est possible.</p>
                        </li>
                    </ul>
                    <p>Nous ne pouvons pas accepter cela : la qualité du cryptage ne doit pas dépendre de la structure du texte en clair.</p>
                    <p>&#8594; <span class="em">Les modes d'opération</span> peuvent résoudre le problème.</p>
                    <h3>Image cryptée dans ECB :</h3>
                    <div>
                        <img src="../images/image_chiffree_ECB.jpg" alt="">
                        <img src="../images/image_chiffree_ECB_1.jpg" alt="" class="float_right">
                    </div>
                    <h3>Mode CBC :</h3>
                    <img src="../images/CBC_mode.PNG" alt="">
                    <h4>Comment décrypter ?</h4>
                    <img src="../images/CBC_mode_1.PNG" alt="">
                    <h3>IV :</h3>
                    <p>C'est un "paramètre de diversification", garantissant que les messages avec le même en-tête et ne génèrent pas le même texte chiffré.</p>
                    <p>Il est généralement transmis avec un texte chiffré.</p>
                    <p>&#8594; Il n'a pas besoin d'être secret.</p>
                    <p>Mais il doit changer à chaque fois et doit être imprévisible.</p>
                    <h3>Mode CTR :</h3>
                    <img src="../images/CTR_mode.PNG" alt="">
                    <h3>Chiffrement symétrique : résumé :</h3>
                    <p>Il assure la confidentialité des données sur la base d'une clé secrète partagée.</p>
                    <p>Il est défini par :</p>
                    <ul>
                        <li>
                            <p>Un chiffrement par bloc (AES, Twofish, Serpent, ... Mais <span class="em">pas</span> DES !)</p>
                        </li>
                        <li>
                            <p>Un mode d'opération (CBC, OFB, CFB, ... Mais <span class="em">pas</span> ECB !)</p>
                        </li>
                    </ul>
                    <p>Il utilise une norme et l'utilise exactement comme décrit.</p>
                    <h3>Exercices sur le chiffrement symétrique :</h3>
                    <h4>OpenSSL et les modes d'opérations :</h4>
                    <p>Tentez à nouveau de chiffrer différents fichiers, en utilisant cette fois un mode d'opération tel que AES-CBC ou AES-CTR.</p>
                    <p>Comment résoudre le message d'erreur "iv undefined" ?</p>
                    <p>Parce que CBC/CTR <span class="em">ont besoin d'un IV</span> (vecteur dinitialisation).</p>
                    <p>On doit donc ajouter :</p>
<pre><code>-iv &lt;IV en hex&gt;</code></pre>
                    <p>Par exemple :</p>
<pre><code>openssl enc -e -aes-128-cbc -in texte.txt -out texte.enc -K &lt;clé&gt; -iv 000102030405060708090A0B0C0D0E</code></pre>
                    <p>Les problèmes ci-dessus se manifestent-ils à nouveau ?</p>
                    <p>Non les problèmes précédents disparaissent.</p>
                    <p>CBC masque les répétitions grâce à l'IV.</p>
                    <p>CTR transforme AES en flux cryptographique.</p>
                    <p>&#8594; Les motifs ne réappareissent plus.</p>
                    <p>Que se passe-t-il si on chiffre plusieurs fois le même fichier avec la même clé et le même IV ? Lequel de ces paramètres doit-il impérativement changer à chaque nouveau chiffrement ?</p>
                    <p>On retrouve le <span class="em">même résultat</span>, comme en ECB.</p>
                    <p>&#9888; <span class="em">Interdit</span> en cryptographie.</p>
                    <p>Note : <a href="https://wiki.openssl.org/index.php/Enc" target="_blank">la documentation (imparfaite) relative au chiffrement symétrique sous openssl</a>.</p>
                    <p class="em">L'IV doit obligatoirement changer.</p>
                    <p>La clé peut être réutilisée (dans certaines limites), l'IV <span class="em">jamais</span>.</p>
                    <h4>Chiffrement symétrique pour le stockage de données : VeraCrypt :</h4>
                    <ol>
                        <li>
                            <p><a href="https://veracrypt.io/en/Home.html" target="_blank">Installez le logiciel VeraCrypt</a></p>
                        </li>
                        <li>
                            <p>Testez l'outil de benchmarking : quel est le débit du chiffrement AES sur votre machine ?</p>
                            <p>Cela dépend de ton CPU. Typiquement :</p>
                            <ul>
                                <li>
                                    <p>1 GB/s (anciens)</p>
                                </li>
                                <li>
                                    <p>3-5 GB/s (modernes Intel/AMD)</p>
                                </li>
                                <li>
                                    <p>8-10 GB/s (AES-NI)</p>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <p>Créez un volume chiffré ("encrypted file container, standard").</p>
                            <ul>
                                <li>
                                    <p>Pourquoi faut-il bouger la souris durant la création ?</p>
                                    <p>Pour récolter de l'<span class="em">entropie</span> (aléa) utilisée pour générer :</p>
                                    <ul>
                                        <li>
                                            <p>la clé maîtresse</p>
                                        </li>
                                        <li>
                                            <p>les algorithmes internes</p>
                                        </li>
                                    </ul>
                                    <p>Plus tu bouges, plus l'aléa est bon &#8594; meilleure sécurité.</p>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <p>Essayez de monter le volume, d'y ajouter des fichiers, de le démonter...</p>
                            <ul>
                                <li>
                                    <p>Pourquoi le montage est-il si lent, alors que les benchmarks sont excellents ?</p>
                                    <p>Parce que VeraCrypt doit :</p>
                                    <ul>
                                        <li>
                                            <p>dériver ta clé (fonction très lente de type PBKDF2)</p>
                                        </li>
                                        <li>
                                            <p>vérifier l'en-tête du volume</p>
                                        </li>
                                    </ul>
                                    <p>D'où la lenteur &#8594; c'est normal.</p>
                                </li>
                                <li>
                                    <p>Que se passe-t-il si le mot de passe est incorrect ?</p>
                                    <p>VéraCrypt <span class="em">prétend juste que le volume est invalide</span>.</p>
                                    <p>Il ne dit jamais "mauvais mot de passe". C'est volontaire pour ne donner aucune information à un attaquant.</p>
                                </li>
                            </ul>
                            <p>Un volume VeraCrypt doit-il obligatoirement porter l'extension <span class="em">.hc</span> ? Pourquoi ?</p>
                            <p>Non car un volume VeraCrtpt peut avoir :</p>
                            <ul>
                                <li>
                                    <p>.hc</p>
                                </li>
                                <li>
                                    <p>.dat</p>
                                </li>
                                <li>
                                    <p>.bin</p>
                                </li>
                                <li>
                                    <p>ou <span class="em">aucune extension</span></p>
                                </li>
                            </ul>
                            <p>L'extension sert juste pour l'utilisateur.</p>
                            <p>Que se passera-t-il si vous oubliez votre mot de passe ?</p>
                            <p class="em">&#8594; Perte définitive des données.</p>
                            <p>Il n'y a <span class="em">aucun moyen</span> de récupérer le volume.</p>
                        </li>
                    </ol>
                    <p>D'accord, alors...</p>
                    <p>Nous avons essentiellement résolu le problème de confidentialité, <span class="em">à condition que</span> les deux parties partagent une clé secrète.</p>
                    <p>Comment peuvent-elles obtenir un tel secret ?</p>
                    <p>Fondamentalement, il existe deux options :</p>
                    <ul>
                        <li>
                            <p>Trouver un moyen de le transmettre : <span class="em">le cryptage asymétrique</span>.</p>
                        </li>
                        <li>
                            <p>La construire ensemble : <span class="em">les protocoles d'accord de clé</span>.</p>
                        </li>
                    </ul>
                </article>
            <!-- fin de section -->
            </section>
        </main>
        <footer role="contentinfo">
            <div>
                <address>
                    Professeurs :
                    <a class="mail" href="mailto:olivier.choquet@vinci.be">Choquet Olivier</a>
                    <a class="mail" href="mailto:driss.vandenheede.techinfo@gmail.com">Vandenheede Driss</a>
                </address>
            </div>
            <div>
                <p>Si vous détectez une erreur, une faute d'orthographe, n'hésitez pas à envoyer un mail aux adresses juste à côté avec le nom de la page et l'erreur détectée.</p>
            </div>
            <div id="version">
                <p>Syllabus HTML</p>
                <p>Version 5.0</p>
            </div>
        </footer>
        <script src="../pre.js"></script>
    </body>
</html>